/**
 * Kendo UI v2025.3.1002 (http://www.telerik.com/kendo-ui)
 * Copyright 2025 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Kendo UI commercial licenses may be obtained at
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete
 * If you do not own a commercial license, this file shall be governed by the trial license terms.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("kendo.timeselector.js"),require("kendo.icons.js")):"function"==typeof define&&define.amd?define(["exports","kendo.timeselector.min","kendo.icons.min"],t):t(((e="undefined"!=typeof globalThis?globalThis:e||self).kendo=e.kendo||{},e.kendo._globals=e.kendo._globals||{},e.kendo._globals.Timedurationpicker={}))}(this,(function(e){!function(e,t){var a=window.kendo,n=a.ui,s=n.Widget,i=a.html,r=e.map,o=e.extend,l=a.mediaQuery,d="open",u="close",p="change",_="k-focus",c="aria-expanded",m="mouseenter"+(w=".kendoTimeDurationPicker")+" mouseleave"+w,v="k-disabled",h="aria-hidden",f="aria-disabled",g="aria-readonly",k="disabled",b="readonly",y="k-invalid",I="_",S=a.caret,P=a.keys,w=".kendoTimeDurationPicker";i=a.html;var x={hours:{name:"hours",format:"## hours",divider:36e5,min:0,max:23,step:1},minutes:{name:"minutes",format:"## mins",divider:6e4,min:0,max:59,step:1},seconds:{name:"seconds",format:"## sec",divider:1e3,min:0,max:59,step:1},milliseconds:{name:"milliseconds",format:"### msec",min:0,max:999,step:1},days:{format:"### days",name:"days",divider:864e5,min:0,max:365,step:1}};var M=s.extend({init:function(n,i){var d=this;var u;i=i||{},s.fn.init.call(d,n,i),d._columns=(u=i.columns,r(u,(function(e){var t=o(!0,{},x[(e="string"==typeof e?{name:e}:e).name],e);return t.selectorFormat="{0:"+"0".repeat(t.format.match(/#/g).length)+"}",t}))),d.options.columns=d._columns,d.options.readonly=i.readonly!==t?i.readonly:Boolean(d.element.attr("readonly")),d.options.enable=i.enable!==t?i.enable:!Boolean(d.element.is("[disabled]")||e(n).parents("fieldset").is(":disabled")),d.options.inputMode=i.inputMode||d.element.attr("inputmode")||"text",d.bigScreenMQL=l("large"),"auto"==d.options.adaptiveMode&&d.bigScreenMQL.onChange((()=>{d._timeSelector&&(d._timeSelector.popup&&d._timeSelector.popup.wrapper&&d._timeSelector.popup.wrapper.remove(),d._timeSelector.destroy(),d._timeSelector=null),d._popupView()})),d._wrapper(),d._button(),d._applyCssClasses(),d._input(),d._popupView(),d._buildMask(),d._validation(),d._editable({readonly:d.options.readonly,disable:!d.options.enable}),d._ariaLabel(d._timeSelector._listsContainer),d.options.value&&(d.value(i.value),d._old=d._maskedInput.val()),d._canUpdateLast=!0,a.notify(d)},options:{name:"TimeDurationPicker",columns:[],separator:",",shortcuts:[],value:null,adaptiveMode:"none",adaptiveTitle:null,adaptiveSubtitle:null,size:"medium",fillMode:"solid",rounded:"medium",messages:{set:"Set",cancel:"Cancel",days:"Days",hours:"Hours",minutes:"Minutes",milliseconds:"Milliseconds",seconds:"Seconds"}},events:[d,u,p],destroy:function(){var e=this;e.wrapper.off(w),e._maskedInput.off(w),e._timeSelector&&(e._timeSelector.destroy(),e._timeSelector=null),e.bigScreenMQL&&e.bigScreenMQL.destroy()},value:function(e){var a=this;if(e===t)return a._value;e="number"==typeof e?parseInt(e):null,a._value=e,a.element.val(a._value),a._timeSelector._value=a._value,a._updateValueFromTimeSelector()},_toggleHover:function(t){e(t.currentTarget).toggleClass("k-hover","mouseenter"===t.type)},_editable:function(e){var t=this,a=e.disable,n=e.readonly,s=t._maskedInput.add(t.element).off(w),i=t.wrapper.off(w);n||a?(i.addClass(a?v:"").removeClass(a?"":v),s.attr(k,a).attr(b,n).attr(f,a).attr(g,n)):(i.removeClass(v).on(m,t._toggleHover),s&&s.length&&(s.removeAttr(k),s.removeAttr(b)),s.attr(f,!1).attr(g,!1),t._attachHandlers())},readonly:function(e){this._editable({readonly:e===t||e,disable:!1})},enable:function(e){this._editable({readonly:!1,disable:!(e=e===t||e)})},_popupView:function(){var e=this;var t=e.options;e._timeSelector||(e._timeSelector=new a.ui.TimeSelector(e._maskedInput,{id:e.element.attr("id")+"_timeSelector",anchor:e.wrapper,adaptiveMode:t.adaptiveMode,adaptiveTitle:t.adaptiveTitle,adaptiveSubtitle:t.adaptiveSubtitle,columns:t.columns,shortcuts:t.shortcuts,value:t.value,size:"auto"!=t.adaptiveMode||e.bigScreenMQL.mediaQueryList.matches?t.size:"large",fillMode:t.fillMode,rounded:t.rounded,messages:t.messages,focus:function(){e._maskedInput.trigger("focus"),e._selectNearestSection(e._lastCaret||0)},close:function(t){e.trigger(u)?t.preventDefault():(e._maskedInput.attr(c,!1),e._timeSelector._listsContainer.attr(h,!0))},open:function(t){e.trigger(d)?t.preventDefault():(e._maskedInput.attr(c,!0),e._timeSelector._listsContainer.attr(h,!1),e._lastCaret=S(e._maskedInput)[0],e._lastCaret===e._maskedInput.val().length&&(e._lastCaret=0))},change:function(t){e._value=t,e._updateValueFromTimeSelector(),e._removeInvalidState(),e.trigger(p)}}))},_button:function(){var t,a=this,n=a.element,s=a.options;(t=n.next("button.k-input-button"))[0]||(t=e(i.renderButton('<button unselectable="on" tabindex="-1" class="k-input-button" aria-label="select"></button>',{icon:"clock-arrow-rotate",size:s.size,fillMode:s.fillMode,shape:"none",rounded:"none"})).insertAfter(n)),a._button=t.attr({role:"button"})},_buildMask:function(){var e=this.options.columns;var t;var a="";var n;var s=0;this._emtpyMask="",this._maskParts=[];for(var i=0;i<e.length;i++)n={},t=e[i].format,i&&(a=this.options.separator),a+=t.replace(/#/g,"_"),this._emtpyMask+=a,n.end=this._emtpyMask.length-1,n.mask=t.replace(/#/g,"_"),n.symbolsLength=n.mask.match(/_/g).length,n.start=this._emtpyMask.indexOf(n.mask,s),n.numberEnd=this._emtpyMask.lastIndexOf(I)+1,n.numberStart=this._emtpyMask.indexOf(I,n.start),s+=n.mask.length,this._maskParts.push(n);this._old=this._emtpyMask,this._maskedInput.val(this._emtpyMask)},_input:function(){var t=this;t._maskedInput=e("<input />").attr(a.attr("validate"),"false").attr({role:"combobox","aria-expanded":!1,"aria-controls":t.element.attr("id")+"_timeSelector",autocomplete:"off",inputmode:t.options}).addClass("k-input-inner").insertBefore(t.element);let n=t.options.inputMode;n&&t._maskedInput.attr("inputmode",n),t.element.hide()},_wrapper:function(){var e,t=this.element;(e=t.parents(".k-timedurationpicker"))[0]||(e=t.wrap("<span></span>").parent()),this.wrapper=e.addClass("k-timedurationpicker k-input")},_attachHandlers:function(){var e=this;e._maskedInput.on("keydown"+w,e._keydown.bind(e)).on("input"+w,e._inputHandler.bind(e)).on("focus"+w,e._focus.bind(e)).on("focusout"+w,e._focusout.bind(e)).on("paste"+w,e._paste.bind(e)).on("mousedown"+w,e._mouseDown.bind(e)).on("mouseup"+w,e._mouseUp.bind(e)),e.wrapper.on("click"+w,".k-input-button",e._click.bind(e))},_mouseDown:function(){this._mouseOnInput=!0},_mouseUp:function(){var e=S(this._maskedInput[0]);var t=this._maskedInput[0].value;e[0]===e[1]&&this._selectNearestSection(e[1]==t.length?t.length-1:e[1])},_triggerChange:function(){(this._lastValue==t&&this._value||this._lastValue!=this._value)&&(this._lastValue=this._value,this.trigger(p))},_focusout:function(){this._updateValueFromInput(),this._triggerChange(),this._canUpdateLast=!0,this.wrapper.removeClass(_)},_focus:function(){var e=this;e._mouseOnInput||setTimeout((function(){e._selectNearestSection(0)}),10),e._mouseOnInput=!1,e.wrapper.addClass(_)},_selectNearestSection:function(e){var t;for(var a=0;a<this._maskParts.length;a++)e>=(t=this._maskParts[a]).start&&e<=t.end&&S(this._maskedInput[0],t.numberStart,t.numberEnd)},_getPartValue:function(e,t){var a=this.options.separator;var n=e.indexOf(a,t);var s=e.lastIndexOf(a,t);return e.substring(s<0?0:s+1,n<0?e.length:n)},_getEmptyPart:function(e){return this._getPartValue(this._emtpyMask,e)},_fillParts:function(e){var t=this._emtpyMask.split(this.options.separator);var a;e+="";for(var n=0;n<t.length;n++)(a=t[n].match(/_/g).length)>e.length?t[n]=t[n].replace(I.repeat(a),"0".repeat(a-e.length)+e):(t[n]=t[n].replace(I.repeat(a),e.substring(0,a)),e=e.substring(a,a.length));return t.join(this.options.separator)},_clearParts:function(e,t,a){var n=e.split(this.options.separator);var s=0;var i;for(var r=0;r<n.length;r++)i=s+n[r].length,(s<=t&&i>=t||s<=a&&i>=a)&&(n[r]=this._getEmptyPart(s)),s+=n[r].length+1;return n.join(this.options.separator)},_updatePart:function(e,t){var n=this._getEmptyPart(this._old.indexOf(e));var s=e.substring(n.indexOf(I),n.lastIndexOf(I)+1);var i="{0:"+"0".repeat(s.length)+"}";return s.indexOf(I)>=0||"0"!==e[e.search(/[0-9]/)]||t.length>1?e.replace(s,a.format(i,parseInt(t))):e.replace(s,a.format(i,parseInt(s+t)))},_replacePart:function(e,t,a){return e.replace(this._getPartValue(e,a),t)},_click:function(){this._timeSelector&&this._timeSelector.toggle()},_switchPart:function(e){var a=this.options.separator;var n=e.caret!=t?e.caret:S(this._maskedInput[0])[0];var s=this._maskedInput.val();var i;e.next?(i=s.indexOf(a,n))<0?i=s.length-1:i++:(i=s.lastIndexOf(a,n))<0?i=0:i--,this._selectNearestSection(i)},_keydown:function(e){var t=e.keyCode;var a=this.options.separator;var n;var s;var i;var r;var o;if(this._backward=t===P.BACKSPACE,t==P.LEFT||t==P.RIGHT){if(e.preventDefault(),n=S(this._maskedInput[0])[0],r=(s=this._maskedInput.val()).indexOf(a,n),o=s.lastIndexOf(a,n),r<0&&t==P.RIGHT||o<0&&t==P.LEFT)return;i=t==P.LEFT?o-1:r+1,this._selectNearestSection(i),t==P.LEFT&&(this._canUpdateLast=!0)}else this._timeSelector.popup.visible()?this._timeSelector._scrollerKeyDownHandler(e):t==P.UP||t==P.DOWN?(e.preventDefault(),e.altKey&&this._timeSelector.toggle()):t==P.ENTER&&(this._updateValueFromInput(),this._triggerChange())},_updateValueFromTimeSelector:function(){var e=this;var t=function(e){var t;var a=Math.floor(e/864e5);t=e%864e5;var n=Math.floor(t/36e5);t=e%36e5;var s=Math.floor(t/6e4);return t=e%6e4,{days:a,hours:n,minutes:s,seconds:Math.floor(t/1e3),milliseconds:t=e%1e3}}(e._value);var a="";var n=this._columns[o];var s;var i;var r;for(var o=0;o<this._columns.length;o++)i=t[(n=this._columns[o]).name]+"",s=this._maskParts[o],o&&(a+=e.options.separator),t[n.name]?(r=s.symbolsLength-i.length,a+=s.mask.replace(I.repeat(s.symbolsLength),"0".repeat(r<0?0:r)+i)):a+=s.mask;e._maskedInput.val(a),e._old=a},_validation:function(){var t=this.element;this._validationIcon=e(a.ui.icon({icon:"exclamation-circle",iconClass:"k-input-validation-icon k-hidden"})).insertAfter(t)},_addInvalidState:function(){this.wrapper.addClass(y),this._validationIcon.removeClass("k-hidden")},_removeInvalidState:function(){this.wrapper.removeClass(y),this._validationIcon.addClass("k-hidden")},_updateValueFromInput:function(){var e=this._maskedInput.val();var t={};var n=!0;var s;var i;var r;for(var o=0;o<this._columns.length;o++){if(s=this._columns[o],i=this._maskParts[o],r=e.substring(i.numberStart,i.numberEnd).replace(/_/g,""),!((r=a.parseInt(r||0))>=s.min&&r<=s.max)){n=!1;break}t[s.name]=r}var l;n?(this._value=864e5*((l=t).days||0)+36e5*(l.hours||0)+6e4*(l.minutes||0)+1e3*(l.seconds||0)+(l.milliseconds||0),this.element.val(this._value||""),this._timeSelector._value=this._value,this._removeInvalidState()):this._addInvalidState()},_paste:function(e){var t;this._isPasted=!0,this._pasted=(e.clipboardData||e.originalEvent.clipboardData).getData("Text");var a=S(this._maskedInput);this._maskedInput.val().length!=a[1]||a[0]?(t=this._getEmptyPart(a[0]),this._pasted=this._pasted.substring(0,t.match(/_/g).length)):this._replaceEntire=!0},_inputHandler:function(){if(a._activeElement()===this._maskedInput[0]){var e=this;var t=e._old;var n=e.options.separator;var s=e._maskedInput[0].value;var i=S(e._maskedInput)[0];var r=t.length-s.length;var o;var l;var d;var u;var p;var _;var c;var m;var v;var h;var f;if(o=e._isPasted?e._pasted:s.substring(i-1,i),l=/\d/.test(o),e._isPasted&&e._replaceEntire&&l)return e._old=e._fillParts(parseInt(o)),e._maskedInput.val(e._old),e._selectNearestSection(0),void(e._isPasted=e._replaceEntire=!1);if(e._isPasted&&(r=0),e._isPasted=!1,o===n&&!e._backward)return e._maskedInput.val(e._old),void e._switchPart({caret:i,next:!0});if(!s&&e._backward)return e._old=e._emtpyMask,e._maskedInput.val(e._old),void e._selectNearestSection(i);if(!l&&!e._backward)return e._maskedInput.val(e._old),void e._selectNearestSection(i);if(!r||r>0){if(u=s.substring(i,s.length),v=(p=s.substring(0,i))+(_=e._emtpyMask.substring(p.length,t.indexOf(u)))+u,h=e._getPartValue(e._old,i),f=e._old.indexOf(n,e._old.indexOf(h)+1),e._backward){if(_.split(n).length>1)e._old=this._clearParts(v,i,i+_.length);else{if((c=this._getEmptyPart(i))==h)return e._maskedInput.val(e._old),void e._switchPart({caret:i});e._old=e._replacePart(v,c,i)}return e._maskedInput.val(e._old),void e._selectNearestSection(i)}if(f<0&&-1===h.indexOf(I)&&!e._canUpdateLast)return e._maskedInput.val(e._old),void e._selectNearestSection(i);l&&(m="0"===(d=e._updatePart(h,o))[d.search(/[0-9]/)],v=e._replacePart(v,d,i),e._maskedInput.val(v),f>0&&!m?e._selectNearestSection(f+1,!0):e._selectNearestSection(i),e._canUpdateLast=!(f<0&&!m)),e._old=v}else r<0&&(e._maskedInput.val(e._old),e._selectNearestSection(e._old.length-1))}}});a.cssProperties.registerPrefix("TimeDurationPicker","k-input-"),a.cssProperties.registerValues("TimeDurationPicker",[{prop:"rounded",values:a.cssProperties.roundedValues.concat([["full","full"]])}]),n.plugin(M)}(window.kendo.jQuery);var t=kendo;e.__meta__={id:"timedurationpicker",name:"TimeDurationPicker",category:"web",description:"The TimeDurationPicker widget allows the end user to select a time range stored in milliseconds.",docsCategory:"editors",depends:["timeselector"]},e.default=t,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=kendo.timedurationpicker.min.js.map
