/**
 * Kendo UI v2025.3.1002 (http://www.telerik.com/kendo-ui)
 * Copyright 2025 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Kendo UI commercial licenses may be obtained at
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete
 * If you do not own a commercial license, this file shall be governed by the trial license terms.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("kendo.core.js"),require("kendo.draganddrop.js"),require("kendo.resizable.js")):"function"==typeof define&&define.amd?define(["exports","kendo.core.min","kendo.draganddrop.min","kendo.resizable.min"],t):t(((e="undefined"!=typeof globalThis?globalThis:e||self).kendo=e.kendo||{},e.kendo._globals=e.kendo._globals||{},e.kendo._globals.Tilelayout={}))}(this,(function(e){!function(e){var t=window.kendo,r=t.ui,i=r.Widget,n=r.Draggable,o=t.keys,s=t.selectorFromClasses,a="resize",d="reorder",l=".kendoTileLayout",c="k-cursor-move";var p=i.extend({init:function(t,r){var n=this;i.fn.init.call(n,t,r),n.element=e(t).addClass(p.styles.wrapper).attr({role:"list"}),n._setWrapperStyles(),n._initContainers(),n._resizable(),n._navigatable(),n._reorderable(),n._showWatermarkOverlay&&n._showWatermarkOverlay(n.element[0])},events:[a,d],options:{name:"TileLayout",columns:null,gap:{columns:16,rows:16},containers:[],resizable:!1,reorderable:!1,navigatable:!1,columnsWidth:"1fr",rowsHeight:"1fr",height:"",width:""},destroy:function(){i.fn.destroy.call(this),this._draggableInstance&&(this.element.find(".k-tilelayout-item").each((function(){var t=e(this);t.data("kendoDropTarget")&&t.data("kendoDropTarget").destroy()})),this._draggableInstance.destroy(),this._draggableInstance=null),this.resizable&&(this.resizable.destroy(),this.resizable=null),this.resizeHandle&&(this.resizeHandle.off(l).remove(),this.resizeHandle=null),this.element.off(l)},setOptions:function(e){this.destroy(),t.deepExtend(this.options,e),this.element.empty(),this.init(this.element,this.options)},getOptions:function(){var r=e.extend(!0,{},this.options);return r.containers=t.deepExtend([],this.items),r},_initContainers:function(){var r=this;var i=r.options.containers;var n=r.element.children();var o=!!n.length;var s;var a;var d;var l;var h;var u;var m;if(r.items=[],r.itemsMap={},o)n.each((function(n,o){s=t.guid();var a=e(o).addClass(p.styles.item).attr({id:s,role:"listitem","aria-keyshortcuts":"Enter"});r._addContainer(a,i[n],n,s)}));else for(var v=0;v<i.length;v++){if(s=t.guid(),u=i[v],a=e("<div></div>").addClass(p.styles.item).attr({id:s,role:"listitem","aria-keyshortcuts":"Enter"}),(l=u.header)&&(l.template||l.text)&&(d=e("<div></div>").addClass(p.styles.itemHeader),r.options.reorderable&&d.addClass(c),m=l.text?"<div class='"+p.styles.itemHeaderTitle+"'>"+l.text+"</div>":null,d.append(m||t.template(l.template)({})),d.appendTo(a)),h=e("<div></div>").addClass(p.styles.itemBody),!u.bodyTemplate)throw new Error("Having a bodyTemplate for the container is mandatory");h.append(t.template(u.bodyTemplate)({})),h.appendTo(a),a.appendTo(r.element),r._addContainer(a,u,v,s)}},_addContainer:function(e,r,i,n){var o=this;r.order="number"==typeof r.order?r.order:i,e.attr(t.attr("index"),r.order),r.id=n,o._setContainerCoordinates(e,r),o.itemsMap[n]=r,o.items.push(o.itemsMap[n])},_setWrapperStyles:function(){var e=this.options;this.element.css({"grid-template-columns":t.format("repeat({0}, minmax(0, {1}))",e.columns,"string"==typeof e.columnsWidth?e.columnsWidth:e.columnsWidth+"px"),"grid-auto-rows":t.format("minmax(0, {0})","string"==typeof e.rowsHeight?e.rowsHeight:e.rowsHeight+"px"),"column-gap":e.gap.columns+"px",width:"string"==typeof e.width?e.width:e.width+"px",height:"string"==typeof e.height?e.height:e.height+"px",padding:e.gap.rows+"px "+e.gap.columns+"px ","row-gap":e.gap.rows+"px"})},_setContainerCoordinates:function(e,r){r&&e.css({order:r.order,"grid-column-end":t.format("span {0}",r.colSpan),"grid-row-end":t.format("span {0}",r.rowSpan)}).attr(t.attr("index"),r.order)},_updateContainers:function(){var e=this;for(var t=0;t<e.items.length;t++)e._setContainerCoordinates(e.element.find("#"+e.items[t].id),e.items[t])},_createResizeHandle:function(t,r,i){var n=this;n._isresizing||(n.resizeHandle&&n.resizeHandle.data("div")[0]!==t[0]&&(n.resizeHandle.off(l).remove(),n.resizeHandle=null),n.resizeHandle||(n.resizeHandle=e('<div class="k-resize-handle"></div>'),n.resizeHandle.appendTo(t)),n._positionResizeHandle(t,r,i))},_positionResizeHandle:function(e,r,i){var n=parseFloat(e.css("borderRightWidth"));var o=parseFloat(e.css("borderBottomWidth"));var s=e.height();var a=e.width();var d=i?s-6.5-o:0;var l=r?a-4.5-n:0;var c=9;var p=9;var h;r&&i?(p=c=25,d-=12.5,l-=12.5,h=t.support.isRtl(this.element)?"k-cursor-nesw-resize":"k-cursor-nwse-resize"):r&&!i?(p=s,h="k-cursor-ew-resize"):!r&&i&&(c=a,h="k-cursor-ns-resize"),this.resizeHandle.css({top:d,left:l,height:p,width:c}).attr("side",r).attr("down",i).removeClass("k-cursor-nesw-resize k-cursor-nwse-resize k-cursor-ew-resize k-cursor-ns-resize").addClass(h).data("div",e).show()},_createResizeHint:function(t){if(!this.hint){var r=t.css("grid-column-end");var i=t.css("grid-row-end");var n=t.css("order");this.hint=e("<div class='"+p.styles.resizeHint+"'></div>").css({order:n,"grid-column-end":r,"grid-row-end":i}).insertAfter(t)}},_removeResizeHint:function(){this._isresizing||this.hint&&(this.hint.remove(),this.hint=null)},_positionHint:function(e,r){e&&this.hint.css("grid-column-end",t.format("span {0}",e)),r&&this.hint.css("grid-row-end",t.format("span {0}",r))},_removeAbsoluteStyles:function(e){e.css("position",""),e.css("left",""),e.css("top",""),e.css("width",""),e.css("height",""),e.css("z-index","")},_positionAbsolutely:function(e){if("absolute"!=e.css("position")){var t=e.position();var r=e.outerWidth();var i=e.outerHeight();e.css("position","absolute"),e.css("left",t.left),e.css("top",t.top),e.css("width",r),e.css("height",i),e.css("z-index",2)}},_navigatable:function(){if(this.options.navigatable){var e=this;e.element.children().attr("tabindex",0),e.element.on("keydown"+l,e,e._keyDown.bind(e))}},_keyDown:function(t){var r=e(t.target);var i=!1;r.is(".k-tilelayout-item.k-card")&&(t.ctrlKey&&t.keyCode==o.LEFT&&(i=!0,this._resizeItem(r,"horizontal",-1)),t.ctrlKey&&t.keyCode==o.RIGHT&&(i=!0,this._resizeItem(r,"horizontal",1)),t.ctrlKey&&t.keyCode==o.UP&&(i=!0,this._resizeItem(r,"vertical",-1)),t.ctrlKey&&t.keyCode==o.DOWN&&(i=!0,this._resizeItem(r,"vertical",1)),t.shiftKey&&t.keyCode==o.LEFT&&(i=!0,this._reorderItem(r,-1)),t.shiftKey&&t.keyCode==o.RIGHT&&(i=!0,this._reorderItem(r,1)),i&&t.preventDefault())},_resizeItem:function(e,r,i){var n=this;var o=e.attr("id");var s;n.options.resizable&&("horizontal"===r?(s=parseInt(e.css("grid-column-end").replace("span",""),10)+i,n.element.css("grid-template-columns").split(" ").length>=s&&s>0&&(n.itemsMap[o].colSpan=s,e.css({"grid-column-end":t.format("span {0}",s)}),n.trigger(a,{container:e}))):(s=parseInt(e.css("grid-row-end").replace("span",""),10)+i,n.element.css("grid-template-rows").split(" ").length>=s&&s>0&&(n.itemsMap[o].rowSpan=s,e.css({"grid-row-end":t.format("span {0}",s)}),n.trigger(a,{container:e}))))},_reorderItem:function(e,r){if(this.options.reorderable){var i=parseInt(e.css("order"),10);var n=this.element.children().length;if((r=i+r)>=0&&r<n){var o=this.element.find("> ["+t.attr("index")+"='"+r+"']");this.itemsMap[e.attr("id")].order=r,this.itemsMap[o.attr("id")].order=i,this._updateContainers(),this._updateDOM(),e.trigger("focus"),this.trigger(d,{newIndex:r,oldIndex:i,container:e})}}},_sortContainers:function(r){var i=t.attr("index");return[].sort.call(r,(function(t,r){t=e(t),r=e(r);var n=t.attr(i);var o=r.attr(i);return void 0===n&&(n=e(t).index()),void 0===o&&(o=e(r).index()),(n=parseInt(n,10))>(o=parseInt(o,10))?1:n<o?-1:0}))},_updateDOM:function(){var t=this;var r=t.element.children(":visible");(r=t._sortContainers(r)).each((function(){e(this).appendTo(t.element)}))},_resizable:function(){var t=this;var i;var n;var o;var d;var c;var h;var u=0;var m=0;var v=0;var g=0;var f=0;var y=0;var _=0;var w;t.options.resizable&&(t.element.on("mousemove"+l,s(p.styles.item),(function(r){var i;var n;var o=e(this);var s=o[0].getBoundingClientRect();i=Math.abs(s.right-r.clientX)<16,n=Math.abs(s.bottom-r.clientY)<16,i&&n?t._createResizeHandle(o,!0,!0):i?t._createResizeHandle(o,!0,!1):n&&t._createResizeHandle(o,!1,!0)})),t.resizable=new r.Resizable(t.element,{handle:"div.k-tilelayout-item > .k-resize-handle",start:function(r){var s=e(r.currentTarget);h=s.data("div"),o=h.attr("id"),i=s.attr("side"),n=s.attr("down"),w=t.element.css("grid-template-rows").split(" ").length,i&&(d=t._calculateFractionWidth(),_=t._calculateRightEndSide(d),u=r.x.location,v=h.width(),f=parseInt(h.css("grid-column-end").replace("span",""),10)),n&&(c=(t.element[0].scrollHeight-(w+1)*t.options.gap.rows)/w,m=r.y.location,g=h.height(),y=parseInt(h.css("grid-row-end").replace("span",""),10)),t._isresizing=!0},resize:function(e){var r=0;var s=0;var a=0;var l=0;var p;var w;var H=0;var b=0;var z=0;var k=t.element[0].getBoundingClientRect();var x=!!t.element[0].style.height;t._positionAbsolutely(h),t._createResizeHint(h),"true"==i&&(a=e.x.location-u,p=k.left+_-window.scrollX-e.x.location<t.options.gap.columns,w=v+a<d,p||w?a=0:(z=a/(d+t.options.gap.columns),H=a-Math.floor(z)*(d+t.options.gap.columns),r=f+Math.floor(z)+(H>=d/2?1:0),t.itemsMap[o].colSpan=Math.max(r,1))),"true"==n&&(l=e.y.location-m,p=k.bottom+window.scrollY-e.y.location<t.options.gap.rows,(w=g+l<=c)||p&&x?l=0:(b=l/(c+t.options.gap.rows),H=l-Math.floor(b)*(c+t.options.gap.rows),s=y+Math.floor(b)+(H>=c/2?1:0),t.itemsMap[o].rowSpan=Math.max(s,1))),t._positionHint(r,s),t._positionResizeHandle(h,"true"==i,"true"==n),l&&h.css("height",g+l),a&&h.css("width",v+a)},resizeend:function(){t._isresizing=!1,t._setContainerCoordinates(h,t.itemsMap[o]),t._removeAbsoluteStyles(h),t._removeResizeHint(),t.trigger(a,{container:h})}}))},_calculateFractionWidth:function(){var e=this;var t=e.element.children().first();var r=e.itemsMap[t.attr("id")].colSpan;return(t.outerWidth()-(r-1)*e.options.gap.columns)/r},_calculateRightEndSide:function(e){var t=this.options.columns;var r=this.options.gap.columns;return t*(e+r)+r},_createDropHint:function(r){this.dropHint=e("<div class='"+p.styles.reorderHint+"'></div>").css({order:r.order,"grid-column-end":r.columnEnd,"grid-row-end":r.rowEnd}).attr(t.attr("index"),r.order).attr("direction",r.direction)},_insertDropHint:function(e,t){"right"==t?this.dropHint.insertAfter(e):this.dropHint.insertBefore(e)},_removeDropHint:function(){this.dropHint&&(this.dropHint.remove(),this.dropHint=null)},_reorderable:function(){if(this.options.reorderable){var r=this;var i=r.element;var o;var a=s(p.styles.item);var l=s(p.styles.itemHeader);var u=t.guid();this._draggableInstance=new n(this.element,{filter:l+",.k-layout-item-hint-reorder",autoScroll:!0,ignore:":input",group:u,clickMoveClick:!1!==this.options.reorderable.clickMoveClick,hint:function(e){var t=e.closest(a);var r=t.width();var i=t.height();var n=t.clone();return n.find(l).removeClass(c).addClass("k-cursor-grabbing"),n.width(r).height(i)},dragstart:function(t){o=e(t.currentTarget).closest(a),document.body.style.cursor="move"},drag:function(i){var n=t.elementUnderCursor(i);var s=i.sender.hint;var d;var l;var c;var u=r._draggableInstance.currentTarget.closest(a);var m;if(h(s[0],n)){if(s.hide(),n=t.elementUnderCursor(i),!h(o[0],n)){if(r.dropHint&&r.dropHint[0]==n[0])return void s.show();if((d=(d=e(n)).hasClass(p.styles.item)?d:d.closest(a)).hasClass(p.styles.item))if(l=d[0].getBoundingClientRect(),c=i.clientX-l.left>l.right-i.clientX?"right":"left",m=d.css("order"),r.dropHint&&r.dropHint.attr("direction")!==c){var v=r.dropHint.clone();v.css("order",m),r.dropHint.remove(),r.dropHint=v,r._insertDropHint(d,c),r.dropHint.attr("direction",c).attr(t.attr("index"),m)}else if(!r.dropHint){("right"==c?d.next():d.prev())[0]!=o[0]&&(r._createDropHint({order:m,columnEnd:u.css("grid-column-end"),rowEnd:u.css("grid-row-end"),direction:c}),o.hide(),r._insertDropHint(d,c))}}s.show()}},dragend:function(e){if(document.body.style.cursor="auto",!r.dropHint)return e.sender.hint.remove(),void r._removeDropHint();var i=parseInt(r.dropHint.css("order"),10);var n=e.currentTarget.closest(a);var o=r.element.find(a);var s=parseInt(n.css("order"),10);var l=n.attr("id");var c=r.element.children(":visible");var p;var h;var u;var m;i=(c=r._sortContainers(c)).index(r.dropHint[0]),h=Math.max(i,s),p=Math.min(i,s),r.itemsMap[l].order=i,"left"==(m=i>s?"right":"left")?h--:p++;for(var v=p;v<=h;v++)u=o.filter("["+t.attr("index")+"='"+v+"']"),r.itemsMap[u.attr("id")].order+="left"==m?1:-1;n.show(),r._updateContainers(),e.sender.hint.remove(),r._removeDropHint(),r.options.navigatable&&r._updateDOM(),r.trigger(d,{newIndex:i,oldIndex:s,container:n})},dragcancel:function(){document.body.style.cursor="auto",r._removeDropHint(),o&&o.show()}}),i.find(a).kendoDropTarget({group:u,dragenter:function(t){if(!r._isresizing){var i=e(t.dropTarget);var n=r._draggableInstance.currentTarget.closest(a);var s;var d;if(o[0]!=i[0]){if(s=i[0].getBoundingClientRect(),("right"==(d=t.clientX-s.left>s.right-t.clientX?"right":"left")?i.next():i.prev())[0]==o[0])return;r._removeDropHint(),o.hide(),r._createDropHint({order:i.css("order"),columnEnd:n.css("grid-column-end"),rowEnd:n.css("grid-row-end"),direction:d}),o.hide(),r._insertDropHint(i,d)}}}})}}});function h(t,r){try{return e.contains(t,r)||t==r}catch(e){return!1}}r.plugin(p),e.extend(!0,p,{styles:{wrapper:"k-tilelayout k-pos-relative",item:"k-tilelayout-item k-card",itemHeader:"k-tilelayout-item-header k-card-header",itemHeaderTitle:"k-card-title",itemBody:"k-tilelayout-item-body k-card-body",reorderHint:"k-layout-item-hint k-layout-item-hint-reorder",resizeHint:"k-layout-item-hint k-layout-item-hint-resize"}})}(window.kendo.jQuery);var t=kendo;e.__meta__={id:"tilelayout",name:"TileLayout",category:"web",depends:["core"],features:[{id:"tilelayout-resizable",name:"Resizable",description:"Support for resizing",depends:["resizable"]},{id:"tilelayout-reorderable",name:"Reorderable",description:"Support for reordering",depends:["draganddrop"]}]},e.default=t,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=kendo.tilelayout.min.js.map
