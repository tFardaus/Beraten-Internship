{"version":3,"sources":["raw-js/kendo.upload.js"],"names":["global","factory","exports","module","require","define","amd","globalThis","self","kendo","_globals","Upload","this","$","window","Widget","ui","antiForgeryTokens","logToConsole","rFileExtension","NS","SELECT","UPLOAD","SUCCESS","ERROR","COMPLETE","CANCEL","CLEAR","PAUSE","RESUME","PROGRESS","REMOVE","VALIDATIONERRORS","INVALIDMAXFILESIZE","INVALIDMINFILESIZE","INVALIDFILEEXTENSION","HOVER_STATE","FOCUS_STATE","PROGRESSBAR_CLASS","PROGRESSBAR_SELECTOR","TABINDEX","headerStatusIconName","extend","init","element","options","that","progressbars","fn","call","name","multiple","directory","localization","activeInput","wrapper","closest","length","_wrapInput","_activeInput","addClass","toggle","enabled","ns","_ns","guid","on","_onParentFormSubmit","bind","_onParentFormReset","_initUploadModule","_toggleDropZone","_onUploadButtonKeydown","_onFileAction","_onClearSelected","e","preventDefault","click","_onUploadSelected","_onKeyDown","_focusout","val","_onInputChange","target","events","showFileList","uniqueFileUids","template","files","async","autoRetryAfter","bufferChunkSize","maxAutoRetries","removeVerb","autoUpload","withCredentials","accept","useArrayBuffer","select","cancel","retry","remove","pause","resume","clearSelectedFiles","uploadSelectedFiles","dropFilesHere","invalidFiles","statusUploading","statusUploaded","statusWarning","statusFailed","headerStatusUploading","headerStatusPaused","headerStatusUploaded","uploadSuccess","uploadFail","invalidMaxFileSize","invalidMinFileSize","invalidFileExtension","validation","allowedExtensions","maxFileSize","minFileSize","dropZone","saveUrl","_module","_supportsFormData","formDataUploadModule","iframeUploadModule","_async","initialFiles","_renderInitialFiles","syncUploadModule","setOptions","off","attr","_supportsMultiple","enable","disable","toggleClass","prop","focus","find","trigger","destroy","customDropZone","document","add","forEach","progressbar","fileEntry","onPause","pauseIcon","htmlEncode","icon","parent","onResume","playIcon","upload","onSaveSelected","getFiles","filesData","allFiles","listItems","i","data","j","push","clearAllFiles","each","index","file","_removeFileByDomElement","removeAllFiles","removeFileByUid","uid","_removeFileByUid","clearFileByUid","shouldSendRemoveRequest","clearFile","callback","_removeFile","removeFile","fileData","hasClass","onCancel","onRemove","_hideHeaderUploadstatus","_updateHeaderUploadStatus","_addInput","sourceInput","nodeType","input","clone","insertAfter","prefix","removeAttr","_adjustFocusState","focusedItem","toFocus","removeClass","_arrowKeyNavigation","key","kendoKeys","keys","DOWN","stopPropagation","first","next","UP","prev","RIGHT","LEFT","_preventFocusRemove","_asyncCommandKeyNavigation","eventArgs","_retryClicked","ESC","_checkAllComplete","SPACEBAR","ENTER","is","chunkSize","concurrent","finish","show","metaData","prepareChunk","onRetry","_commandKeyNavigation","hasValidationErrors","_filesContainValidationErrors","headers","DELETE","TAB","commandKeys","keyCode","indexOf","assignGuidToFiles","_inputFiles","_isAsyncNonBatch","validateFiles","onSelect","last","_readDirectory","item","deferred","Deferred","dirReader","createReader","allFolderFiles","readEntries","entries","concat","resolve","reject","promise","_readFile","fullpath","fullPath","relativePath","slice","droppedFolderFiles","droppedFolderCounter","setTimeout","_proceedDroppedItems","_traverseFileTree","skipCounter","then","items","isFile","isDirectory","_onDrop","dt","originalEvent","dataTransfer","droppedFiles","stopEvent","directoryDrop","webkitGetAsEntry","entry","getAllFileInfo","splice","hasErrors","batch","idx","currentFile","_enqueueFile","fileNames","_supportsRemove","_fileAction","_prepareTemplateData","templateData","totalSize","size","_createProgressbarWapper","_createFileIconWrapper","fileTypeIcon","iconClass","_progressbarInit","kendoProgressBar","animation","showStatus","_prepareDefaultSingleFileEntryTemplate","fileSize","getTotalFilesSizeMessage","fileGroup","getFileGroup","extension","errors","isError","invalidClass","fileDetails","encodedFileName","_prepareDefaultMultipleFileEntriesTemplate","filesHaveValidationErrors","totalFileSize","sort","a","b","existingFileEntries","fileUid","fileList","removeEventArgs","progressbarSelector","isProgressbar","appendTo","hide","value","_removeFileEntry","_hideActionButtons","fileElement","actionKey","skipClear","iconsNameDictionary","firstActionButton","actionKeyText","hasOwnProperty","_clearFileAction","firstActionIcon","append","_renderAction","_fileState","stateKey","currentState","uploading","text","uploaded","failed","iconName","actionText","empty","button","_onFileProgress","percentComplete","progressBar","prepend","getFileEntry","_onUploadSuccess","response","xhr","fileInfo","operation","XMLHttpRequest","_setUploadErrorState","after","_hideUploadProgress","_onUploadError","responseText","_decreasePosition","_autoRetryAfter","retries","performUpload","uploadPercentage","_updateUploadProgress","fileMetaData","totalChunks","Math","round","delay","fadeOut","_showActionButtons","actionsWrapper","uploadButton","clearButton","html","renderButton","themeColor","_showHeaderUploadStatus","isUploading","headerUploadStatus","currentlyUploading","not","currentlyFailed","currentlyPaused","headerUploadStatusIcon","onAbort","windows","_userAgent","support","browser","opera","safari","_supportsDrop","userAgent","toLowerCase","test","navigator","_setupDropZone","dropEffect","bindDragEventWrappers","_bindDocumentDragEventWrappers","_setupCustomDropZone","removeUrl","_submitRemove","onSuccess","onError","removeField","params","jQuery","ajax","type","dataType","dataFilter","normalizeJSON","url","traditional","success","error","xhrFields","hasLabel","selectText","wrap","prependTo","tabindex","inputFiles","prototype","filesContainErrors","relatedInput","getFileName","iframes","_frameId","prepareUpload","saveField","iframe","form","createFrame","registerFrame","createForm","frame","fileValidation","cleanupFrame","unregisterFrame","body","dataInput","one","onIframeLoad","submit","started","isFileUploadStarted","contents","ex","processResponse","fakeXHR","tryParseJSON","jsonResult","statusText","status","stopFrameSubmit","removeUploadedFile","id","action","stop","execCommand","grep","position","cancelled","paused","map","join","$input","slashIndex","lastIndexOf","substr","getFileExtension","rawFiles","fileName","rawFile","matches","match","unique","validationInfo","extensions","ext","substring","parseAllowedExtensions","validateFileExtension","validateFileSize","validationErrors","inArray","toFixed","shouldRemoveFileEntry","textStatus","json","JSON","parse","namespace","onDragEnter","onDragLeave","hideInterval","lastDrag","Date","setInterval","clearInterval","sourceElement","fileEntries","enqueueFiles","filesLength","webkitRelativePath","formData","createFormData","createXHR","removeFileEntry","populateFormData","FileReader","postFormData","reader","onload","fileArrayBuffer","_appendBuffer","result","err","onerror","readAsArrayBuffer","_getCurrentChunk","buffer1","buffer2","tmp","Uint8Array","byteLength","set","buffer","filter","prevEntry","stopUploadRequest","_increaseChunkIndex","addEventListener","onRequestSuccess","onRequestError","onRequestProgress","open","setRequestHeader","send","FormData","chunk","serializedMetaData","stringify","raiseError","cleanupFileEntry","_resetChunkIndex","uploadComplete","isUploadButtonVisible","loaded","total","abort","chunkIndex","contentType","ceil","uploadUid","_decreaseChunkIndex","oldPosition","methodToInvoke","_getChunker","mozSlice","webkitSlice","plugin","kendo$1","__meta__","category","description","depends","default","Object","defineProperty"],"mappings":"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","file":"kendo.upload.min.js","sourcesContent":["(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('kendo.core.js'), require('kendo.progressbar.js'), require('kendo.icons.js'), require('kendo.html.button.js')) :\n    typeof define === 'function' && define.amd ? define(['exports', 'kendo.core', 'kendo.progressbar', 'kendo.icons', 'kendo.html.button'], factory) :\n    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory((global.kendo = global.kendo || {}, global.kendo._globals = global.kendo._globals || {}, global.kendo._globals.Upload = {})));\n})(this, (function (exports) {\n    const __meta__ = {\n        id: \"upload\",\n        name: \"Upload\",\n        category: \"web\",\n        description: \"The Upload widget uses progressive enhancement to deliver the best possible uploading experience to users.\",\n        depends: [\"core\", \"progressbar\", \"icons\", \"html.button\"]\n    };\n\n    (function($, undefined$1) {\n        var kendo = window.kendo,\n            Widget = kendo.ui.Widget,\n            antiForgeryTokens = kendo.antiForgeryTokens,\n            logToConsole = kendo.logToConsole,\n            rFileExtension = /\\.([^\\.]+)$/,\n            NS = \".kendoUpload\",\n            SELECT = \"select\",\n            UPLOAD = \"upload\",\n            SUCCESS = \"success\",\n            ERROR = \"error\",\n            COMPLETE = \"complete\",\n            CANCEL = \"cancel\",\n            CLEAR = \"clear\",\n            PAUSE = \"pause\",\n            RESUME = \"resume\",\n            PROGRESS = \"progress\",\n            REMOVE = \"remove\",\n            VALIDATIONERRORS = \"validationErrors\",\n            INVALIDMAXFILESIZE = \"invalidMaxFileSize\",\n            INVALIDMINFILESIZE = \"invalidMinFileSize\",\n            INVALIDFILEEXTENSION = \"invalidFileExtension\",\n            PROGRESSHIDEDELAY = 1000,\n            PROGRESSHIDEDURATION = 2000,\n            HOVER_STATE = \"k-hover\",\n            FOCUS_STATE = \"k-focus\",\n            PROGRESSBAR_CLASS = \"k-progressbar\",\n            PROGRESSBAR_SELECTOR = \".\" + PROGRESSBAR_CLASS,\n            PROGRESSBAR_TEMPLATE_SELECTOR = \".k-progress\",\n            TABINDEX = \"tabindex\",\n            WARNINGICON_SELECTOR = `.k-i-exclamation-circle,.k-svg-i-exclamation-circle`;\n\n        var headerStatusIconName = {\n            loading: \"upload\",\n            warning: \"exclamation-circle\",\n            success: \"check\"\n        };\n\n        var Upload = Widget.extend({\n            init: function(element, options) {\n                var that = this;\n                that.progressbars = [];\n\n                Widget.fn.init.call(that, element, options);\n\n                that.name = element.name;\n                that.multiple = that.options.multiple;\n                that.directory = that.options.directory;\n                that.localization = that.options.localization;\n\n                var activeInput = that.element;\n                that.wrapper = activeInput.closest(\".k-upload\");\n                if (that.wrapper.length === 0) {\n                    that.wrapper = that._wrapInput(activeInput);\n                }\n\n                that._activeInput(activeInput);\n                that.element.addClass(\"k-hidden\");\n                that.toggle(that.options.enabled);\n\n                var ns = that._ns = NS + \"-\" + kendo.guid();\n                activeInput.closest(\"form\")\n                    .on(\"submit\" + ns, that._onParentFormSubmit.bind(that))\n                    .on(\"reset\" + ns, that._onParentFormReset.bind(that));\n\n                that._initUploadModule();\n\n                that._toggleDropZone();\n\n                that.wrapper\n                    .on(\"keydown\", \".k-upload-button\", that._onUploadButtonKeydown.bind(that))\n                    .on(\"click\", \".k-upload-action\", that._onFileAction.bind(that))\n                    .on(\"click\", \".k-clear-selected\", that._onClearSelected.bind(that))\n                    .on(\"click\", \".k-upload-button\", function(e) {\n                        e.preventDefault();\n                        that.element.click();\n                    })\n                    .on(\"click\", \".k-upload-selected\", that._onUploadSelected.bind(that))\n                    .on(\"keydown\", that._onKeyDown.bind(that))\n                    .on(\"focusout\", that._focusout.bind(that));\n\n                if (that.element.val()) {\n                    that._onInputChange({ target: that.element });\n                }\n            },\n\n            events: [\n                SELECT,\n                UPLOAD,\n                SUCCESS,\n                ERROR,\n                COMPLETE,\n                CANCEL,\n                CLEAR,\n                PROGRESS,\n                REMOVE,\n                PAUSE,\n                RESUME\n            ],\n\n            options: {\n                name: \"Upload\",\n                enabled: true,\n                multiple: true,\n                directory: false,\n                showFileList: true,\n                uniqueFileUids: false,\n                template: \"\",\n                files: [],\n                async: {\n                    autoRetryAfter: 0,\n                    bufferChunkSize: 10000000,\n                    maxAutoRetries: 1,\n                    removeVerb: \"POST\",\n                    autoUpload: true,\n                    withCredentials: true,\n                    accept: \"*/*; q=0.5, application/json\",\n                    useArrayBuffer: false\n                },\n                localization: {\n                    \"select\": \"Select files...\",\n                    \"cancel\": \"Cancel\",\n                    \"retry\": \"Retry\",\n                    \"remove\": \"Remove\",\n                    \"pause\": \"Pause\",\n                    \"resume\": \"Resume\",\n                    \"clearSelectedFiles\": \"Clear\",\n                    \"uploadSelectedFiles\": \"Upload\",\n                    \"dropFilesHere\": \"Drop files here to upload\",\n                    \"invalidFiles\": \"Invalid file(s). Please check file upload requirements.\",\n                    \"statusUploading\": \"uploading\",\n                    \"statusUploaded\": \"uploaded\",\n                    \"statusWarning\": \"warning\",\n                    \"statusFailed\": \"failed\",\n                    \"headerStatusUploading\": \"Uploading...\",\n                    \"headerStatusPaused\": \"Paused\",\n                    \"headerStatusUploaded\": \"Done\",\n                    \"uploadSuccess\": \"File(s) uploaded successfully.\",\n                    \"uploadFail\": \"File(s) failed to upload.\",\n                    \"invalidMaxFileSize\": \"File size too large.\",\n                    \"invalidMinFileSize\": \"File size too small.\",\n                    \"invalidFileExtension\": \"File type not allowed.\"\n                },\n                validation: {\n                    allowedExtensions: [],\n                    maxFileSize: 0,\n                    minFileSize: 0\n                },\n                dropZone: \"\"\n            },\n\n            _initUploadModule: function() {\n                var that = this,\n                    options = that.options;\n\n                if (options.async.saveUrl) {\n                    that._module = that._supportsFormData() ?\n                    new formDataUploadModule(that) :\n                    new iframeUploadModule(that);\n                    that._async = true;\n\n                    var initialFiles = options.files;\n                    if (initialFiles.length > 0) {\n                        that._renderInitialFiles(initialFiles);\n                    }\n\n                } else {\n                    that._module = new syncUploadModule(that);\n                }\n            },\n\n            setOptions: function(options) {\n                var that = this,\n                    activeInput = that.element;\n\n                $(that.options.dropZone).off(that._ns);\n\n                Widget.fn.setOptions.call(that, options);\n\n                that.multiple = that.options.multiple;\n                that.directory = that.options.directory;\n\n                activeInput.attr(\"multiple\", that._supportsMultiple() ? that.multiple : false);\n                if (that.directory) {\n                    activeInput.attr(\"webkitdirectory\", that.directory);\n                    activeInput.attr(\"directory\", that.directory);\n                }\n                that.toggle(that.options.enabled);\n\n                that._initUploadModule();\n\n                that._toggleDropZone();\n            },\n\n            enable: function(enable) {\n                enable = typeof (enable) === \"undefined\" ? true : enable;\n                this.toggle(enable);\n            },\n\n            disable: function() {\n                this.toggle(false);\n            },\n\n            toggle: function(enable) {\n                enable = typeof (enable) === \"undefined\" ? enable : !enable;\n                this.wrapper.toggleClass(\"k-disabled\", enable);\n                this.element.prop(\"disabled\", enable);\n            },\n\n            focus: function() {\n                this.wrapper.find(\".k-upload-button\").trigger(\"focus\");\n            },\n\n            destroy: function() {\n                var that = this;\n                var customDropZone = $(that.options.dropZone);\n\n                $(document)\n                    .add($(\".k-dropzone\", that.wrapper))\n                    .add(that.wrapper.closest(\"form\"))\n                    .off(that._ns);\n\n                if (customDropZone.length > 0) {\n                    customDropZone.off(that._ns);\n                }\n\n                $(that.element).off(NS);\n\n                if (that.progressbars) {\n                    that.progressbars.forEach(progressbar => {\n                        progressbar.destroy();\n                    });\n                }\n                Widget.fn.destroy.call(that);\n            },\n            pause: function(fileEntry) {\n                this._module.onPause({ target: $(fileEntry, this.wrapper) });\n\n                var pauseIcon = fileEntry.find(\".k-i-pause-sm,.k-svg-i-pause-sm\");\n                var resume = kendo.htmlEncode(this.localization.resume);\n                kendo.ui.icon(pauseIcon, { icon: \"play-sm\" });\n                pauseIcon.attr(\"title\", resume);\n                $(pauseIcon).parent().attr(\"aria-label\", resume);\n            },\n            resume: function(fileEntry) {\n                this._module.onResume({ target: $(fileEntry, this.wrapper) });\n\n                var playIcon = fileEntry.find(\".k-i-play-sm,.k-svg-i-play-sm\");\n                var pause = kendo.htmlEncode(this.localization.pause);\n                kendo.ui.icon(playIcon, { icon: \"pause-sm\" });\n                playIcon.attr(\"title\", pause);\n                $(playIcon).parent().attr(\"aria-label\", pause);\n            },\n            upload: function() {\n                var that = this;\n\n                that._module.onSaveSelected();\n            },\n\n            getFiles: function() {\n                var that = this;\n                var filesData;\n                var allFiles = [];\n                var listItems = that.wrapper.find(\".k-file\");\n\n                for (var i = 0; i < listItems.length; i++) {\n                    filesData = $(listItems[i]).data(\"fileNames\");\n\n                    if (filesData) {\n                        for (var j = 0; j < filesData.length; j++) {\n                            allFiles.push(filesData[j]);\n                        }\n                    }\n                }\n\n                return allFiles;\n            },\n\n            clearAllFiles: function() {\n                var that = this;\n                var files = that.wrapper.find(\".k-file\");\n\n                files.each(function(index, file) {\n                    that._removeFileByDomElement(file, false);\n                });\n            },\n\n            removeAllFiles: function() {\n                var that = this;\n                var files = that.wrapper.find(\".k-file\");\n\n                files.each(function(index, file) {\n                    that._removeFileByDomElement(file, true);\n                });\n            },\n\n            removeFileByUid: function(uid) {\n                this._removeFileByUid(uid, true);\n            },\n\n            clearFileByUid: function(uid) {\n                this._removeFileByUid(uid, false);\n            },\n\n            _removeFileByUid: function(uid, shouldSendRemoveRequest) {\n                var that = this;\n                var fileEntry;\n\n                if (typeof uid !== 'string') { return; }\n\n                fileEntry = $('.k-file[' + kendo.attr('uid') + '=\"' + uid + '\"]', that.wrapper);\n\n                if (fileEntry.length > 0) {\n                    that._removeFileByDomElement(fileEntry, shouldSendRemoveRequest);\n                }\n            },\n\n            clearFile: function(callback) {\n                this._removeFile(callback, false);\n            },\n\n            removeFile: function(callback) {\n                this._removeFile(callback, true);\n            },\n\n            _removeFile: function(callback, shouldSendRemoveRequest) {\n                var that = this;\n                var files = that.wrapper.find(\".k-file\");\n                var fileData;\n\n                if (typeof callback === \"function\") {\n                    files.each(function(index, file) {\n                        fileData = $(file).data(\"fileNames\");\n\n                        if (callback(fileData)) {\n                            that._removeFileByDomElement(file, shouldSendRemoveRequest);\n                        }\n                    });\n                }\n            },\n\n            _removeFileByDomElement: function(fileEntry, shouldSendRemoveRequest) {\n                var that = this;\n                var fileData = {\n                    target: $(fileEntry, that.wrapper)\n                };\n                var allFiles;\n\n                if (that.options.async.saveUrl) {\n                    if ($(fileEntry).hasClass(\"k-file-progress\")) {\n                        that._module.onCancel(fileData);\n                    } else {\n                        that._module.onRemove(fileData, {}, shouldSendRemoveRequest);\n                    }\n\n                    allFiles = $(\".k-file\", that.wrapper);\n\n                    if (allFiles.length === 0) {\n                        that._hideHeaderUploadstatus();\n                    } else {\n                        that._updateHeaderUploadStatus();\n                    }\n                } else {\n                    that._module.onRemove(fileData, {}, shouldSendRemoveRequest);\n                }\n            },\n\n            _addInput: function(sourceInput) {\n                //check if source input is a DOM element. Required for some unit tests\n                if (!sourceInput[0].nodeType) {\n                    return;\n                }\n\n                var that = this,\n                    input = sourceInput.clone().val(\"\");\n\n                input\n                    .insertAfter(that.element)\n                    .data(\"kendo\" + that.options.prefix + that.options.name, that);\n\n                $(that.element)\n                    .attr(TABINDEX, \"-1\")\n                    .removeAttr(\"id\")\n                    .off(NS);\n\n                that._activeInput(input);\n                that.wrapper.find(\".k-upload-button\").trigger(\"focus\");\n            },\n\n            _activeInput: function(input) {\n                var that = this,\n                    wrapper = that.wrapper;\n\n                that.element = input;\n\n                if (that.directory) {\n                    input.attr(\"webkitdirectory\", that.directory);\n                    input.attr(\"directory\", that.directory);\n                }\n\n                input\n                    .attr(\"multiple\", that._supportsMultiple() ? that.multiple : false)\n                    .attr(\"autocomplete\", \"off\")\n                    .on(\"click\" + NS, function(e) {\n                        if (wrapper.hasClass(\"k-disabled\")) {\n                            e.preventDefault();\n                        }\n                    })\n                    .on(\"change\" + NS, that._onInputChange.bind(that));\n            },\n\n            _adjustFocusState: function(focusedItem, toFocus) {\n                focusedItem.removeClass(FOCUS_STATE);\n                focusedItem.attr(TABINDEX, -1);\n                toFocus.addClass(FOCUS_STATE);\n                toFocus.attr(TABINDEX, 0);\n            },\n\n            _arrowKeyNavigation: function(e, key, focusedItem) {\n                var that = this,\n                    kendoKeys = kendo.keys,\n                    toFocus;\n\n                if (key === kendoKeys.DOWN) {\n                    e.preventDefault();\n                    e.stopPropagation();\n\n                    toFocus = that.wrapper.find(\".k-upload-files .k-file\").first();\n\n                    if (focusedItem.length > 0) {\n                        if (focusedItem.hasClass(\"k-upload-action\")) {\n                            focusedItem.removeClass(FOCUS_STATE);\n                            focusedItem = focusedItem.closest(\".k-file\");\n                        }\n\n                        toFocus = focusedItem.next();\n                    }\n\n                    that._adjustFocusState(focusedItem, toFocus);\n\n                    if (!toFocus || toFocus.length === 0) {\n                        toFocus = that.wrapper.find(\".k-clear-selected\");\n                    }\n                } else if (key === kendoKeys.UP) {\n                    e.preventDefault();\n                    e.stopPropagation();\n\n                    toFocus = that.wrapper.find(\".k-upload-files .k-file:last\");\n\n                    if (focusedItem.length > 0) {\n                        if (focusedItem.hasClass(\"k-upload-action\")) {\n                            focusedItem.removeClass(FOCUS_STATE);\n                            focusedItem = focusedItem.closest(\".k-file\");\n                        }\n\n                        toFocus = focusedItem.prev();\n                    }\n\n                    that._adjustFocusState(focusedItem, toFocus);\n                } else if (key === kendoKeys.RIGHT) {\n                    if (focusedItem.hasClass(\"k-upload-action\")) {\n                        toFocus = focusedItem.next(\".k-upload-action\");\n\n                        if (!toFocus || toFocus.length === 0) {\n                            toFocus = focusedItem.parent().find(\".k-upload-action:first\");\n                        }\n                    } else if (focusedItem.length > 0) {\n                        toFocus = focusedItem.find(\".k-upload-action:first\");\n                    }\n\n                    if (toFocus && toFocus.length > 0) {\n                        focusedItem.removeClass(FOCUS_STATE);\n                        toFocus.addClass(FOCUS_STATE);\n                    }\n                } else if (key === kendoKeys.LEFT) {\n                    if (focusedItem.hasClass(\"k-upload-action\")) {\n                        toFocus = focusedItem.prev(\".k-upload-action\");\n\n                        if (!toFocus || toFocus.length === 0) {\n                            toFocus = focusedItem.parent().find(\".k-upload-action:last\");\n                        }\n                    } else if (focusedItem.length > 0) {\n                        toFocus = focusedItem.find(\".k-upload-action:last\");\n                    }\n\n                    if (toFocus && toFocus.length > 0) {\n                        focusedItem.removeClass(FOCUS_STATE);\n                        toFocus.addClass(FOCUS_STATE);\n                    }\n                }\n\n                if ((!toFocus || toFocus.length === 0) && (key === kendoKeys.UP || key === kendoKeys.DOWN)) {\n                    toFocus = that.wrapper.find(\".k-upload-button\");\n                }\n\n                if (toFocus && toFocus.length > 0) {\n                    that._preventFocusRemove = true;\n                    toFocus.trigger(\"focus\");\n                }\n            },\n\n            _asyncCommandKeyNavigation: function(key, focusedItem, eventArgs) {\n                var that = this,\n                    kendoKeys = kendo.keys,\n                    fileEntry = $(focusedItem, that.wrapper);\n\n                that._retryClicked = false;\n\n                if (key === kendoKeys.ESC && focusedItem.find(\".k-i-cancel,.k-svg-i-cancel\").length > 0) {\n                    that.trigger(CANCEL, eventArgs);\n                    that._module.onCancel({ target: fileEntry });\n                    that._checkAllComplete();\n                    that._updateHeaderUploadStatus();\n                    that._preventFocusRemove = true;\n                    that.wrapper.find(\".k-upload-button\").trigger(\"focus\");\n                } else if (key === kendoKeys.SPACEBAR) {\n                    if (focusedItem.find(\".k-i-pause-sm,.k-svg-i-pause-sm\").length > 0) {\n                        that.trigger(PAUSE, eventArgs);\n                        that.pause(focusedItem);\n                        that._updateHeaderUploadStatus();\n                    } else if (focusedItem.find(\".k-i-play-sm,.k-svg-i-play-sm\").length > 0) {\n                        that.trigger(RESUME, eventArgs);\n                        that.resume(focusedItem);\n                    }\n                } else if (key === kendoKeys.ENTER && !focusedItem.is(\".k-file-progress, .k-file-success, .k-file-invalid\")) {\n                    if (that.options.async.chunkSize && !that.options.async.concurrent && $('.k-file-progress', that.wrapper).length > 0) {\n                        return;\n                    }\n\n                    $(WARNINGICON_SELECTOR, focusedItem).remove();\n                    $(PROGRESSBAR_SELECTOR, focusedItem).finish().show();\n\n                    if (!that._module.metaData[fileEntry.data(\"uid\")]) {\n                        that._module.prepareChunk(fileEntry);\n                    }\n\n                    that._module.onRetry({ target: fileEntry });\n                    that._retryClicked = true;\n                }\n            },\n\n            _commandKeyNavigation: function(key, focusedItem) {\n                var that = this,\n                    kendoKeys = kendo.keys,\n                    files = focusedItem.data(\"fileNames\"),\n                    hasValidationErrors = that._filesContainValidationErrors(files),\n                    eventArgs = {\n                        files: files,\n                        headers: {}\n                    };\n\n                if (key === kendoKeys.DELETE) {\n                    if (!that.trigger(REMOVE, eventArgs)) {\n                        that._module.onRemove({ target: $(focusedItem, that.wrapper) }, eventArgs, !hasValidationErrors);\n                        that._preventFocusRemove = true;\n                        that.wrapper.find(\".k-upload-button\").trigger(\"focus\");\n                    }\n                } else if (key === kendoKeys.TAB) {\n                    focusedItem.removeClass(FOCUS_STATE);\n                    focusedItem.attr(TABINDEX, -1);\n                } else if (!!that.options.async.saveUrl) {\n                    that._asyncCommandKeyNavigation(key, focusedItem, eventArgs);\n                }\n            },\n\n            _focusout: function() {\n                var focusedItem = this.wrapper.find(\".k-upload-files .k-file.\" + FOCUS_STATE);\n\n                if (!this._preventFocusRemove) {\n                    focusedItem.removeClass(FOCUS_STATE);\n                    focusedItem.attr(TABINDEX, -1);\n                } else {\n                    this._preventFocusRemove = false;\n                }\n            },\n\n            _onKeyDown: function(e) {\n                var that = this,\n                    focusedItem = that.wrapper.find(\".k-upload-files .k-file.\" + FOCUS_STATE + \",\" + \".k-upload-action.\" + FOCUS_STATE),\n                    kendoKeys = kendo.keys,\n                    commandKeys = [kendoKeys.DELETE, kendoKeys.ESC, kendoKeys.ENTER, kendoKeys.SPACEBAR, kendoKeys.TAB],\n                    key = e.keyCode;\n\n                if (key === kendoKeys.DOWN || key === kendoKeys.UP || key === kendoKeys.LEFT || key === kendoKeys.RIGHT) {\n                    that._arrowKeyNavigation(e, key, focusedItem);\n                } else if (focusedItem.length > 0 && focusedItem.hasClass(\"k-file\") && commandKeys.indexOf(key) > -1 && !that.wrapper.hasClass(\"k-disabled\")) {\n                    if (key === kendoKeys.SPACEBAR) {\n                        e.preventDefault();\n                        e.stopPropagation();\n                    }\n\n                    that._commandKeyNavigation(key, focusedItem);\n                }\n            },\n\n            _onInputChange: function(e) {\n                var that = this;\n                var input = $(e.target);\n                var files = assignGuidToFiles(that._inputFiles(input), that._isAsyncNonBatch() || that.options.uniqueFileUids);\n\n                validateFiles(files, that.options.validation);\n\n                var prevented = that.trigger(SELECT, { files: files });\n                if (prevented) {\n                    that._addInput(input);\n                    input.remove();\n                } else {\n                    that._module.onSelect({ target: input }, files);\n                }\n                that.focus();\n            },\n\n            _onUploadButtonKeydown: function(e) {\n                var key = e.keyCode,\n                    kendoKeys = kendo.keys;\n\n                if (key === kendoKeys.ENTER || key === kendoKeys.SPACEBAR) {\n                    this.wrapper.find(\".k-upload-button-wrap input\").last().trigger(\"click\");\n                }\n            },\n\n            _readDirectory: function(item) {\n                var deferred = new $.Deferred();\n                var dirReader = item.createReader();\n                var allFolderFiles = [];\n\n                var readEntries = function() {\n                    dirReader.readEntries(function(entries) {\n                        if (!entries.length) {\n                            deferred.resolve(allFolderFiles);\n                        } else {\n                            allFolderFiles = allFolderFiles.concat(entries);\n                            readEntries();\n                        }\n                    }, deferred.reject);\n                };\n\n                readEntries();\n\n                 return deferred.promise();\n            },\n\n            _readFile: function(item) {\n                var that = this;\n                var fullpath = item.fullPath;\n\n                item.file(function(file) {\n                        file.relativePath = fullpath.slice(1);\n                        that.droppedFolderFiles.push(file);\n                        that.droppedFolderCounter --;\n                        if (that.droppedFolderCounter === 0) {\n                            setTimeout(function() {\n                                if (that.droppedFolderCounter === 0) {\n                                    if (that.droppedFolderFiles.length) {\n                                        that._proceedDroppedItems(that.droppedFolderFiles);\n                                        that.droppedFolderFiles = [];\n                                    }\n                                }\n                            },0);\n                        }\n                }, function() {\n                    logToConsole(\"File error.\");\n                });\n            },\n\n            _traverseFileTree: function(item, skipCounter) {\n                var that = this;\n                if (!skipCounter) {\n                    that.droppedFolderCounter--;\n                }\n\n                this._readDirectory(item).then(function(items) {\n                    that.droppedFolderCounter += items.length;\n                    for (var i = 0; i < items.length; i++) {\n                        if (items[i].isFile) {\n                            that._readFile(items[i]);\n                        } else if (items[i].isDirectory) {\n                            that._traverseFileTree(items[i]);\n                        }\n                    }\n                });\n            },\n\n            _onDrop: function(e) {\n                var dt = e.originalEvent.dataTransfer;\n                var that = this;\n                var droppedFiles = dt.files;\n                var length;\n\n                stopEvent(e);\n               if (that.options.directoryDrop && dt.items) {\n                    length = dt.items.length;\n                    that.droppedFolderCounter = 0;\n                    that.droppedFolderFiles = [];\n\n                    for (var i = 0; i < length; i++) {\n                        if (dt.items[i].webkitGetAsEntry) {\n                            var entry = dt.items[i].webkitGetAsEntry();\n\n                            if (entry.isDirectory) {\n                                that._traverseFileTree(entry, true);\n                            } else if (entry.isFile) {\n                                that.droppedFolderFiles.push(dt.files[i]);\n                            }\n                        } else {\n                             that._proceedDroppedItems(droppedFiles);\n                        }\n                    }\n               } else {\n                   that._proceedDroppedItems(droppedFiles);\n               }\n            },\n\n            _proceedDroppedItems: function(droppedFiles) {\n                var that = this;\n                var files = assignGuidToFiles(getAllFileInfo(droppedFiles), that._isAsyncNonBatch() || that.options.uniqueFileUids);\n\n                  if (droppedFiles.length > 0 && !that.wrapper.hasClass(\"k-disabled\")) {\n                    if (!that.multiple && files.length > 1) {\n                        files.splice(1, files.length - 1);\n                    }\n\n                    validateFiles(files, that.options.validation);\n\n                    var prevented = that.trigger(SELECT, { files: files });\n                    if (!prevented) {\n                        that._module.onSelect({ target: $(\".k-dropzone\", that.wrapper) }, files);\n                    }\n                }\n            },\n\n            _filesContainValidationErrors: function(files) {\n                var hasErrors = false;\n\n                $(files).each(function(index, file) {\n                    if (file[VALIDATIONERRORS] && file[VALIDATIONERRORS].length > 0) {\n                        hasErrors = true;\n                        return false;\n                    }\n                });\n\n                return hasErrors;\n            },\n\n            _isAsyncNonBatch: function() {\n                return (this._async && !this.options.async.batch) || false;\n            },\n\n            _renderInitialFiles: function(files) {\n                var that = this;\n                var idx = 0;\n                files = assignGuidToFiles(files, true);\n\n                for (idx = 0; idx < files.length; idx++) {\n                    var currentFile = files[idx];\n\n                    var fileEntry = that._enqueueFile(currentFile.name, { fileNames: [currentFile] });\n                    fileEntry.addClass(\"k-file-success\").data(\"files\", [files[idx]]);\n\n                    if (that._supportsRemove()) {\n                        that._fileAction(fileEntry, REMOVE);\n                    }\n                }\n            },\n\n            _prepareTemplateData: function(name, data) {\n                var filesData = data.fileNames,\n                    templateData = {},\n                    totalSize = 0,\n                    idx = 0;\n\n                for (idx = 0; idx < filesData.length; idx++) {\n                    totalSize += filesData[idx].size;\n                }\n\n                templateData.name = name;\n                templateData.size = totalSize;\n                templateData.files = data.fileNames;\n\n                return templateData;\n            },\n\n            _createProgressbarWapper: function() {\n                return \"<div class='\" + PROGRESSBAR_CLASS + \" k-hidden'></div>\";\n            },\n\n            _createFileIconWrapper: function(fileTypeIcon) {\n                return \"<span class='k-file-icon-wrapper'>\" +\n                    kendo.ui.icon({ icon: fileTypeIcon, iconClass: \"k-file-icon\", size: \"xxlarge\" }) +\n                    \"<span class='k-file-state'></span>\" +\n                    \"</span>\";\n            },\n\n            _progressbarInit: function(wrapper) {\n                let progressbar = wrapper.kendoProgressBar({\n                    animation: false,\n                    showStatus: false\n                }).data(\"kendoProgressBar\");\n                this.progressbars.push(progressbar);\n            },\n\n            _prepareDefaultSingleFileEntryTemplate: function(data) {\n                var that = this;\n                var file = data.fileNames[0];\n                var fileSize = getTotalFilesSizeMessage(data.fileNames);\n                var fileGroup = kendo.getFileGroup(file.extension, true);\n                var errors = file[VALIDATIONERRORS];\n                var isError = errors && errors.length > 0;\n                var invalidClass = isError ? \" k-file-invalid k-file-error\" : \"\";\n                var fileDetails = isError ?\n                        \"<span class='k-file-validation-message' aria-live='polite'>\" + kendo.htmlEncode(that.localization[errors[0]]) + \"</span>\" :\n                        \"<span class='k-file-size'>\" + fileSize + \"</span>\";\n                let encodedFileName = kendo.htmlEncode(file.name, true);\n                var template = \"\";\n\n                template += \"<li class='k-file\" + invalidClass + \"'><div class='k-file-single'>\" +\n                    this._createProgressbarWapper() +\n                    this._createFileIconWrapper(fileGroup) +\n                    \"<span class='k-file-info'>\" +\n                        \"<span class='k-file-name' title='\" + encodedFileName + \"'>\" + encodedFileName + \"</span>\" +\n                        fileDetails +\n                    \"</span>\";\n\n                template += \"<span class='k-upload-actions'></span></div>\";\n\n                return $(template);\n            },\n\n            _prepareDefaultMultipleFileEntriesTemplate: function(data) {\n                var that = this;\n                var files = data.fileNames;\n                var filesHaveValidationErrors = that._filesContainValidationErrors(files);\n                var totalFileSize = getTotalFilesSizeMessage(files);\n                var template = \"\";\n                var i, currentFile;\n                var invalidClass = filesHaveValidationErrors ? \" k-file-invalid k-file-error\" : \"\";\n\n                template += \"<li class='k-file\" + invalidClass + \"'><div class='k-file-multiple'>\" +\n                    this._createProgressbarWapper() +\n                    this._createFileIconWrapper(\"copy\");\n\n                files.sort(function(a, b) {\n                    if (a[VALIDATIONERRORS]) { return -1; }\n\n                    if (b[VALIDATIONERRORS]) { return 1; }\n\n                    return 0;\n                });\n\n                template += \"<span class='k-multiple-files-wrapper'>\";\n                for (i = 0; i < files.length; i++) {\n                    currentFile = files[i];\n                    var fileSize = getTotalFilesSizeMessage([currentFile]);\n                    let encodedFileName = kendo.htmlEncode(currentFile.name, true);\n\n                    template += \"<span class='k-file-info'>\";\n                    if (currentFile[VALIDATIONERRORS] && currentFile[VALIDATIONERRORS].length > 0) {\n                        template += \"<span class='k-file-name k-file-name-invalid' title='\" + encodedFileName + \"'>\" + encodedFileName + \"</span>\";\n                    } else {\n                        template += \"<span class='k-file-name' title='\" + encodedFileName + \"'>\" + encodedFileName + \"</span>\";\n                    }\n                    template += \"<span class='k-file-size'>\" + fileSize + \"</span></span>\";\n                }\n\n                if (filesHaveValidationErrors) {\n                    template += \"<span class='k-file-validation-message' aria-live='polite'>\" + kendo.htmlEncode(that.localization.invalidFiles) + \"</span>\";\n                } else {\n                    template += \"<span class='k-file-summary'>Total: \" + files.length + \" files, \" + totalFileSize + \"</span>\";\n                }\n\n                template += \"</span><span class='k-upload-actions'></span></div>\";\n\n                return $(template);\n            },\n\n            _enqueueFile: function(name, data) {\n                var that = this;\n                var existingFileEntries;\n                var fileEntry;\n                var fileUid = data.fileNames[0].uid;\n                var fileList = $(\".k-upload-files\", that.wrapper);\n                var options = that.options;\n                var template = options.template;\n                var templateData;\n                var removeEventArgs;\n                var progressbarSelector = template ? PROGRESSBAR_TEMPLATE_SELECTOR : PROGRESSBAR_SELECTOR;\n                var progressbar;\n                var isProgressbar;\n\n                if (fileList.length === 0) {\n                    fileList = $(\"<ul class='k-upload-files'></ul>\").appendTo(that.wrapper);\n                    if (!that.options.showFileList) {\n                        fileList.hide();\n                    }\n\n                    that.wrapper.removeClass(\"k-upload-empty\");\n                }\n\n                existingFileEntries = $(\".k-file\", fileList);\n\n                if (!template) {\n                    if (data.fileNames.length === 1) {\n                        fileEntry = that._prepareDefaultSingleFileEntryTemplate(data);\n                    } else {\n                        fileEntry = that._prepareDefaultMultipleFileEntriesTemplate(data);\n                    }\n                } else {\n                    templateData = that._prepareTemplateData(name, data);\n                    template = kendo.template(template);\n\n                    fileEntry = $(\"<li class='k-file'>\" + template(templateData) + \"</li>\");\n                    fileEntry.find(\".k-upload-action\").addClass(\"k-button k-icon-button k-button-md k-rounded-md k-button-flat k-button-flat-base\");\n                }\n\n                progressbar = $(progressbarSelector, fileEntry[0]);\n                isProgressbar = progressbar.length > 0;\n\n                if (isProgressbar) {\n                    that._progressbarInit(progressbar);\n                }\n\n                fileEntry\n                    .attr(kendo.attr(\"uid\"), fileUid)\n                    .appendTo(fileList)\n                    .data(data);\n\n                if (!that._async && isProgressbar) {\n                    progressbar.data(\"kendoProgressBar\").value(100);\n                }\n\n                if (!that.multiple && existingFileEntries.length > 0) {\n                    removeEventArgs = {\n                        files: existingFileEntries.data(\"fileNames\"),\n                        headers: {}\n                    };\n                    if (!that.trigger(REMOVE, removeEventArgs)) {\n                        that._module.onRemove({ target: $(existingFileEntries, that.wrapper) }, removeEventArgs);\n                    }\n                }\n\n                return fileEntry;\n            },\n\n            _removeFileEntry: function(fileEntry) {\n                var that = this;\n                var fileList = fileEntry.closest(\".k-upload-files\");\n                var allFiles, allCompletedFiles, allInvalidFiles;\n\n                fileEntry.remove();\n                allFiles = $(\".k-file\", fileList);\n                allCompletedFiles = $(\".k-file-success, .k-file-error\", fileList);\n\n                if (allCompletedFiles.length === allFiles.length) {\n                    this._hideActionButtons();\n                }\n\n                if (allFiles.length === 0) {\n                    fileList.remove();\n                    that.wrapper.addClass(\"k-upload-empty\");\n                    that._hideHeaderUploadstatus();\n                } else {\n                    that._updateHeaderUploadStatus();\n                }\n            },\n\n            _fileAction: function(fileElement, actionKey, skipClear) {\n                var iconsNameDictionary = { remove: \"x\", cancel: \"cancel\", retry: \"arrow-rotate-cw-small\", pause: \"pause-sm\" };\n                var firstActionButton;\n                let actionKeyText = kendo.htmlEncode(this.localization[actionKey]);\n\n                if (!iconsNameDictionary.hasOwnProperty(actionKey)) {\n                    return;\n                }\n                if (!skipClear) {\n                    this._clearFileAction(fileElement);\n                }\n                if (!this.options.template) {\n                    if (!skipClear) {\n                        fileElement.find(\".k-upload-action\").remove();\n                    }\n                    fileElement.find(\".k-upload-actions\").append(\n                        this._renderAction(iconsNameDictionary[actionKey], actionKeyText, actionKey == \"retry\" ? \"k-i-retry\" : \"\")\n                    );\n                } else {\n                    firstActionButton = fileElement.find(\".k-upload-action\").first();\n                    if (!firstActionButton.find(\".k-icon,.k-svg-icon\").length) {\n                        let firstActionIcon = kendo.ui.icon($(`<span title=\"${actionKeyText}\" aria-label=\"${actionKeyText}\"></span>`), {\n                            icon: iconsNameDictionary[actionKey],\n                            iconClass: \"k-button-icon\" + (actionKey == \"retry\" ? \" k-i-retry\" : \"\")\n                        });\n                        firstActionButton\n                            .addClass(\"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-icon-button\")\n                            .append(firstActionIcon)\n                            .show();\n                    } else if (firstActionButton.next(\".k-upload-action\").length) {\n                        let firstActionIcon = kendo.ui.icon($(`<span title=\"${actionKeyText}\" aria-label=\"${actionKeyText}\"></span>`), {\n                            icon: iconsNameDictionary[actionKey],\n                            iconClass: \"k-button-icon\" + (actionKey == \"retry\" ? \" k-i-retry\" : \"\")\n                        });\n                        firstActionButton.next(\".k-upload-action\")\n                            .addClass(\"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-icon-button\")\n                            .append(firstActionIcon)\n                            .show();\n                    }\n                }\n            },\n\n            _fileState: function(fileEntry, stateKey) {\n                var localization = this.localization,\n                    states = {\n                        uploading: {\n                            text: localization.statusUploading\n                        },\n                        uploaded: {\n                            text: localization.statusUploaded\n                        },\n                        failed: {\n                            text: localization.statusFailed\n                        }\n                    },\n                    currentState = states[stateKey];\n\n                if (currentState) {\n                    $(\"span.k-file-state\", fileEntry).text(kendo.htmlEncode(currentState.text));\n                }\n            },\n\n            _renderAction: function(iconName, actionText, iconClass) {\n                if (iconName !== \"\") {\n                    return $(\n                    \"<button type='button' class='k-button k-icon-button k-button-md k-rounded-md k-button-flat k-button-flat-base k-upload-action' aria-hidden='true' aria-label='\" + actionText + \"' tabindex='-1'>\" +\n                        kendo.ui.icon($(`<span title=\"${actionText}\"></span>`), { icon: iconName, iconClass: \"k-button-icon\" + (iconClass ? ` ${iconClass}` : \"\") }) +\n                    \"</button>\"\n                    ).on(\"focus\", function() { $(this).addClass(FOCUS_STATE); })\n                     .on(\"blur\", function() { $(this).removeClass(FOCUS_STATE); });\n                }\n                else {\n                    return $(\n                    \"<button type='button' class='k-button k-button-md k-rounded-md k-button-solid k-button-solid-base'>\" +\n                        '<span class=\"k-button-text\">' +\n                            actionText +\n                        '</span>' +\n                    \"</button>\"\n                    );\n                }\n            },\n\n            _clearFileAction: function(fileElement) {\n                $(\".k-upload-action\", fileElement).empty().hide();\n            },\n\n            _onFileAction: function(e) {\n                var that = this;\n                if (!that.wrapper.hasClass(\"k-disabled\")) {\n                    var button = $(e.target).closest(\".k-upload-action\");\n                    var icon = button.find(\".k-icon,.k-svg-icon\");\n                    var fileEntry = button.closest(\".k-file\");\n                    var files = fileEntry.data(\"fileNames\");\n                    var hasValidationErrors = that._filesContainValidationErrors(files);\n                    var eventArgs = {\n                        files: files,\n                        headers: {}\n                    };\n\n                    that._retryClicked = false;\n\n                    if (icon.is(\".k-i-x,.k-svg-i-x\")) {\n                        if (!that.trigger(REMOVE, eventArgs)) {\n                            that._module.onRemove({ target: $(fileEntry, that.wrapper) }, eventArgs, !hasValidationErrors);\n                            that.wrapper.find(\".k-upload-button\").trigger(\"focus\");\n                        }\n                    } else if (icon.is(\".k-i-cancel,.k-svg-i-cancel\")) {\n                        that.trigger(CANCEL, eventArgs);\n                        that._module.onCancel({ target: $(fileEntry, that.wrapper) });\n                        that._checkAllComplete();\n                        that._updateHeaderUploadStatus();\n                        that.wrapper.find(\".k-upload-button\").trigger(\"focus\");\n                    } else if (icon.is(\".k-i-pause-sm,.k-svg-i-pause-sm\")) {\n                        that.trigger(PAUSE, eventArgs);\n                        that.pause(fileEntry);\n                        that._updateHeaderUploadStatus();\n                    } else if (icon.is(\".k-i-play-sm,.k-svg-i-play-sm\")) {\n                        that.trigger(RESUME, eventArgs);\n                        that.resume(fileEntry);\n                    } else if (icon.hasClass(\"k-i-retry\")) {\n                        $(\".k-i-exclamation-circle\", fileEntry).remove();\n                        $(PROGRESSBAR_SELECTOR, fileEntry).finish().show();\n                        that._module.onRetry({ target: $(fileEntry, that.wrapper) });\n                        that._retryClicked = true;\n                    }\n\n                    fileEntry.addClass(FOCUS_STATE);\n                }\n\n                return false;\n            },\n\n            _onUploadSelected: function() {\n                var that = this;\n                var wrapper = that.wrapper;\n\n                if (!wrapper.hasClass(\"k-disabled\")) {\n                    this._module.onSaveSelected();\n                }\n\n                return false;\n            },\n\n            _onClearSelected: function() {\n                var that = this;\n                var wrapper = that.wrapper;\n\n                var clearEventArgs = { };\n                if (!wrapper.hasClass(\"k-disabled\") && !that.trigger(CLEAR, clearEventArgs)) {\n                    that.clearAllFiles();\n                }\n\n                return false;\n            },\n\n            _onFileProgress: function(e, percentComplete) {\n                var progressPct;\n                var progressBar = $(PROGRESSBAR_SELECTOR, e.target).data(\"kendoProgressBar\");\n\n                if (percentComplete > 100) {\n                    percentComplete = 100;\n                }\n\n                $(PROGRESSBAR_SELECTOR, e.target).removeClass('k-hidden');\n\n                if (!this.options.template) {\n                    progressPct = $(\".k-upload-pct\", e.target);\n\n                    if (progressPct.length === 0) {\n                        $(\".k-upload-actions\", e.target).prepend(\"<span class='k-upload-pct'></span>\");\n                    }\n\n                    if (percentComplete !== 100) {\n                        $(\".k-upload-pct\", e.target).text(percentComplete + \"%\");\n                    } else {\n                        $(\".k-upload-pct\", e.target).remove();\n                    }\n                }\n\n                if (progressBar) {\n                    progressBar.value(percentComplete);\n                }\n\n                this.trigger(PROGRESS, {\n                    files: getFileEntry(e).data(\"fileNames\"),\n                    percentComplete: percentComplete\n                });\n            },\n\n            _onUploadSuccess: function(e, response, xhr) {\n                var that = this;\n                var fileEntry = getFileEntry(e);\n                var files = fileEntry.data(\"fileNames\");\n                var fileInfo = fileEntry.find('.k-file-summary');\n                var fileSize = fileEntry.find('.k-file-size');\n\n                var prevented = that.trigger(SUCCESS, {\n                    files: fileEntry.data(\"fileNames\"),\n                    response: response,\n                    operation: \"upload\",\n                    XMLHttpRequest: xhr\n                });\n\n                if (prevented) {\n                    that._setUploadErrorState(fileEntry);\n                } else {\n                    that._fileState(fileEntry, \"uploaded\");\n                    fileEntry.removeClass('k-file-progress').addClass('k-file-success');\n\n                    if (fileInfo.length > 0) {\n                        fileInfo.addClass('k-hidden')\n                            .after('<span class=\"k-file-validation-message\" aria-live=\"polite\">' + files.length + ' ' + kendo.htmlEncode(that.localization.uploadSuccess) + '</span>');\n                    } else if (fileSize.length > 0) {\n                        fileSize.addClass('k-hidden')\n                            .after('<span class=\"k-file-validation-message\" aria-live=\"polite\">' + kendo.htmlEncode(that.localization.uploadSuccess) + '</span>');\n                    }\n\n                    that._updateHeaderUploadStatus();\n\n                    if (that._supportsRemove()) {\n                        that._fileAction(fileEntry, REMOVE);\n                    } else {\n                        that._clearFileAction(fileEntry);\n                    }\n                }\n\n                that._hideUploadProgress(fileEntry);\n\n                that._checkAllComplete();\n            },\n\n            _onUploadError: function(e, xhr) {\n                var that = this;\n                var module = that._module;\n                var fileEntry = getFileEntry(e);\n                var fileUid = fileEntry.data(\"uid\");\n\n                that._setUploadErrorState(fileEntry);\n\n                that.trigger(ERROR, {\n                    operation: \"upload\",\n                    files: fileEntry.data(\"fileNames\"),\n                    XMLHttpRequest: xhr\n                });\n\n                logToConsole(\"Server response: \" + xhr.responseText);\n\n                if (!that.options.async.chunkSize) {\n                    that._hideUploadProgress(fileEntry);\n                } else {\n                    if (module._decreasePosition) {\n                        module._decreasePosition(fileUid);\n                    }\n                }\n\n               that._checkAllComplete();\n\n                if (this.options.async.autoRetryAfter) {\n                   this._autoRetryAfter(fileEntry);\n                }\n            },\n            _autoRetryAfter: function(fileEntry) {\n                var that = this;\n                var retries = this._module.retries;\n\n                if (!retries) {\n                    return;\n                }\n\n                if (!retries[fileEntry.data(\"uid\")]) {\n                    retries[fileEntry.data(\"uid\")] = 1;\n                }\n\n                if (retries[fileEntry.data(\"uid\")] <= this.options.async.maxAutoRetries) {\n                    retries[fileEntry.data(\"uid\")]++;\n                    setTimeout(function() {\n                        that._module.performUpload(fileEntry);\n                    },this.options.async.autoRetryAfter);\n                }\n            },\n            _setUploadErrorState: function(fileEntry) {\n                var that = this,\n                    uploadPercentage,\n                    files = fileEntry.data(\"fileNames\"),\n                    fileInfo = fileEntry.find('.k-file-summary'),\n                    fileSize = fileEntry.find('.k-file-size');\n\n                that._fileState(fileEntry, \"failed\");\n                fileEntry.removeClass('k-file-progress').addClass('k-file-error');\n\n                if (fileInfo.length > 0) {\n                    fileInfo.addClass('k-hidden')\n                        .after('<span class=\"k-file-validation-message\" aria-live=\"polite\">' + files.length + ' ' + kendo.htmlEncode(that.localization.uploadFail) + '</span>');\n                } else if (fileSize.length > 0) {\n                    fileSize.addClass('k-hidden')\n                        .after('<span class=\"k-file-validation-message\" aria-live=\"polite\">' + kendo.htmlEncode(that.localization.uploadFail) + '</span>');\n                }\n\n                that._updateUploadProgress(fileEntry);\n\n                uploadPercentage = $('.k-upload-pct', fileEntry);\n\n                if (uploadPercentage.length > 0) {\n                    uploadPercentage.remove();\n                }\n\n                this._updateHeaderUploadStatus();\n                this._fileAction(fileEntry, \"retry\");\n                this._fileAction(fileEntry, REMOVE, true);\n\n                if (that._retryClicked) {\n                    fileEntry.trigger(\"focus\");\n                }\n            },\n\n           _updateUploadProgress: function(fileEntry) {\n                var that = this;\n                var progressbar = $( PROGRESSBAR_SELECTOR, fileEntry);\n                var isProgressbar = progressbar.length > 0;\n\n                if (!that.options.async.chunkSize && isProgressbar) {\n                    progressbar.data(\"kendoProgressBar\").value(100);\n                } else {\n                    var fileUid = fileEntry.data(\"uid\");\n                    if (that._module.metaData) {\n                        var fileMetaData = that._module.metaData[fileUid];\n\n                        if (fileMetaData) {\n                            var percentComplete = fileMetaData.totalChunks ? Math.round(((fileMetaData.chunkIndex) / fileMetaData.totalChunks) * 100) : 100;\n\n                            that._onFileProgress({ target: $(fileEntry, that.wrapper) }, percentComplete);\n                        }\n                    }\n                }\n            },\n\n            _hideUploadProgress: function(fileEntry) {\n                $(PROGRESSBAR_SELECTOR, fileEntry)\n                    .delay(PROGRESSHIDEDELAY)\n                    .fadeOut(PROGRESSHIDEDURATION, function() {\n                        if ($(this).data(\"kendoProgressBar\")) {\n                            $(this).data(\"kendoProgressBar\").value(0);\n                        }\n                    });\n            },\n\n            _showActionButtons: function() {\n                var that = this;\n                var actionsWrapper = $(\".k-actions\", that.wrapper);\n                var uploadButton = $(\".k-upload-selected\", that.wrapper);\n                var clearButton = $(\".k-clear-selected\", that.wrapper);\n\n                if (uploadButton.length === 0) {\n                    uploadButton = $(kendo.html.renderButton(`<button class='k-upload-selected'>${kendo.htmlEncode(this.localization.uploadSelectedFiles)}</button>`, {\n                            icon: 'upload',\n                            themeColor: 'primary'\n                        }));\n\n                    clearButton = $(kendo.html.renderButton(`<button class='k-clear-selected'>${kendo.htmlEncode(this.localization.clearSelectedFiles)}</button>`, {\n                        icon: 'x'\n                    }));\n\n                }\n\n                if (!actionsWrapper.length) {\n                    actionsWrapper = $(\"<div />\")\n                        .addClass(\"k-actions\")\n                        .append(uploadButton, clearButton);\n                }\n\n\n                this.wrapper.append(actionsWrapper);\n            },\n\n            _hideActionButtons: function() {\n                $(\".k-actions\", this.wrapper).remove();\n            },\n\n            _showHeaderUploadStatus: function(isUploading) {\n                var that = this;\n                var localization = that.localization;\n                var dropZone = $(\".k-dropzone\", that.wrapper);\n                var headerUploadStatus = $('.k-upload-status', that.wrapper);\n\n                if (headerUploadStatus.length !== 0) {\n                    headerUploadStatus.remove();\n                }\n\n                $('.k-dropzone-hint', that.wrapper).addClass('k-hidden');\n\n                headerUploadStatus = '<span class=\"k-upload-status\"><span class=\"k-icon\"></span></span>';\n\n                if (isUploading) {\n                    headerUploadStatus = $(headerUploadStatus).append(kendo.htmlEncode(localization.headerStatusUploading));\n                    kendo.ui.icon(headerUploadStatus.find(\".k-icon,.k-svg-icon\"), { icon: headerStatusIconName.loading });\n                } else {\n                    headerUploadStatus = $(headerUploadStatus).append(kendo.htmlEncode(localization.headerStatusUploaded));\n                    kendo.ui.icon(headerUploadStatus.find(\".k-icon,.k-svg-icon\"), { icon: headerStatusIconName.warning });\n                }\n\n                if (dropZone.length > 0) {\n                    dropZone.append(headerUploadStatus);\n                } else {\n                    $('.k-upload-button', that.wrapper).after(headerUploadStatus);\n                }\n            },\n\n            _updateHeaderUploadStatus: function() {\n                var that = this;\n                var headerUploadStatus = $('.k-upload-status', this.wrapper);\n                var currentlyUploading = $('.k-file', that.wrapper).not('.k-file-success, .k-file-error');\n                var currentlyFailed = $('.k-file-error', that.wrapper);\n                var currentlyPaused = $('.k-file', that.wrapper).find(\".k-i-play-sm,.k-svg-i-play-sm\");\n                var headerUploadStatusIcon;\n\n                if (currentlyPaused.length &&\n                (currentlyPaused.length === currentlyUploading.length || !that.options.async.concurrent)) {\n                    headerUploadStatusIcon = $('.k-icon,.k-svg-icon', headerUploadStatus).removeClass();\n\n                    if (headerUploadStatusIcon.length) {\n                        kendo.ui.icon(headerUploadStatusIcon, { icon: \"pause-sm\" });\n\n                        headerUploadStatus.html(headerUploadStatusIcon)\n                            .append(kendo.htmlEncode(that.localization.headerStatusPaused));\n                    }\n                } else if (currentlyUploading.length === 0 || currentlyFailed.length > 0) {\n                    headerUploadStatus = $('.k-upload-status', that.wrapper);\n                    headerUploadStatusIcon = $('.k-icon,.k-svg-icon', headerUploadStatus).removeClass();\n\n                    if (headerUploadStatusIcon.length) {\n\n                        kendo.ui.icon(headerUploadStatusIcon, { icon: currentlyFailed.length !== 0 ? headerStatusIconName.warning : headerStatusIconName.success });\n\n                        headerUploadStatus.html(headerUploadStatusIcon)\n                            .append(kendo.htmlEncode(that.localization.headerStatusUploaded));\n                    }\n                }\n            },\n\n            _hideHeaderUploadstatus: function() {\n                var that = this,\n                    dropZone = that.options.dropZone;\n\n                $('.k-upload-status', this.wrapper).remove();\n\n                if (dropZone === \"\") {\n                    $('.k-dropzone-hint', that.wrapper).removeClass('k-hidden');\n                }\n            },\n\n            _onParentFormSubmit: function() {\n                var upload = this,\n                    element = upload.element;\n\n                if (typeof this._module.onAbort !== 'undefined') {\n                    this._module.onAbort();\n                }\n\n                if (!element.value) {\n                    var input = $(element);\n\n                    // Prevent submitting an empty input\n                    input.attr(\"disabled\", \"disabled\");\n\n                    window.setTimeout(function() {\n                        // Restore the input so the Upload remains functional\n                        // in case the user cancels the form submit\n                        input.prop(\"disabled\", false);\n                    }, 0);\n                }\n            },\n\n            _onParentFormReset: function() {\n                $(\".k-upload-files\", this.wrapper).remove();\n            },\n\n            _supportsFormData: function() {\n                return typeof(FormData) != \"undefined\";\n            },\n\n            _supportsMultiple: function() {\n                var windows = this._userAgent().indexOf(\"Windows\") > -1;\n\n                return !kendo.support.browser.opera &&\n                       !(kendo.support.browser.safari && windows);\n            },\n\n            _supportsDrop: function() {\n                var userAgent = this._userAgent().toLowerCase();\n                var isChrome = /chrome/.test(userAgent);\n                var isSafari = !isChrome && /safari/.test(userAgent);\n                var isWindowsSafari = isSafari && /windows/.test(userAgent);\n\n                return !isWindowsSafari && this._supportsFormData() && (this.options.async.saveUrl);\n            },\n\n            _userAgent: function() {\n                return navigator.userAgent;\n            },\n\n            _setupDropZone: function() {\n                var that = this;\n\n                var ns = that._ns;\n                var dropZone = $(\".k-dropzone\", that.wrapper)\n\n                    .on(\"dragenter\" + ns, stopEvent)\n                    .on(\"dragover\" + ns, function(e) {\n                        if (e.originalEvent) {\n                            e.originalEvent.dataTransfer.dropEffect = \"copy\";\n                        }\n                        e.preventDefault();\n                     })\n                    .on(\"drop\" + ns, that._onDrop.bind(that));\n\n                if (!dropZone.find(\".k-dropzone-hint\").length) {\n                    dropZone.append($(\"<span class='k-dropzone-hint'>\" + kendo.htmlEncode(that.localization.dropFilesHere) + \"</span>\"));\n                }\n\n                bindDragEventWrappers(dropZone, ns,\n                    function() {\n                        if (!dropZone.closest('.k-upload').hasClass(\"k-disabled\")) {\n                            dropZone.addClass(HOVER_STATE);\n                        }\n                    },\n                    function() { dropZone.removeClass(HOVER_STATE); });\n\n                that._bindDocumentDragEventWrappers(dropZone);\n            },\n\n            _setupCustomDropZone: function() {\n                var that = this;\n                var dropZone = $(that.options.dropZone);\n\n                if (!that.wrapper.find(\".k-dropzone-hint\").length) {\n                    $(\".k-dropzone\", that.wrapper)\n                        .append($(\"<span class='k-dropzone-hint k-hidden'>\" + kendo.htmlEncode(that.localization.dropFilesHere) + \"</span>\"));\n                } else {\n                    // Dropzone hint in upload should be hidden if customDropZone is used\n                    $('.k-dropzone-hint', that.wrapper).addClass('k-hidden');\n                }\n\n                var ns = that._ns;\n                dropZone.on(\"dragenter\" + ns, stopEvent)\n                        .on(\"dragover\" + ns, function(e) {\n                            if (e.originalEvent) {\n                                e.originalEvent.dataTransfer.dropEffect = \"copy\";\n                            }\n                            e.preventDefault();\n                        })\n                        .on(\"drop\" + ns, that._onDrop.bind(that));\n\n                bindDragEventWrappers(dropZone, ns,\n                    function(e) {\n                        if (!that.wrapper.hasClass(\"k-disabled\")) {\n                            dropZone.removeClass(HOVER_STATE);\n                            dropZone.addClass(HOVER_STATE);\n                            $(e.target).addClass(HOVER_STATE);\n                        }\n                    },\n                    function() {\n                        dropZone.removeClass(HOVER_STATE);\n                    }\n                );\n\n                that._bindDocumentDragEventWrappers(dropZone);\n            },\n\n            _bindDocumentDragEventWrappers: function(dropZone) {\n                var that = this;\n                var ns = that._ns;\n\n                bindDragEventWrappers($(document), ns,\n                    function() {\n                        if (!that.wrapper.hasClass(\"k-disabled\")) {\n                            dropZone.addClass(\"k-dropzone-active\");\n                            dropZone.closest('.k-upload').removeClass('k-upload-empty');\n                            dropZone.find('.k-dropzone-hint').removeClass('k-hidden');\n                        }\n                    },\n                    function() {\n                        dropZone.removeClass(\"k-dropzone-active\");\n                        if ($('li.k-file', dropZone.closest('.k-upload')).length === 0) {\n                            dropZone.closest('.k-upload').addClass('k-upload-empty');\n                        }\n                    }\n                );\n            },\n\n            _toggleDropZone: function() {\n                var that = this,\n                    dropZone = that.options.dropZone;\n\n                if (!that._supportsDrop()) {\n                    return;\n                }\n\n                $(dropZone).off(that._ns);\n                $(\".k-dropzone\", that.wrapper).off(that._ns);\n\n                if (dropZone !== \"\") {\n                    that._setupCustomDropZone();\n                } else {\n                    that._setupDropZone();\n                }\n            },\n\n            _supportsRemove: function() {\n                return !!this.options.async.removeUrl;\n            },\n\n            _submitRemove: function(fileNames, eventArgs, onSuccess, onError) {\n                var upload = this,\n                    removeField = upload.options.async.removeField || \"fileNames\",\n                    params = $.extend(eventArgs.data, antiForgeryTokens());\n\n                params[removeField] = fileNames;\n\n                jQuery.ajax({\n                      type: this.options.async.removeVerb,\n                      dataType: \"json\",\n                      dataFilter: normalizeJSON,\n                      url: this.options.async.removeUrl,\n                      traditional: true,\n                      data: params,\n                      headers: eventArgs.headers,\n                      success: onSuccess,\n                      error: onError,\n                      xhrFields: {\n                        withCredentials: this.options.async.withCredentials\n                      }\n                });\n            },\n\n            _wrapInput: function(input) {\n                var that = this;\n                var options = that.options;\n                var hasLabel = !!input.attr(\"id\") && $(\"[for='\" + input.attr(\"id\") + \"']\").length > 0;\n                var selectText = kendo.htmlEncode(that.localization.select);\n                var uploadButton = $(\"<div class='k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-upload-button' tabindex='0' role='button'><span class='k-button-text'></span></div>\");\n\n                uploadButton.find('.k-button-text').text(selectText);\n\n                input.wrap(\"<div class='k-upload' role='application'><div class='k-dropzone k-upload-dropzone'><div class='k-upload-button-wrap'></div></div></div>\");\n                uploadButton.prependTo(input.parent());\n\n                if (!options.async.saveUrl) {\n                    input.closest(\".k-upload\").addClass(\"k-upload-sync\");\n                } else {\n                    input.closest(\".k-upload\").addClass(\"k-upload-async\");\n                }\n\n                input.closest(\".k-upload\").addClass(\"k-upload-empty\");\n\n                if (!hasLabel && !input.attr(\"aria-label\")) {\n                    input.attr(\"aria-label\", selectText);\n                }\n\n                input.attr({\n                    tabindex: -1,\n                    \"aria-hidden\": true\n                });\n\n                return input.closest(\".k-upload\");\n            },\n\n            _checkAllComplete: function() {\n                if ($(\".k-file.k-file-progress\", this.wrapper).length === 0) {\n                    this.trigger(COMPLETE);\n                }\n            },\n\n            _inputFiles: function(sourceInput) {\n                return inputFiles(sourceInput);\n            }\n        });\n\n        // Synchronous upload module\n        var syncUploadModule = function(upload) {\n            this.name = \"syncUploadModule\";\n            this.element = upload.wrapper;\n            this.upload = upload;\n            this.element\n                .closest(\"form\")\n                    .attr(\"enctype\", \"multipart/form-data\")\n                    .attr(\"encoding\", \"multipart/form-data\");\n        };\n\n        syncUploadModule.prototype = {\n            onSelect: function(e, files) {\n                var upload = this.upload;\n                var sourceInput = $(e.target);\n                var filesContainErrors = upload._filesContainValidationErrors(files);\n\n                upload._addInput(sourceInput);\n\n                var fileData = { \"fileNames\": files };\n\n                if (filesContainErrors) {\n                    sourceInput.remove();\n                } else {\n                    fileData.relatedInput = sourceInput;\n                }\n\n                var file = upload._enqueueFile(getFileName(sourceInput), fileData);\n\n                if (filesContainErrors) {\n                    upload._hideUploadProgress(file);\n                }\n\n                upload._fileAction(file, REMOVE);\n            },\n\n            onRemove: function(e) {\n                var fileEntry = getFileEntry(e);\n                var relatedInput = fileEntry.data(\"relatedInput\");\n\n                if (relatedInput) {\n                    relatedInput.remove();\n                }\n\n                this.upload._removeFileEntry(fileEntry);\n            }\n        };\n\n        var iframeUploadModule = function(upload) {\n            this.name = \"iframeUploadModule\";\n            this.element = upload.wrapper;\n            this.upload = upload;\n            this.iframes = [];\n        };\n\n        Upload._frameId = 0;\n\n        iframeUploadModule.prototype = {\n            onSelect: function(e, files) {\n                var upload = this.upload;\n                var sourceInput = $(e.target);\n                var hasValidationErrors = upload._filesContainValidationErrors(files);\n\n                var fileEntry = this.prepareUpload(sourceInput, files, hasValidationErrors);\n\n                if (upload.options.async.autoUpload) {\n                    if (!hasValidationErrors) {\n                        this.performUpload(fileEntry);\n                    } else {\n                        upload._fileAction(fileEntry, REMOVE);\n                        upload._showHeaderUploadStatus(false);\n                    }\n                } else {\n                    upload._fileAction(fileEntry, REMOVE);\n\n                    if (!hasValidationErrors) {\n                        upload._showActionButtons();\n                    } else {\n                        upload._updateHeaderUploadStatus();\n                    }\n                }\n\n                if (hasValidationErrors) {\n                    upload._hideUploadProgress(fileEntry);\n                }\n            },\n\n            prepareUpload: function(sourceInput, files, hasValidationErrors) {\n                var upload = this.upload;\n                var activeInput = $(upload.element);\n                var name = upload.options.async.saveField || sourceInput.attr(\"name\");\n                var fileEntry, fileData, iframe, form;\n\n                upload._addInput(sourceInput);\n                sourceInput.attr(\"name\", name);\n\n                if (!hasValidationErrors) {\n                    iframe = this.createFrame(upload.name + \"_\" + Upload._frameId++);\n                    this.registerFrame(iframe);\n\n                    form = this.createForm(upload.options.async.saveUrl, iframe.attr(\"name\"))\n                        .append(activeInput);\n\n                    fileData = { \"frame\": iframe, \"relatedInput\": activeInput, \"fileNames\": files };\n                } else {\n                    sourceInput.remove();\n\n                    fileData = { \"fileNames\": files };\n                }\n\n                fileEntry = upload._enqueueFile(getFileName(sourceInput), fileData);\n\n                if (iframe) {\n                    iframe.data({ \"form\": form, \"file\": fileEntry });\n                }\n\n                return fileEntry;\n            },\n\n            performUpload: function(fileEntry) {\n                var e = { files: fileEntry.data(\"fileNames\") };\n                var iframe = fileEntry.data(\"frame\");\n                var upload = this.upload;\n                var fileValidation = fileEntry.find('.k-file-validation-message');\n                var fileInfo = fileEntry.find('.k-file-summary');\n                var fileSize = fileEntry.find('.k-file-size');\n\n                if (!upload.trigger(UPLOAD, e)) {\n                    upload._hideActionButtons();\n                    upload._showHeaderUploadStatus(true);\n\n                    iframe.appendTo(document.body);\n\n                    var form = iframe.data(\"form\")\n                        .attr(\"action\", upload.options.async.saveUrl)\n                        .appendTo(document.body);\n\n                    e.data = $.extend({ }, e.data, antiForgeryTokens());\n                    for (var key in e.data) {\n                        var dataInput = form.find(\"input[name='\" + key + \"']\");\n                        if (dataInput.length === 0) {\n                            dataInput = $(\"<input>\", { type: \"hidden\", name: key })\n                                .prependTo(form);\n                        }\n                        dataInput.val(e.data[key]);\n                    }\n\n                    upload._fileAction(fileEntry, CANCEL);\n                    upload._fileState(fileEntry, \"uploading\");\n                    $(fileEntry).removeClass(\"k-file-error\").addClass(\"k-file-progress\");\n\n                    if (fileValidation.length > 0) {\n                        fileValidation.remove();\n                    }\n\n                    if (fileInfo.length > 0) {\n                        fileInfo.removeClass('k-hidden');\n                    } else if (fileSize.length > 0) {\n                        fileSize.removeClass('k-hidden');\n                    }\n\n                    iframe\n                        .one(\"load\", this.onIframeLoad.bind(this));\n\n                    form[0].submit();\n                } else {\n                    upload._removeFileEntry(iframe.data(\"file\"));\n                    this.cleanupFrame(iframe);\n                    this.unregisterFrame(iframe);\n                }\n            },\n\n            onSaveSelected: function() {\n                var module = this;\n                var upload = module.upload;\n\n                $(\".k-file\", this.element).each(function() {\n                    var fileEntry = $(this);\n                    var started = isFileUploadStarted(fileEntry);\n                    var hasValidationErrors = upload._filesContainValidationErrors(fileEntry.data(\"fileNames\"));\n\n                    if (!started && !hasValidationErrors) {\n                        module.performUpload(fileEntry);\n                    }\n                });\n            },\n\n            onIframeLoad: function(e) {\n                var iframe = $(e.target),\n                    responseText;\n\n                try {\n                    responseText = iframe.contents().text();\n                } catch (ex) {\n                    responseText = \"Error trying to get server response: \" + ex;\n                }\n\n                this.processResponse(iframe, responseText);\n            },\n\n            processResponse: function(iframe, responseText) {\n                var fileEntry = iframe.data(\"file\"),\n                    module = this,\n                    fakeXHR = {\n                        responseText: responseText\n                    };\n                tryParseJSON(responseText,\n                    function(jsonResult) {\n                        $.extend(fakeXHR, { statusText: \"OK\", status: \"200\" });\n                        module.upload._onFileProgress({ target: $(fileEntry, module.upload.wrapper) }, 100);\n                        module.upload._onUploadSuccess({ target: $(fileEntry, module.upload.wrapper) }, jsonResult, fakeXHR);\n\n                        module.cleanupFrame(iframe);\n                        module.unregisterFrame(iframe);\n                    },\n                    function() {\n                        $.extend(fakeXHR, { statusText: \"error\", status: \"500\" });\n                        module.upload._onUploadError({ target: $(fileEntry, module.upload.wrapper) }, fakeXHR);\n                    }\n                );\n            },\n\n            onCancel: function(e) {\n                var iframe = $(e.target).data(\"frame\");\n\n                this.stopFrameSubmit(iframe);\n                this.cleanupFrame(iframe);\n                this.unregisterFrame(iframe);\n                this.upload._removeFileEntry(iframe.data(\"file\"));\n            },\n\n            onRetry: function(e) {\n                var fileEntry = getFileEntry(e);\n                this.performUpload(fileEntry);\n            },\n\n            onRemove: function(e, eventArgs, shouldSendRemoveRequest) {\n                var module = this;\n                var upload = module.upload;\n                var fileEntry = getFileEntry(e);\n                var iframe = fileEntry.data(\"frame\");\n\n                if (iframe) {\n                    module.unregisterFrame(iframe);\n                    upload._removeFileEntry(fileEntry);\n                    module.cleanupFrame(iframe);\n                } else {\n                    if (fileEntry.hasClass(\"k-file-success\")) {\n                        removeUploadedFile(fileEntry, upload, eventArgs, shouldSendRemoveRequest);\n                    } else {\n                        upload._removeFileEntry(fileEntry);\n                    }\n                }\n            },\n\n            onAbort: function() {\n                var element = this.element,\n                    module = this;\n\n                $.each(this.iframes, function() {\n                    $(\"input\", this.data(\"form\")).appendTo(element);\n                    module.stopFrameSubmit(this[0]);\n                    this.data(\"form\").remove();\n                    this.remove();\n                });\n\n                this.iframes = [];\n            },\n\n            createFrame: function(id) {\n                return $(\n                    \"<iframe\" +\n                    \" name='\" + id + \"'\" +\n                    \" id='\" + id + \"'\" +\n                    \" />\"\n                ).hide();\n            },\n\n            createForm: function(action, target) {\n                return $(\n                    \"<form enctype='multipart/form-data' method='POST'\" +\n                    \" action='\" + action + \"'\" +\n                    \" target='\" + target + \"'\" +\n                    \"/>\");\n            },\n\n            stopFrameSubmit: function(frame) {\n                if (typeof(frame.stop) != \"undefined\") {\n                    frame.stop();\n                } else if (frame.document) {\n                    frame.document.execCommand(\"Stop\");\n                }\n            },\n\n            registerFrame: function(frame) {\n                this.iframes.push(frame);\n            },\n\n            unregisterFrame: function(frame) {\n                this.iframes = $.grep(this.iframes, function(value) {\n                    return value.attr(\"name\") != frame.attr(\"name\");\n                });\n            },\n\n            cleanupFrame: function(frame) {\n                var form = frame.data(\"form\");\n\n                frame.data(\"file\").data(\"frame\", null);\n\n                setTimeout(function() {\n                    form.remove();\n                    frame.remove();\n                }, 1);\n            }\n        };\n\n        // FormData upload module\n        var formDataUploadModule = function(upload) {\n            this.name = \"formDataUploadModule\";\n            this.element = upload.wrapper;\n            this.upload = upload;\n            this.position = {};\n            this.metaData = {};\n            this.cancelled = {};\n            this.resume = {};\n            this.paused = {};\n            this.retries = {};\n        };\n\n        formDataUploadModule.prototype = {\n            onSelect: function(e, files) {\n                var upload = this.upload;\n                var module = this;\n                var sourceElement = $(e.target);\n                var fileEntries = this.prepareUpload(sourceElement, files);\n                var hasValidationErrors;\n                var prev;\n\n                $.each(fileEntries, function(index) {\n                    hasValidationErrors = upload._filesContainValidationErrors($(this.data(\"fileNames\")));\n\n                    if (upload.options.async.autoUpload) {\n                        if (!hasValidationErrors) {\n                            if (upload.options.async.chunkSize) {\n                                module.prepareChunk(this);\n                                prev = this.prev();\n\n                                if (upload.options.async.concurrent || (index === 0 && !prev.length) ||\n                                 (index === 0 && prev.hasClass(\"k-file-success\"))) {\n                                    module.performUpload(this);\n                                }\n                            } else {\n                                module.performUpload(this);\n                            }\n                        } else {\n                            upload._fileAction(this, REMOVE);\n                            upload._showHeaderUploadStatus(false);\n                        }\n                    } else {\n                        upload._fileAction(this, REMOVE);\n\n                        if (!hasValidationErrors) {\n                            upload._showActionButtons();\n                            this.addClass(\"k-toupload\");\n                        } else {\n                            upload._updateHeaderUploadStatus();\n                        }\n                    }\n\n                    if (hasValidationErrors) {\n                        upload._hideUploadProgress(this);\n                    }\n                });\n            },\n\n            prepareUpload: function(sourceElement, files) {\n                var fileEntries = this.enqueueFiles(files);\n\n                if (sourceElement.is(\"input\")) {\n                    $.each(fileEntries, function() {\n                        $(this).data(\"relatedInput\", sourceElement);\n                    });\n                    sourceElement.data(\"relatedFileEntries\", fileEntries);\n                    this.upload._addInput(sourceElement);\n                }\n\n                return fileEntries;\n            },\n\n            enqueueFiles: function(files) {\n                var upload = this.upload;\n                var name;\n                var i;\n                var filesLength = files.length;\n                var currentFile;\n                var fileEntry;\n                var fileEntries = [];\n\n                if (upload.options.async.batch === true) {\n                    name = $.map(files, function(file) { return file.name; }).join(\", \");\n\n                    if (upload.directory || upload.options.directoryDrop) {\n                        $(files).each(function() {\n                            if (this.rawFile.webkitRelativePath || this.rawFile.relativePath) {\n                                this.name = this.rawFile.webkitRelativePath || this.rawFile.relativePath;\n                            }\n                        });\n                    }\n\n                    fileEntry = upload._enqueueFile(name, { fileNames: files });\n                    fileEntry.data(\"files\", files);\n\n                    fileEntries.push(fileEntry);\n                } else {\n                    for (i = 0; i < filesLength; i++) {\n                        currentFile = files[i];\n                        name = currentFile.name;\n                        if (upload.directory || upload.options.directoryDrop) {\n                            if (currentFile.rawFile.webkitRelativePath || currentFile.rawFile.relativePath) {\n                                currentFile.name = currentFile.rawFile.webkitRelativePath || currentFile.rawFile.relativePath;\n                            }\n                        }\n                        fileEntry = upload._enqueueFile(name, { fileNames: [currentFile] });\n                        fileEntry.data(\"files\", [currentFile]);\n\n                        fileEntries.push(fileEntry);\n                    }\n                }\n\n                return fileEntries;\n            },\n\n            performUpload: function(fileEntry) {\n                var upload = this.upload,\n                    formData = this.createFormData(),\n                    xhr = this.createXHR(),\n                    e = {\n                        files: fileEntry.data(\"fileNames\"),\n                        XMLHttpRequest: xhr\n                    },\n                    files;\n                var fileValidation = fileEntry.find('.k-file-validation-message');\n                var fileInfo = fileEntry.find('.k-file-summary');\n                var fileSize = fileEntry.find('.k-file-size');\n\n                if (!upload.trigger(UPLOAD, e)) {\n                    if (fileEntry.find(\".k-i-cancel,.k-svg-i-cancel\").length === 0) {\n                        if (upload.options.async.chunkSize) {\n                            upload._fileAction(fileEntry, PAUSE);\n                        }\n                        upload._fileAction(fileEntry, CANCEL, upload.options.async.chunkSize);\n                    }\n\n                    if (!upload.wrapper.find(\".k-toupload\").length) {\n                        upload._hideActionButtons();\n                    }\n\n                    upload._showHeaderUploadStatus(true);\n\n                    if (e.formData) {\n                        formData = e.formData;\n                    } else {\n                        e.data = $.extend({ }, e.data, antiForgeryTokens());\n                        for (var key in e.data) {\n                            formData.append(key, e.data[key]);\n                        }\n\n                        files = fileEntry.data(\"files\");\n                        if (files) {\n                            this.populateFormData(formData, files);\n                        }\n                    }\n\n                    upload._fileState(fileEntry, \"uploading\");\n                    $(fileEntry).removeClass(\"k-file-error\").addClass(\"k-file-progress\");\n\n                    if (fileValidation.length > 0) {\n                        fileValidation.remove();\n                    }\n\n                    if (fileInfo.length > 0) {\n                        fileInfo.removeClass('k-hidden');\n                    } else if (fileSize.length > 0) {\n                        fileSize.removeClass('k-hidden');\n                    }\n\n                    if (upload.options.async.useArrayBuffer && window.FileReader) {\n                        this._readFile(upload.options.async.saveUrl, formData, fileEntry, xhr);\n                    } else {\n                        this.postFormData(upload.options.async.saveUrl, formData, fileEntry, xhr);\n                    }\n                } else {\n                    this.removeFileEntry(fileEntry);\n                }\n            },\n\n            _readFile: function(saveUrl, formData, fileEntry, xhr) {\n                var that = this;\n                var upload = that.upload;\n                var file = fileEntry.data(\"files\")[0];\n\n                var reader = new FileReader();\n                reader.onload = function(e) {\n                    try {\n                        if (!that.fileArrayBuffer) {\n                            that.fileArrayBuffer = e.target.result;\n                        } else {\n                            that.fileArrayBuffer = that._appendBuffer(that.fileArrayBuffer, e.target.result);\n                        }\n                    } catch (err) {\n                        upload._onUploadError({ target: $(fileEntry, upload.wrapper) }, xhr);\n                        return;\n                    }\n\n                    if (that.position[file.uid] > file.size) {\n                        that.postFormData(upload.options.async.saveUrl, that.fileArrayBuffer, fileEntry, xhr);\n                        that.fileArrayBuffer = null;\n                    } else {\n                        that._readFile(saveUrl, formData, fileEntry, xhr);\n                    }\n                };\n                reader.onerror = function() {\n                    upload._onUploadError({ target: $(fileEntry, upload.wrapper) }, xhr);\n                };\n                reader.readAsArrayBuffer(that._getCurrentChunk(file.rawFile, file.uid));\n            },\n\n            _appendBuffer: function(buffer1, buffer2) {\n                var tmp = new Uint8Array(buffer1.byteLength + buffer2.byteLength);\n\n                tmp.set(new Uint8Array(buffer1), 0);\n                tmp.set(new Uint8Array(buffer2), buffer1.byteLength);\n\n                return tmp.buffer;\n            },\n\n            onSaveSelected: function() {\n                var module = this;\n                var upload = module.upload;\n\n                $(\".k-toupload\", this.element).filter(function() {\n                    var fileEntry = $(this);\n                    var started = isFileUploadStarted(fileEntry);\n                    var hasValidationErrors = upload._filesContainValidationErrors(fileEntry.data(\"fileNames\"));\n\n                    return !started && !hasValidationErrors;\n                }).each(function(index) {\n                    var fileEntry = $(this);\n                    var prevEntry = fileEntry.prev();\n\n                    fileEntry.removeClass(\"k-toupload\");\n                    if (upload.options.async.chunkSize) {\n                        module.prepareChunk(fileEntry);\n\n                        if (upload.options.async.concurrent || (index === 0 && !prevEntry.length) ||\n                            (index === 0 && prevEntry.hasClass(\"k-file-success\") || prevEntry.hasClass(\"k-file-error:not(k-file-invalid)\"))) {\n                            module.performUpload(fileEntry);\n                        }\n                    } else {\n                        module.performUpload(fileEntry);\n                    }\n                });\n            },\n\n            onCancel: function(e) {\n                var fileEntry = getFileEntry(e);\n\n                if (this.upload.options.async.chunkSize) {\n                    this.cancelled[fileEntry.data(\"uid\")] = true;\n                }\n                this.stopUploadRequest(fileEntry);\n                this.removeFileEntry(fileEntry);\n            },\n\n            onPause: function(e) {\n                var fileEntry = getFileEntry(e);\n                var fileUid = fileEntry.data(\"uid\");\n                var async = this.upload.options.async;\n\n                if (async.chunkSize) {\n                    this.retries[fileUid] = async.maxAutoRetries + 1;\n                    this.paused[fileUid] = true;\n                    this.resume[fileUid] = false;\n                }\n            },\n\n            onResume: function(e) {\n                var fileEntry = getFileEntry(e);\n                var fileUid = fileEntry.data(\"uid\");\n\n                if (this.upload.options.async.chunkSize) {\n                    delete this.paused[fileUid];\n                    this.resume[fileUid] = true;\n                    this.retries[fileEntry.data(\"uid\")] = 1;\n                    this._increaseChunkIndex(fileUid);\n                    this.performUpload(fileEntry);\n                }\n            },\n\n            onRetry: function(e) {\n                var fileEntry = getFileEntry(e);\n                var async = this.upload.options.async;\n\n                if (async.chunkSize) {\n                    this.retries[fileEntry.data(\"uid\")] = async.maxAutoRetries + 1;\n                    delete this.paused[fileEntry.data(\"uid\")];\n                }\n\n                this.performUpload(fileEntry);\n            },\n\n            onRemove: function(e, eventArgs, shouldSendRemoveRequest) {\n                var module = this;\n                var upload = module.upload;\n                var fileEntry = getFileEntry(e);\n                var async = this.upload.options.async;\n\n                if (async.chunkSize) {\n                    this.retries[fileEntry.data(\"uid\")] = async.maxAutoRetries + 1;\n                }\n\n                if (fileEntry.hasClass(\"k-file-success\")) {\n                    removeUploadedFile(fileEntry, upload, eventArgs, shouldSendRemoveRequest);\n                } else {\n                    module.removeFileEntry(fileEntry);\n                }\n            },\n\n            createXHR: function() {\n                return new XMLHttpRequest();\n            },\n\n            postFormData: function(url, data, fileEntry, xhr) {\n                var module = this;\n\n                fileEntry.data(\"request\", xhr);\n\n                xhr.addEventListener(\"load\", function(e) {\n                    module.onRequestSuccess.call(module, e, fileEntry);\n                }, false);\n\n                xhr.addEventListener(ERROR, function(e) {\n                    module.onRequestError.call(module, e, fileEntry);\n                }, false);\n\n                xhr.upload.addEventListener(\"progress\", function(e) {\n                    module.onRequestProgress.call(module, e, fileEntry);\n                }, false);\n\n                xhr.open(\"POST\", url, true);\n                xhr.withCredentials = this.upload.options.async.withCredentials;\n\n                var accept = this.upload.options.async.accept;\n                if (accept) {\n                    xhr.setRequestHeader(\"Accept\", accept);\n                }\n\n                xhr.send(data);\n            },\n\n            createFormData: function() {\n                return new FormData();\n            },\n\n            populateFormData: function(data, files) {\n                var chunk;\n                var i;\n                var length = files.length;\n                var uid;\n                var upload = this.upload;\n\n                if (upload.options.async.chunkSize) {\n                     uid = files[0].uid;\n                     chunk = this._getCurrentChunk(files[0].rawFile, uid);\n\n                    data.append(\n                        upload.options.async.saveField || upload.name,\n                        chunk\n                    );\n\n                    var serializedMetaData = JSON.stringify(this.metaData[uid]);\n                    data.append(\"metadata\", serializedMetaData);\n                } else {\n                     for (i = 0; i < length; i++) {\n                        data.append(\n                            upload.options.async.saveField || upload.name,\n                            files[i].rawFile\n                        );\n                     }\n                }\n\n                return data;\n            },\n\n            onRequestSuccess: function(e, fileEntry) {\n                var xhr = e.target,\n                    module = this;\n\n                function raiseError() {\n                    module.upload._onUploadError({ target: $(fileEntry, module.upload.wrapper) }, xhr);\n                }\n\n                function parseSuccess(jsonResult) {\n                    var batch = module.upload.options.async.batch;\n                    var chunkSize = module.upload.options.async.chunkSize;\n                    var concurrent = module.upload.options.async.concurrent;\n                    var fileUid = jsonResult.fileUid;\n\n                    if (module.paused[fileUid] || module.cancelled[fileUid]) {\n                        return;\n                    }\n\n                    delete module.retries[fileUid];\n\n                    if (chunkSize && !batch && !jsonResult.uploaded) {\n\n                        module._increaseChunkIndex(fileUid);\n                        module.performUpload(fileEntry);\n                    } else if (chunkSize && !batch && !concurrent && fileEntry.next().length && !fileEntry.next().hasClass(\"k-toupload\")) {\n                            module.upload._onFileProgress({ target: $(fileEntry, module.upload.wrapper) }, 100);\n                            module._resetChunkIndex(fileUid);\n                            module.upload._onUploadSuccess({ target: $(fileEntry, module.upload.wrapper) }, jsonResult, xhr);\n\n                            module.performUpload(fileEntry.next());\n                    } else {\n                        module.upload._onFileProgress({ target: $(fileEntry, module.upload.wrapper) }, 100);\n                        module.upload._onUploadSuccess({ target: $(fileEntry, module.upload.wrapper) }, jsonResult, xhr);\n                        module.cleanupFileEntry(fileEntry);\n                    }\n                }\n\n                if (xhr.status >= 200 && xhr.status <= 299) {\n                    tryParseJSON(xhr.responseText,\n                        parseSuccess,\n                        raiseError\n                    );\n                } else {\n                    raiseError();\n                }\n            },\n\n            onRequestError: function(e, fileEntry) {\n                var xhr = e.target;\n\n                this.upload._onUploadError({ target: $(fileEntry, this.upload.wrapper) }, xhr);\n            },\n\n            cleanupFileEntry: function(fileEntry) {\n                var relatedInput = fileEntry.data(\"relatedInput\"),\n                    uploadComplete = true;\n\n                if (relatedInput) {\n                    $.each(relatedInput.data(\"relatedFileEntries\") || [], function() {\n                        // Exclude removed file entries and self\n                        if (this.parent().length > 0 && this[0] != fileEntry[0]) {\n                            uploadComplete = uploadComplete && this.hasClass(\"k-file-success\");\n                        }\n                    });\n\n                    if (uploadComplete) {\n                        relatedInput.remove();\n                    }\n                }\n            },\n\n            removeFileEntry: function(fileEntry) {\n                var chunkSize = this.upload.options.async.chunkSize;\n                var concurrent = this.upload.options.async.concurrent;\n                var isUploadButtonVisible = this.upload.wrapper.find(\".k-upload-selected\").length > 0;\n\n                this.cleanupFileEntry(fileEntry);\n                if (chunkSize && !concurrent && !isUploadButtonVisible) {\n                     if (fileEntry.next().length) {\n                         this.performUpload(fileEntry.next());\n                     }\n                }\n                this.upload._removeFileEntry(fileEntry);\n            },\n\n            onRequestProgress: function(e, fileEntry) {\n                var percentComplete = Math.round(e.loaded * 100 / e.total);\n                var fileUid = fileEntry.data(\"uid\");\n                var fileMetaData;\n\n                if (this.upload.options.async.chunkSize) {\n                    fileMetaData = this.metaData[fileUid];\n                    percentComplete = fileMetaData && fileMetaData.totalChunks ? Math.round(((fileMetaData.chunkIndex) / fileMetaData.totalChunks) * 100) : 100;\n                }\n                this.upload._onFileProgress({ target: $(fileEntry, this.upload.wrapper) }, percentComplete);\n            },\n\n            stopUploadRequest: function(fileEntry) {\n                if (fileEntry.data(\"request\")) {\n                    fileEntry.data(\"request\").abort();\n                }\n            },\n\n            prepareChunk: function(fileEntry) {\n                var file = fileEntry.data(\"files\")[0];\n                var rawFile = file.rawFile;\n                var uid = file.uid;\n                var chunkSize = this.upload.options.async.chunkSize;\n                this.position[uid] = 0;\n\n                this.metaData[uid] = {\n                    chunkIndex: 0,\n                    contentType: rawFile.type,\n                    fileName: rawFile.name,\n                    relativePath: file.name,\n                    totalFileSize: rawFile.size,\n                    totalChunks: Math.ceil(rawFile.size / chunkSize),\n                    uploadUid: uid\n                };\n            },\n\n            _decreaseChunkIndex: function(uid) {\n                this.metaData[uid].chunkIndex--;\n            },\n\n            _increaseChunkIndex: function(uid) {\n                this.metaData[uid].chunkIndex++;\n            },\n\n            _resetChunkIndex: function(uid) {\n                this.metaData[uid].chunkIndex = 0;\n            },\n\n            _decreasePosition: function(uid) {\n                this.position[uid] -= this.upload.options.async.chunkSize;\n            },\n\n            _getCurrentChunk: function(file, uid) {\n                var oldPosition = this.position[uid];\n                var methodToInvoke;\n                var async = this.upload.options.async;\n                var chunkSize = async.chunkSize || async.bufferChunkSize;\n\n                if (!this.position[uid]) {\n                    this.position[uid] = 0;\n                }\n                this.position[uid] += chunkSize;\n\n                if (!!(methodToInvoke = this._getChunker(file))) {\n                    return file[methodToInvoke](oldPosition, this.position[uid]);\n                } else {\n                    return file;\n                }\n            },\n\n            _getChunker: function(file) {\n                if (file.slice) {\n                    return \"slice\";\n                } else if (file.mozSlice) {\n                    return \"mozSlice\";\n                } else if (file.webkitSlice) {\n                        return \"webkitSlice\";\n                } else {\n                    return null;\n                }\n            }\n        };\n\n        // Helper functions\n        function getFileName(input) {\n            return $.map(inputFiles(input), function(file) {\n                return file.name;\n            }).join(\", \");\n        }\n\n        function inputFiles($input) {\n            var input = $input[0];\n\n            if (input.files) {\n                return getAllFileInfo(input.files);\n            } else {\n                return [{\n                    name: stripPath(input.value),\n                    extension: getFileExtension(input.value),\n                    size: null\n                }];\n            }\n        }\n\n        function getAllFileInfo(rawFiles) {\n            return $.map(rawFiles, function(file) {\n                return getFileInfo(file);\n            });\n        }\n\n        function getFileInfo(rawFile) {\n            // Older Firefox versions (before 3.6) use fileName and fileSize\n            var fileName = rawFile.name || rawFile.fileName;\n            return {\n                name: kendo.htmlEncode(fileName),\n                extension: getFileExtension(fileName),\n                size: typeof rawFile.size == \"number\" ? rawFile.size : rawFile.fileSize, //rawFile.size || rawFile.fileSize,\n                rawFile: rawFile\n            };\n        }\n\n        function getFileExtension(fileName) {\n            var matches = fileName.match(rFileExtension);\n            return matches ? matches[0] : \"\";\n        }\n\n        function stripPath(name) {\n            var slashIndex = name.lastIndexOf(\"\\\\\");\n            return (slashIndex != -1) ? name.substr(slashIndex + 1) : name;\n        }\n\n        function assignGuidToFiles(files, unique) {\n            var uid = kendo.guid();\n\n            return $.map(files, function(file) {\n                file.uid = unique ? kendo.guid() : uid;\n\n                return file;\n            });\n        }\n\n        function validateFiles(files, validationInfo) {\n            var allowedExtensions = parseAllowedExtensions(validationInfo.allowedExtensions);\n            var maxFileSize = validationInfo.maxFileSize;\n            var minFileSize = validationInfo.minFileSize;\n\n            for (var i = 0; i < files.length; i++) {\n                validateFileExtension(files[i], allowedExtensions);\n                validateFileSize(files[i], minFileSize, maxFileSize);\n            }\n        }\n\n        function parseAllowedExtensions(extensions) {\n            var allowedExtensions = $.map(extensions, function(ext) {\n                var parsedExt = (ext.substring(0, 1) === \".\") ? ext : (\".\" + ext);\n                return parsedExt.toLowerCase();\n            });\n\n            return allowedExtensions;\n        }\n\n        function validateFileExtension(file, allowedExtensions) {\n            if (allowedExtensions.length > 0) {\n                if (allowedExtensions.indexOf(file.extension.toLowerCase()) < 0) {\n                    file.validationErrors = file.validationErrors || [];\n                    if ($.inArray(INVALIDFILEEXTENSION, file.validationErrors) === -1) {\n                        file.validationErrors.push(INVALIDFILEEXTENSION);\n                    }\n                }\n            }\n        }\n\n        function validateFileSize(file, minFileSize, maxFileSize) {\n            if (minFileSize !== 0 && file.size < minFileSize) {\n                file.validationErrors = file.validationErrors || [];\n                if ($.inArray(INVALIDMINFILESIZE, file.validationErrors) === -1) {\n                    file.validationErrors.push(INVALIDMINFILESIZE);\n                }\n            }\n\n            if (maxFileSize !== 0 && file.size > maxFileSize) {\n                file.validationErrors = file.validationErrors || [];\n                if ($.inArray(INVALIDMAXFILESIZE, file.validationErrors) === -1) {\n                    file.validationErrors.push(INVALIDMAXFILESIZE);\n                }\n            }\n        }\n\n        function getTotalFilesSizeMessage(files) {\n            var totalSize = 0;\n\n            if (typeof files[0].size == \"number\") {\n                for (var i = 0; i < files.length; i++) {\n                    if (files[i].size) {\n                        totalSize += files[i].size;\n                    }\n                }\n            } else {\n                return \"\";\n            }\n\n            totalSize /= 1024;\n\n            if (totalSize < 1024) {\n                return totalSize.toFixed(2) + \" KB\";\n            } else {\n                return (totalSize / 1024).toFixed(2) + \" MB\";\n            }\n        }\n\n        function shouldRemoveFileEntry(upload) {\n            return !upload.multiple && $(\".k-file\", upload.wrapper).length > 1;\n        }\n\n        function removeUploadedFile(fileEntry, upload, eventArgs, shouldSendRemoveRequest) {\n            if (!upload._supportsRemove()) {\n                if (shouldRemoveFileEntry(upload) || !shouldSendRemoveRequest) {\n                    upload._removeFileEntry(fileEntry);\n                }\n\n                return;\n            }\n\n            var files = fileEntry.data(\"fileNames\");\n            var fileNames = $.map(files, function(file) { return file.name; });\n\n            if (shouldSendRemoveRequest === false) {\n                upload._removeFileEntry(fileEntry);\n\n                return;\n            }\n\n            upload._submitRemove(fileNames, eventArgs,\n                function onSuccess(data, textStatus, xhr) {\n                    var prevented = upload.trigger(SUCCESS, {\n                        operation: \"remove\",\n                        files: files,\n                        response: data,\n                        XMLHttpRequest: xhr\n                    });\n\n                    if (!prevented) {\n                        upload._removeFileEntry(fileEntry);\n                    }\n                },\n\n                function onError(xhr) {\n                    if (shouldRemoveFileEntry(upload)) {\n                        upload._removeFileEntry(fileEntry);\n                    }\n\n                    upload.trigger(ERROR, {\n                        operation: \"remove\",\n                        files: files,\n                        XMLHttpRequest: xhr\n                    });\n\n                    logToConsole(\"Server response: \" + xhr.responseText);\n                }\n            );\n        }\n\n        function tryParseJSON(input, onSuccess, onError) {\n            var success = false,\n                json = \"\";\n\n            try {\n                json = JSON.parse(normalizeJSON(input));\n                success = true;\n            } catch (e) {\n                onError();\n            }\n\n            if (success) {\n                onSuccess(json);\n            }\n        }\n\n        function normalizeJSON(input) {\n            if (typeof input === \"undefined\" || input === \"\") {\n                input = \"{}\";\n            }\n\n            return input;\n        }\n\n        function stopEvent(e) {\n            if (e.originalEvent) {\n                e.originalEvent.dataTransfer.dropEffect = \"copy\";\n            }\n            e.stopPropagation(); e.preventDefault();\n        }\n\n        function bindDragEventWrappers(element, namespace, onDragEnter, onDragLeave) {\n            var hideInterval, lastDrag;\n\n            element\n                .on(\"dragenter\" + namespace, function(e) {\n                    onDragEnter(e);\n                    lastDrag = new Date();\n\n                    if (!hideInterval) {\n                        hideInterval = setInterval(function() {\n                            var sinceLastDrag = new Date() - lastDrag;\n                            if (sinceLastDrag > 100) {\n                                onDragLeave();\n\n                                clearInterval(hideInterval);\n                                hideInterval = null;\n                            }\n                        }, 100);\n                    }\n                })\n                .on(\"dragover\" + namespace, function() {\n                    lastDrag = new Date();\n                });\n        }\n\n        function isFileUploadStarted(fileEntry) {\n            return fileEntry.is(\".k-file-progress, .k-file-success, .k-file-error:not(.k-file-invalid)\");\n        }\n\n        function getFileEntry(e) {\n            return $(e.target).closest(\".k-file\");\n        }\n\n        kendo.ui.plugin(Upload);\n    })(window.kendo.jQuery);\n    var kendo$1 = kendo;\n\n    exports.__meta__ = __meta__;\n    exports.default = kendo$1;\n\n    Object.defineProperty(exports, '__esModule', { value: true });\n\n}));\n"]}