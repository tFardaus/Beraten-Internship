/**
 * Kendo UI v2025.3.1002 (http://www.telerik.com/kendo-ui)
 * Copyright 2025 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Kendo UI commercial licenses may be obtained at
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete
 * If you do not own a commercial license, this file shall be governed by the trial license terms.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("kendo.data.js"),require("kendo.treeview.draganddrop.js"),require("kendo.html.input.js"),require("kendo.icons.js")):"function"==typeof define&&define.amd?define(["exports","kendo.data.min","kendo.treeview.draganddrop.min","kendo.html.input.min","kendo.icons.min"],t):t(((e="undefined"!=typeof globalThis?globalThis:e||self).kendo=e.kendo||{},e.kendo._globals=e.kendo._globals||{},e.kendo._globals.Treeview={}))}(this,(function(e){!function(e,t){var r,n,i,a,s,o=window.kendo,d=o.ui,l=o.data,c=o.htmlEncode,h=o.sanitizeLink,u=e.extend,p=o.template,f=Array.isArray,g=d.Widget,v=l.HierarchicalDataSource,m=o.keys,k=".kendoTreeView",_=".kendoTreeViewTemp",b="select",x="check",C="navigate",w="change",y="error",S="checked",T="indeterminate",N="dragstart",A="progress",I="drag",D="drop",O="dragend",B="dataBound",H="itemsLoaded",q="loadCompleted",$="requestEnd",E="click",L="undefined",V="k-hover",F="k-treeview",U=".k-treeview-item",j="k-icon",R="<span></span>",P="string",M="aria-checked",G="aria-selected",J="aria-disabled",Q="aria-expanded",W="aria-activedescendant",z="aria-busy",K="k-disabled",X={text:"dataTextField",url:"dataUrlField",spriteCssClass:"dataSpriteCssClassField",imageUrl:"dataImageUrlField",attr:"dataAttrField",imageAttr:"dataImageAttrField",contentAttr:"dataContentAttrField",linkAttr:"dataLinkAttrField"},Y=function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&1===e.nodeType&&typeof e.nodeName===P};const Z="k-treeview-item",ee="k-image",te="k-treeview-leaf-text";function re(e){return function(t){var r=t.children(".k-animation-container");return r.length||(r=t),r.children(e)}}function ne(e){return e.find(".k-checkbox-wrap:first input[type=checkbox]")}function ie(e){return function(t,r){var n,i=(r=r.closest(U)).parent();return i.parent().is("li")&&(n=i.parent()),this._dataSourceMove(t,i,n,(function(t,n){var i=this.dataItem(r);var a=i&&r.parent().children().length!==i.parent().length?i.parent().indexOf(i):r.index();return this._insert(t.data(),n,a+e)}))}}function ae(t){var r=t.children("div"),n=t.children("ul"),i=r.find(".k-treeview-toggle > span"),a=t.children("input[type=checkbox]"),d=r.children(".k-treeview-leaf");t.hasClass("k-treeview")||(r.length||(r=e("<div />").prependTo(t)),!i.length&&n.length?i=e(`<span class='k-treeview-toggle'>${R}</span>`).prependTo(r):n.length&&n.children().length||(i.parent().remove(),n.remove(),t.removeAttr(Q)),a.length&&e("<span class='k-checkbox-wrap' />").appendTo(r).append(a),d.length||((d=t.children("a").eq(0).addClass("k-treeview-leaf k-link")).length||(d=e("<span class='k-treeview-leaf' />")),d.appendTo(r),r.length&&function(e,t){var r;for(;e&&"ul"!=e.nodeName.toLowerCase();)r=e,e=e.nextSibling,3==r.nodeType&&(r.nodeValue=o.trim(r.nodeValue)),s.test(r.className)?t.insertBefore(r,t.firstChild):t.appendChild(r)}(r[0].nextSibling,d[0])))}n=re(".k-treeview-group"),i=re(".k-treeview-group,.k-content"),a=function(e){return e.children("div").find(".k-treeview-toggle > span:first")},s=/k-sprite/,r=o.ui.DataBoundWidget.extend({init:function(e,t){var r,n,i=this,a=t&&!!t.dataSource;f(t)&&(t={dataSource:t}),t&&typeof t.loadOnDemand==L&&f(t.dataSource)&&(t.loadOnDemand=!1),g.prototype.init.call(i,e,t),e=i.element,t=i.options,i._dataSourceUids={},n=e.is("ul")&&e||e.hasClass(F)&&e.children("ul"),(r=!a&&n.length)&&(t.dataSource.list=n),i._animation(),i._accessors(),i._templates(),e.hasClass(F)?(i.wrapper=e,i.root=e.children("ul").eq(0)):(i._wrapper(),n&&(i.root=e,i._group(i.wrapper))),i._applyCssClasses(),i._tabindex(),i.wrapper.find(">ul").attr("role","tree"),i._dataSource(r),i._attachEvents(),i._dragging(),r?i._syncHtmlAndDataSource():t.autoBind?(i._progress(!0),i.dataSource.fetch(this._attemptLoadCompleted.bind(this))):(i._progressHandler=i._requestStart.bind(i),i.dataSource.bind(A,i._progressHandler)),t.checkboxes&&t.checkboxes.checkChildren&&i.updateIndeterminate(),i.element[0].id?i._ariaId=o.format("{0}_tv_active",i.element[0].id):i._ariaId=o.guid()+"_tv_active",o.notify(i)},_attachEvents:function(){var t=this,r=".k-treeview-leaf:not(.k-selected,.k-disabled)",n="mouseenter";t._clickHandler=t._click.bind(t),t.wrapper.on(n+k,".k-treeview-leaf.k-selected",(function(e){e.preventDefault()})).on(n+k,r,(function(){e(this).addClass(V)})).on("mouseleave"+k,r,(function(){e(this).removeClass(V)})).on(E+k,r,t._clickHandler).on("dblclick"+k,".k-treeview-leaf:not(.k-disabled)",t._toggleButtonClick.bind(t)).on(E+k,`.k-treeview-toggle .${j}`,t._toggleButtonClick.bind(t)).on("keydown"+k,t,t._keydown.bind(t)).on("keypress"+k,t._keypress.bind(t)).on("focus"+k,t._focus.bind(t)).on("blur"+k,t._blur.bind(t)).on("mousedown"+k,`.k-treeview-leaf,.k-checkbox-wrap :checkbox,.k-treeview-toggle .${j}`,t._mousedown.bind(t)).on("change"+k,".k-checkbox-wrap :checkbox",t._checkboxChange.bind(t)).on("click"+k,".k-request-retry",t._retryRequest.bind(t)).on("click"+k,".k-link.k-disabled",(function(e){e.preventDefault()})).on("click"+k,(function(r){var n=e(r.target);n.is(":kendoFocusable")||n.find("input,select,textarea,button,object").is(":kendoFocusable")||t.focus()}))},_requestStart:function(){this._progress(!0)},_syncHtmlAndDataSource:function(e,t){e=e||this.root;var r,n,i,a,s,d=(t=t||this.dataSource).view(),l=o.attr("uid"),c=o.attr("expanded"),h=this.options.checkboxes,u=e.children("li");for(r=0;r<u.length;r++)a=(i=d[r]).uid,(n=u.eq(r)).attr("role","treeitem").attr(l,a).attr(G,n.hasClass("k-selected")),i.expanded="true"===n.attr(c),i.hasChildren&&n.attr(Q,i.expanded),h&&(s=ne(n),i.checked=s.prop(S),s.attr("id","_"+a),s.next(".k-checkbox-label").attr("for","_"+a),n.attr(M,n.checked)),this._syncHtmlAndDataSource(n.children("ul"),i.children)},_animation:function(){var e=this.options,t=e.animation,r=t.collapse&&"effects"in t.collapse,n=u({},t.expand,t.collapse);r||(n=u(n,{reverse:!0})),!1===t&&(t={expand:{effects:{}},collapse:{hide:!0,effects:{}}}),t.collapse=u(n,{hide:!0}),e.animation=t},_dragging:function(){var t=this.options.dragAndDrop;var r=this.dragging;if(t&&!r){var n=this;this.dragging=new d.HierarchicalDragAndDrop(this.element,{reorderable:!0,autoScroll:this.options.autoScroll,filter:"div:not(.k-disabled) .k-treeview-leaf",allowedContainers:".k-treeview",itemSelector:".k-treeview .k-treeview-item",hintText:this._hintText.bind(this),clickMoveClick:!0===this.options.dragAndDrop.clickMoveClick,contains:function(t,r){return e.contains(t,r)},dropHintContainer:function(e){return e},itemFromTarget:function(e){var t=e.closest(".k-treeview-top,.k-treeview-mid,.k-treeview-bot");return{item:t,content:e.closest(".k-treeview-leaf"),first:t.hasClass("k-treeview-top"),last:t.hasClass("k-treeview-bot")}},dropPositionFrom:function(e){return e.prevAll(".k-treeview-leaf").length>0?"after":"before"},dragstart:function(e){return n.wrapper.attr(o.attr("scrollable"),!1),n.trigger(N,{sourceNode:e[0]})},drag:function(e){n.trigger(I,{originalEvent:e.originalEvent,sourceNode:e.source[0],dropTarget:e.target[0],pageY:e.pageY,pageX:e.pageX,statusClass:e.status,setStatusClass:e.setStatus})},drop:function(t){var r=e(t.dropTarget).closest("a");return r&&r.attr("href")&&n._tempPreventNavigation(r),n.trigger(D,{originalEvent:t.originalEvent,sourceNode:t.source,destinationNode:t.destination,valid:t.valid,setValid:function(e){this.valid=e,t.setValid(e)},dropTarget:t.dropTarget,dropPosition:t.position})},dragend:function(e){var t=e.source;var r=e.destination;var i=e.position;function a(t){n.options.checkboxes&&n.options.checkboxes.checkChildren&&n.updateIndeterminate(),n.current(t),n.element.focus(),n.trigger(O,{originalEvent:e.originalEvent,sourceNode:t&&t[0],destinationNode:r[0],dropPosition:i})}n.wrapper.removeAttr(o.attr("scrollable")),"over"==i?n.append(t,r,a):("before"==i?t=n.insertBefore(t,r):"after"==i&&(t=n.insertAfter(t,r)),a(t))}})}else!t&&r&&(r.destroy(),this.dragging=null)},_tempPreventNavigation:function(e){e.on(E+k+_,(function(t){t.preventDefault(),e.off(E+k+_)}))},_hintText:function(e){return this.templates.dragClue({item:this.dataItem(e),treeview:this.options})},_templates:function(){let t=this,r=t.options,n=t._fieldAccessor.bind(t);r.template&&typeof r.template==P?r.template=p(r.template):r.template||(r.template=({item:e})=>{let r=n("text")(e);let i=n("contentAttr")(e);return void 0!==e.encoded&&!1===e.encoded?`<span ${t.templates.contentCssAttributes(i)}>${r}</span>`:`<span ${t.templates.contentCssAttributes(i)}>${c(r)}</span>`}),t._checkboxes(),t.templates={setAttributes:function(e){return t.templates.setDefaultClasses(Z,e.attr)},cssClass:function(e,t){var r="",n=t.index,i=e.length-1;return e.firstLevel&&0===n&&(r+="k-treeview-top "),r+=0===n&&n!=i?-1!=r.indexOf("k-treeview-top")?"":"k-treeview-top":n==i?"k-treeview-bot":"k-treeview-mid"},textClass:function(e,t){var r="k-treeview-leaf";return t&&(r+=" k-link"),!1===e.enabled&&(r+=" k-disabled"),!0===e.selected&&(r+=" k-selected"),r},checkboxClass:function(e){var t="k-checkbox";return!1===e.enabled&&(t+=" k-disabled"),t},toggleButtonClass:function(e){var t="k-treeview-toggle";return!1===e.enabled&&(t+=" k-disabled"),t},toggleIcon:function(e,r){return!0!==r.expanded?d.icon(e,{icon:"caret-alt-"+(o.support.isRtl(t.element)?"left":"right")}):d.icon(e,{icon:"caret-alt-down"})},groupAttributes:function(e){var t="";return e.firstLevel||(t="role='group'"),t+(!0!==e.expanded?` ${o.attr("style-display")}="none"`:"")},groupCssClass:function(e){var t="k-treeview-group";return e.firstLevel&&(t+=" k-treeview-lines"),t},dragClue:e=>e.treeview.template(e),group:e=>`<ul class='${e.r.groupCssClass(e.group)}'${e.r.groupAttributes(e.group)}>`+e.renderItems(e)+"</ul>",itemContent:e=>{let r=n("imageUrl")(e.item);let i=n("imageAttr")(e.item);let a=n("spriteCssClass")(e.item);let s="";return r&&(s+=`<img ${t.templates.imageCssAttributes(i)} alt='' src='${r}'>`),a&&(s+=`<span class='k-sprite ${a}'></span>`),s+=e.treeview.template(e),s},itemElement:t=>{let r=t.item,i=t.r;let a=n("url")(r),s=a?"a":"span",o=a?' href="'+h(a)+'"':"";let d=`<div class="${i.cssClass(t.group,r)}">`;return r.hasChildren&&(d+=`<span class='${i.toggleButtonClass(r)}'>`+i.toggleIcon(e(R),r)+"</span>"),t.treeview.checkboxes&&(d+="<span class='k-checkbox-wrap' role='presentation'>"+t.treeview.checkboxes.template(t)+"</span>"),d+=`<${s} ${i.linkCssAttributes(r,!!a)} ${o}>`+i.itemContent(t)+`</${s}>`,d+="</div>",d},item:e=>{var t=e.item,r=e.r;var n=`<li role='treeitem'${o.attr("uid")}="${t.uid}"${r.setAttributes(t.toJSON?t.toJSON():t)} `;return e.treeview.checkboxes&&(n+=`aria-checked="${t.checked?"true":"false"}" `),n+=`aria-selected="${t.selected?"true":"false"}" `+(!1===t.enabled?'aria-disabled="true"':""),t.hasChildren&&(n+=`aria-expanded="${t.expanded?"true":"false"}" `),n+=`data-expanded="${t.expanded?"true":"false"}" >`+r.itemElement(e)+"</li>"},loading:({messages:e})=>`<div class='k-icon k-i-loading'></div> ${c(e.loading)}`,retry:({messages:e})=>`${c(e.requestFailed)} <button class='k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-request-retry'><span class='k-button-text'>${c(e.retry)}</span></button>`,imageCssAttributes:function(e){return t.templates.setDefaultClasses(ee,e)},contentCssAttributes:function(e){return t.templates.setDefaultClasses(te,e)},linkCssAttributes:function(e,r){return t.templates.setDefaultClasses(this.textClass(e,r),n("linkAttr")(e))},setDefaultClasses:function(e,r){return(r=r&&r.toJSON?r.toJSON():r||{}).class?r.class+=" "+e:r.class=e,t.templates.stringifyAttributes(r)},stringifyAttributes:function(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t+=r+'="'+e[r]+'" ');return t}}},items:function(){return this.element.find(".k-treeview-item > div:first-child")},setDataSource:function(e){var t=this.options;t.dataSource=e,this._dataSourceUids={},this._dataSource(),t.checkboxes&&t.checkboxes.checkChildren&&this.dataSource.one("change",this.updateIndeterminate.bind(this,null)),this.options.autoBind&&this.dataSource.fetch(this._attemptLoadCompleted.bind(this))},_bindDataSource:function(){var e=this;e._refreshHandler=e.refresh.bind(e),e._errorHandler=e._error.bind(e),e._loadCompletedHandler=e._loadCompleted.bind(e),e._requestEndHandler=e._dsRequestEnd.bind(e),e._loadedNodes=[],e.dataSource.bind(w,e._refreshHandler),e.dataSource.bind(y,e._errorHandler),e.dataSource.bind(H,e._loadCompletedHandler),e.dataSource.bind($,e._requestEndHandler)},_dsRequestEnd:function(e){var t=this;setTimeout((function(){"read"!==e.type||t._loadCompletedFired||t._attemptLoadCompleted()}))},_loadCompleted:function(e){var t=this;t._loadedNodes=t._loadedNodes.concat(e.nodes),t.dataSource.loading()||!1!==t.options.loadOnDemand||(t.trigger(q,{nodes:t._loadedNodes}),t._loadedNodes=[])},_attemptLoadCompleted:function(){var e,t,r=this,n=r.dataSource.view();if(!1===r.options.loadOnDemand){for(t=0;t<n.length;t++)if((e=n[t]).hasChildren&&(!e.children||!e.children.data()||0===e.children.data().length))return;r._loadCompletedFired=!0,r.trigger(q,{nodes:[]})}},_unbindDataSource:function(){var e=this.dataSource;e&&(e.unbind(w,this._refreshHandler),e.unbind(A,this._progressHandler),e.unbind(y,this._errorHandler),e.unbind(H,this._loadCompletedHandler),e.unbind($,this._requestEndHandler))},_dataSource:function(e){var t=this,r=t.options.dataSource;r=f(r)?{data:r}:r,t._unbindDataSource(),r.fields||(r.fields=[{field:"text"},{field:"url"},{field:"spriteCssClass"},{field:"imageUrl"}]),t.dataSource=r=v.create(r),e&&(r.fetch(),function e(t){for(var r=0;r<t.length;r++)t[r]._initChildren(),t[r].children.fetch(),e(t[r].children.view())}(r.view())),t._bindDataSource()},events:[N,I,D,O,B,q,"expand","collapse",b,w,C,x,"kendoKeydown"],options:{name:"TreeView",dataSource:{},animation:{expand:{effects:"expand:vertical",duration:200},collapse:{duration:100}},messages:{loading:"Loading...",requestFailed:"Request failed.",retry:"Retry"},dragAndDrop:!1,checkboxes:!1,autoBind:!0,autoScroll:!1,loadOnDemand:!0,template:"",dataTextField:null,size:"medium"},_accessors:function(){var e,t,r,n=this.options,i=this.element;for(e in X)t=n[X[e]],r=i.attr(o.attr(e+"-field")),!t&&r&&(t=r),t||(t=e),f(t)||(t=[t]),n[X[e]]=t},_fieldAccessor:function(t){var r=this.options[X[t]],n=r.length;return function(i){return 0===n?o.getter(t)(i):e.map(r,(function(e){return function(t){return o.getter(e)(t)}}))[Math.min(i.level(),n-1)](i)}},setOptions:function(e){g.fn.setOptions.call(this,e),this._animation(),this._dragging(),this._accessors(),this._templates()},_trigger:function(e,t){return this.trigger(e,{node:t.closest(U)[0]})},_setChecked:function(e,t){if(e&&o.isFunction(e.view))for(var r=0,n=e.view();r<n.length;r++)!1!==n[r].enabled&&this._setCheckedValue(n[r],t),n[r].children&&this._setChecked(n[r].children,t)},_setCheckedValue:function(e,t){e[S]=t},_setIndeterminate:function(e){var t,r,i,a=n(e),s=!0;if(a.length&&(r=(t=ne(a.children())).length)){if(r>1){for(i=1;i<r;i++)if(t[i].checked!=t[i-1].checked||t[i].indeterminate||t[i-1].indeterminate){s=!1;break}}else s=!t[0].indeterminate;return e.attr(M,s?t[0].checked:"mixed"),ne(e).data(T,!s).prop(T,!s).prop(S,s&&t[0].checked)}},updateIndeterminate:function(e){e=e||this.wrapper;var t=n(e).children();var r;var i;var a;if(t.length){for(r=0;r<t.length;r++)this.updateIndeterminate(t.eq(r));if(e.is(".k-treeview"))return;i=this._setIndeterminate(e),a=this.dataItem(e),i&&i.prop(S)?a.checked=!0:a&&delete a.checked}},_bubbleIndeterminate:function(e,t){if(e.length){t||this.updateIndeterminate(e);var r,n=this.parent(e);n.length&&(this._setIndeterminate(n),r=n.children("div").find(".k-checkbox-wrap input[type=checkbox]"),this._skip=!0,!1===r.prop(T)?this.dataItem(n).set(S,r.prop(S)):this.dataItem(n).set(S,!1),this._skip=!1,this._bubbleIndeterminate(n,!0))}},_checkboxChange:function(t){var r=e(t.target);var n=r.prop(S);var i=r.closest(U);var a=this.dataItem(i);this._preventChange||(a.checked!=n&&(a.set(S,n),i.attr(M,n),this._trigger(x,i)),r.is(":focus")&&(this._trigger(C,i),this.focus()))},_toggleButtonClick:function(t){var r=e(t.currentTarget).closest(U);r.is("[aria-disabled='true']")||this.toggle(r)},_mousedown:function(t){var r=this;var n=e(t.currentTarget);var i=e(t.currentTarget).closest(U);var a=o.support.browser;i.is("[aria-disabled='true']")||((a.msie||a.edge)&&n.is(":checkbox")&&(n.prop(T)?(r._preventChange=!1,n.prop(S,!n.prop(S)),n.trigger(w),n.on(E+k,(function(e){e.preventDefault()})),r._preventChange=!0):(n.off(E+k),r._preventChange=!1)),r._clickTarget=i,r.current(i))},_focusable:function(e){return e&&e.length&&e.is(":visible")&&!e.find(".k-treeview-leaf").first().hasClass(K)},_focus:function(){var t=this.select(),r=this._clickTarget;o.support.touch||(r&&r.length&&(t=r),this._focusable(t)||(t=this.current()),this._focusable(t)||(t=this._nextVisible(e())),this.current(t))},focus:function(){var e,t=this.wrapper,r=t[0],n=[],i=[],a=document.documentElement;do{(r=r.parentNode).scrollHeight>r.clientHeight&&(n.push(r),i.push(r.scrollTop))}while(r!=a);for(o.focusElement(t),e=0;e<n.length;e++)n[e].scrollTop=i[e]},_blur:function(){this.current().find(".k-treeview-leaf").first().removeClass("k-focus")},_enabled:function(e){return!e.children("div").children(".k-treeview-leaf").hasClass(K)},parent:function(t){var r,n,i=/\bk-treeview\b(?!-)/,a=/\bk-treeview-item\b/;typeof t==P&&(t=this.element.find(t)),Y(t)||(t=t[0]),n=a.test(t.className);do{t=t.parentNode,a.test(t.className)&&(n?r=t:n=!0)}while(!i.test(t.className)&&!r);return e(r)},_nextVisible:function(e){var t,r=this,i=r._expanded(e);function a(e){for(;e.length&&!e.next().length;)e=r.parent(e);return e.next().length?e.next():e}return e.length&&e.is(":visible")?i&&(t=n(e).children().first()).length||(t=a(e)):t=r.root.children().eq(0),t},_previousVisible:function(e){var t,r,i=this;if(!e.length||e.prev().length)for(r=e.length?e.prev():i.root.children().last();i._expanded(r)&&(t=n(r).children().last()).length;)r=t;else r=i.parent(e)||e;return r},scrollTo:function(e){e&&e.length>0&&e[0].scrollIntoView({block:"nearest"})},_keydown:function(r){var n,i=this,a=r.keyCode,s=i.current(),d=i._expanded(s),l=s.find(".k-checkbox-wrap").first().find(":checkbox"),c=o.support.isRtl(i.element);r.target==r.currentTarget&&(!c&&a==m.RIGHT||c&&a==m.LEFT?d?n=i._nextVisible(s):s.find(".k-treeview-leaf").first().hasClass(K)||i.expand(s):!c&&a==m.LEFT||c&&a==m.RIGHT?d&&!s.find(".k-treeview-leaf").first().hasClass(K)?i.collapse(s):(n=i.parent(s),i._enabled(n)||(n=t)):a==m.DOWN?n=i._nextVisible(s):a==m.UP?n=i._previousVisible(s):a==m.HOME?n=i._nextVisible(e()):a==m.END?n=i._previousVisible(e()):a!=m.ENTER||s.find(".k-treeview-leaf").first().hasClass(K)?a==m.SPACEBAR&&l.length&&(s.find(".k-treeview-leaf").first().hasClass(K)||(l.prop(S,!l.prop(S)).data(T,!1).prop(T,!1),i._checkboxChange({target:l})),n=s):s.find(".k-treeview-leaf").first().hasClass("k-selected")||i._trigger(b,s)||i.select(s),n&&(r.preventDefault(),s[0]!=n[0]&&(i._trigger(C,n),i.current(n),i.scrollTo(n))))},_keypress:function(e){var t=this;var r=t.current().get(0);var n;var i=e.key;1===i.length&&(t._match||(t._match=""),t._match+=i,clearTimeout(t._matchTimer),t._matchTimer=setTimeout((function(){t._match=""}),300),(n=r&&t._matchNextByText(Array.prototype.indexOf.call(t.element.find(".k-treeview-item"),r),t._match)).length||(n=t._matchNextByText(-1,t._match)),n.get(0)&&n.get(0)!==r&&(t._trigger(C,n),t.current(n)))},_matchNextByText:function(t,r){return this.element.find(".k-treeview-leaf").filter((function(n,i){return n>t&&e(i).is(":visible")&&0===e(i).text().toLowerCase().indexOf(r)})).eq(0).closest(U)},_click:function(t){var r=e(t.currentTarget),n=i(r.closest(U)),a=r.attr("href");(a?"#"==a||a.indexOf("#"+this.element.id+"-")>=0:n.length&&!n.children().length)&&t.preventDefault(),r.hasClass(".k-selected")||this._trigger(b,r)||this.select(r)},_wrapper:function(){var e,t,r=this,n=r.element;n.is("ul")?(e=n.wrap("<div />").parent(),t=n):t=(e=n).children("ul").eq(0),r.wrapper=e.addClass("k-treeview"),r.root=t},_getSelectedNode:function(){return this.element.find(".k-selected").closest(U)},_group:function(e){var t=this,r=e.hasClass(F),n={firstLevel:r,expanded:r||t._expanded(e)},i=e.children("ul");i.addClass(t.templates.groupCssClass(n)).css("display",n.expanded?"":"none"),r||i.attr("role","group"),t._nodes(i,n)},_nodes:function(t,r){var n,i=this,a=t.children("li");r=u({length:a.length},r),a.each((function(t,a){a=e(a),n={index:t,expanded:i._expanded(a)},ae(a),i._updateNodeClasses(a,r,n),i._group(a)}))},_checkboxes:function(){var t=this.options;var r=t.checkboxes;var n;r&&(n=(n=o.html.renderCheckBox(e("<input/>"),e.extend({},t,{rounded:"medium"}))).replace(">",""),typeof(r=u({template:({item:e})=>n+` id="_${e.uid}" aria-hidden="true" type="checkbox" tabindex="-1"`+(r.name?'name="'+r.name+'"':"")+" "+(!1===e.enabled?"disabled":"")+" "+(e.checked?"checked":"")+"/>"},t.checkboxes)).template==P&&(r.template=p(r.template)),t.checkboxes=r)},_updateNodeClasses:function(e,t,r){var n=e.children("div"),i=e.children("ul"),a=this.templates;if(!e.hasClass("k-treeview")){(r=r||{}).expanded=typeof r.expanded!=L?r.expanded:this._expanded(e),r.index=typeof r.index!=L?r.index:e.index(),r.enabled=typeof r.enabled!=L?r.enabled:!n.children(".k-treeview-leaf").hasClass("k-disabled"),(t=t||{}).firstLevel=typeof t.firstLevel!=L?t.firstLevel:e.parent().parent().hasClass(F),t.length=typeof t.length!=L?t.length:e.parent().children().length,e.addClass("k-treeview-item"),n.removeClass("k-treeview-top k-treeview-mid k-treeview-bot").addClass(a.cssClass(t,r)),n.find(".k-checkbox").removeClass("k-checkbox k-disabled").addClass(a.checkboxClass(r));var s=n.children(".k-treeview-leaf");var o=s[0]&&"a"==s[0].nodeName.toLowerCase();if(s.removeClass("k-treeview-leaf k-link k-disabled").addClass(a.textClass(r,o)),i.length||"true"==e.attr("data-hasChildren")){var d=n.find(".k-treeview-toggle");var l=d.children("span");d.removeClass("k-treeview-toggle k-disabled").addClass(a.toggleButtonClass(r)),a.toggleIcon(l,r),i.addClass("k-treeview-group")}}},_processNodes:function(t,r){var n=this.element.find(t);for(var i=0;i<n.length;i++)r.call(this,i,e(n[i]).closest(U))},dataItem:function(t){var r=e(t).closest(U).attr(o.attr("uid")),n=this.dataSource;return n&&n.getByUid(r)},_dataItem:function(t){var r=e(t).closest(U).attr(o.attr("uid"));return this.dataSource&&this._dataSourceUids[r]},_insertNode:function(t,r,i,a,s){var d,l,c,h,u,p,f=this,g=n(i),v=g.children().length+1,m={firstLevel:i.hasClass(F),expanded:!s,length:v},k="",_=function(e,t){e.appendTo(t)};for(c=0;c<t.length;c++)(h=t[c]).index=r+c,k+=f._renderItem({group:m,item:h});if((l=e(k)).length){for(g.length||(g=e(f._renderGroup({group:m})),o.applyStylesFromKendoAttributes(g,["display"]),g.appendTo(i),i.attr(Q,!0)),a(l,g),i.hasClass("k-treeview-item")&&(ae(i),f._updateNodeClasses(i,m,{expanded:!s})),u=l.prev().first(),p=l.next().last(),f._updateNodeClasses(u,{},{expanded:"true"==u.attr(o.attr("expanded"))}),f._updateNodeClasses(p,{},{expanded:"true"==p.attr(o.attr("expanded"))}),c=0;c<t.length;c++)(h=t[c]).hasChildren&&(d=h.children.data()).length&&f._insertNode(d,h.index,l.eq(c),_,!h.expanded);return l}},_updateNodes:function(t,r){var n=this;var a,s,l,c,h,u;var p={treeview:n.options,item:c};var f="expanded"!=r&&"checked"!=r;function g(e,t){e.is(".k-treeview-group")&&e.find(".k-treeview-item:not([aria-disabled])").attr(M,t),e.find(".k-checkbox-wrap input[type=checkbox]:not([disabled])").prop(S,t).data(T,!1).prop(T,!1)}if("selected"==r)c=t[0],(s=n.findByUid(c.uid)).find(".k-treeview-leaf").first().removeClass("k-hover").toggleClass("k-selected",c[r]).end(),c[r]&&n.current(s),s.attr(G,!!c[r]);else{var v=e.map(t,(function(e){return n.findByUid(e.uid).children("div")}));for(a=0;a<t.length;a++)p.item=c=t[a],s=(l=v[a]).parent(),f&&(o.unbind&&o.unbind(l),l.children(".k-treeview-leaf").html(n.templates.itemContent(p))),r==S?(g(l,h=c[r]),s.attr(M,h),n.options.checkboxes.checkChildren&&(g(s.children(".k-treeview-group"),h),n._setChecked(c.children,h),n._bubbleIndeterminate(s))):"expanded"==r?n._toggle(s,c,c[r]):"enabled"==r&&(s.find(".k-checkbox-wrap input[type=checkbox]").prop("disabled",!c[r]),u=!i(s).is(":visible"),s.removeAttr(J),c[r]||(c.selected&&c.set("selected",!1),c.expanded&&c.set("expanded",!1),u=!0,s.attr(G,!1).attr(J,!0)),n._updateNodeClasses(s,{},{enabled:c[r],expanded:!u})),l.length&&this.trigger("itemChange",{item:l,data:c,ns:d})}},_appendItems:function(e,t,r){var i=n(r).children();var a=!this._expanded(r);if(this.element===r){var s=this.dataSource.data();var o=this.dataSource.view();var d=o.length<s.length?o:s;e=d.indexOf(t[0])}else t.length&&(e=t[0].parent().indexOf(t[0]));typeof e==L&&(e=i.length),this._insertNode(t,e,r,(function(t,r){e>=i.length?t.appendTo(r):t.insertBefore(i.eq(e))}),a),this._updateNodeClasses(r,{},{expanded:!a}),a||n(r).css("display","block")},_refreshChildren:function(e,t,r){var i,a,s;var o=this.options;var l=o.loadOnDemand;var c=o.checkboxes&&o.checkboxes.checkChildren;if(n(e).empty(),t.length)for(this._appendItems(r,t,e),a=n(e).children(),l&&c&&this._bubbleIndeterminate(a.last()),i=0;i<a.length;i++)s=a.eq(i),this.trigger("itemChange",{item:s.children("div"),data:t[i],ns:d});else ae(e)},_refreshRoot:function(t){var r=this._renderGroup({items:t,group:{firstLevel:!0,expanded:!0}});if(this.root.length&&this.root[0].parentElement){var n=e(r);this.root.attr("class",n.attr("class")).html(n.html())}else this.root=this.wrapper.html(r).children("ul");var i=this.root.children(".k-treeview-item");for(var a=0;a<t.length;a++)this.trigger("itemChange",{item:i.eq(a),data:t[a],ns:d})},refresh:function(e){var r=e.node;var n=e.action;var i=e.items;var a=this.wrapper;var s=this.options;var o=s.loadOnDemand;var d=s.checkboxes&&s.checkboxes.checkChildren;var l;if(!this._skip){for(l=0;l<i.length;l++)this._dataSourceUids[i[l].uid]=i[l];if(e.field){if(!i[0]||!i[0].level)return;return this._updateNodes(i,e.field)}if(r&&(a=this.findByUid(r.uid),this._progress(a,!1)),d&&"remove"!=n){var c=!1;for(l=0;l<i.length;l++)if("checked"in i[l]){c=!0;break}if(!c&&r&&r.checked)for(l=0;l<i.length;l++)i[l].checked=!0}if("add"==n?this._appendItems(e.index,i,a):"remove"==n?this._remove(this.findByUid(i[0].uid),!1):"itemchange"==n?this._updateNodes(i):"itemloaded"==n?this._refreshChildren(a,i,e.index):(this._refreshRoot(i),this.element.attr(z,!1)),"remove"!=n)for(l=0;l<i.length;l++)(!o||i[l].expanded||i[l]._loaded)&&i[l].load();this.wrapper.find(">ul").attr("role","tree"),this.trigger(B,{node:r?a:t}),this.dataSource.filter()&&this.options.checkboxes.checkChildren&&this.updateIndeterminate(a)}},_error:function(t){var r=t.node&&this.findByUid(t.node.uid);var n=this.templates.retry({messages:this.options.messages});r?(this._progress(r,!1),this._expanded(r,!1),a(r).replaceWith(d.icon(e(R),{icon:"arrow-rotate-cw"})),t.node.loaded(!1)):(this._progress(!1),this.dataSource.data([]),this.element.html(n))},_retryRequest:function(e){e.preventDefault(),this.dataSource.fetch(this._attemptLoadCompleted.bind(this))},expand:function(e){this._processNodes(e,(function(e,t){this.toggle(t,!0)}))},collapse:function(e){this._processNodes(e,(function(e,t){this.toggle(t,!1)}))},enable:function(e,t){"boolean"==typeof e?(t=e,e=this.items()):t=2!=arguments.length||!!t,this._processNodes(e,(function(e,r){this.dataItem(r).set("enabled",t)}))},current:function(t){var r=this,n=r._current,i=r.element;return arguments.length>0&&t&&t.length?(n&&n.find(".k-treeview-leaf").first().removeClass("k-focus"),(n=r._current=e(t,i).closest(U)).find(".k-treeview-leaf").first().addClass("k-focus"),void r._updateActiveDescendant()):(n||(n=r._nextVisible(e())),n)},_updateActiveDescendant:function(){var e=this._current,t=e[0].id||this._ariaId,r=this.element.find("#"+this._ariaId);r.length>0&&r.removeAttr("id"),this.root.removeAttr(W),e.attr("id",t),this.root.attr(W,t)},select:function(t){var r=this,n=r.element;if(!arguments.length)return n.find(".k-selected").closest(U);t=e(t,n).closest(U),n.find(".k-selected").each((function(){var t=r.dataItem(this);t?(t.set("selected",!1),delete t.selected):e(this).removeClass("k-selected")})),t.length&&(r.dataItem(t).set("selected",!0),r._clickTarget=t),r.trigger(w)},_toggle:function(e,t,r){var n=this.options;var a=i(e);var s=r?"expand":"collapse";var o;a.data("animating")||(o=t&&t.loaded(),r&&!o?(n.loadOnDemand&&this._progress(e,!0),a.remove(),t.load()):(this._updateNodeClasses(e,{},{expanded:r}),r||a.css("height",a.height()).css("height"),a.kendoStop(!0,!0).kendoAnimate(u({reset:!0},n.animation[s],{complete:function(){r&&a.css("height","")}}))))},toggle:function(t,r){t=e(t),a(t)&&(1==arguments.length&&(r=!this._expanded(t)),this._expanded(t,r))},destroy:function(){var e=this;g.fn.destroy.call(e),e.wrapper.off(k),e.wrapper.find(".k-checkbox-wrap :checkbox").off(k),e._clickHandler=null,e._unbindDataSource(),e.dragging&&e.dragging.destroy(),e._dataSourceUids={},o.destroy(e.element),e.root=e.wrapper=e.element=null},_expanded:function(e,t,r){var n=o.attr("expanded");var a;var s=t;var d=s?"expand":"collapse";if(e.children().hasClass("k-hidden")&&e.children().removeClass("k-hidden"),1==arguments.length)return a=this._dataItem(e),"true"===e.attr(n)||a&&a.expanded;a=this.dataItem(e),i(e).data("animating")||!r&&this._trigger(d,e)||(s?(e.attr(n,"true"),e.attr(Q,"true")):(e.removeAttr(n),e.attr(Q,"false")),a&&(a.set("expanded",s),s=a.expanded))},_progress:function(t,r){var n=this.element;var i=this.templates.loading({messages:this.options.messages});1==arguments.length?((r=t)?n.html(i):n.empty(),this.element.attr(z,r)):(a(t).replaceWith(e(R).toggleClass("k-i-loading",r).toggleClass("k-icon",r)),t.attr(z,r))},text:function(e,t){var r=this.dataItem(e),n=this.options[X.text],i=r.level(),a=n.length,s=n[Math.min(i,a-1)];if(!t)return r[s];r.set(s,t)},_objectOrSelf:function(t){return e(t).closest("[data-role=treeview]").data("kendoTreeView")||this},_dataSourceMove:function(t,r,n,i){var a,s=this._objectOrSelf(n||r),o=s.dataSource;var d=e.Deferred().resolve().promise();return n&&n[0]!=s.element[0]&&((a=s.dataItem(n)).loaded()||(s._progress(n,!0),d=a.load()),n!=this.root&&((o=a.children)&&o instanceof v||(a._initChildren(),a.loaded(!0),o=a.children))),t=this._toObservableData(t),i.call(s,o,t,d)},_toObservableData:function(t){var r,n,i=t;var a;return((a=t)instanceof o.jQuery||window.jQuery&&a instanceof window.jQuery||Y(t))&&(r=this._objectOrSelf(t).dataSource,n=e(t).attr(o.attr("uid")),(i=r.getByUid(n))&&(i=r.remove(i))),i},_insert:function(e,t,r){t instanceof o.data.ObservableArray?t=t.toJSON():f(t)||(t=[t]);var n=e.parent();return n&&n._initChildren&&(n.hasChildren=!0,n._initChildren()),e.splice.apply(e,[r,0].concat(t)),this.findByUid(e[r].uid)},insertAfter:ie(1),insertBefore:ie(0),append:function(t,r,i){var a=this.root;if(!(r&&t instanceof jQuery&&r[0]===t[0]))return(r=r&&r.length?r:null)&&(a=n(r)),this._dataSourceMove(t,a,r,(function(t,n,a){var s;var o=this;return a.done((function(){s=function(){r&&o._expanded(r,!0,!0);var e=t.data(),i=Math.max(e.length,0);return o._insert(e,n,i)}(),(i=i||e.noop)(s)})),s||null}))},_remove:function(t,r){var n,i,a,s=this;return(t=e(t,s.element)).attr("id")===s.root.attr(W)&&s.root.removeAttr(W),n=t.parent().parent(),i=t.prev(),a=t.next(),t[r?"detach":"remove"](),n.hasClass("k-treeview-item")&&(ae(n),s._updateNodeClasses(n)),s._updateNodeClasses(i),s._updateNodeClasses(a),t},remove:function(e){var t=this.dataItem(e);t&&this.dataSource.remove(t)},detach:function(e){return this._remove(e,!0)},findByText:function(t){return e(this.element).find(".k-treeview-leaf").filter((function(r,n){return e(n).text()==t})).closest(U)},findByUid:function(t){var r=this.element.find(".k-treeview-item");var n=o.attr("uid");var i;for(var a=0;a<r.length;a++)if(r[a].getAttribute(n)==t){i=r[a];break}return e(i)},expandPath:function(t,r){var n=this;var i=t.slice(0);var a=r||e.noop;function s(t){var r=e.Deferred();var i=n.dataSource.get(t);var a=o.attr("expanded");var s;return i?(s=n.findByUid(i.uid),i.loaded()?(i.set("expanded",!0),s.attr(a,!0),s.attr(Q,!0),r.resolve()):(n._progress(s,!0),i.load().then((function(){i.set("expanded",!0),s.attr(a,!0),s.attr(Q,!0),r.resolve()})))):r.resolve(),r.promise()}s(i[0]).then((function e(){i.shift(),i.length?s(i[0]).then(e):a.call(n)}))},_parentIds:function(e){var t=e&&e.parentNode();var r=[];for(;t&&t.parentNode;)r.unshift(t.id),t=t.parentNode();return r},expandTo:function(e){e instanceof o.data.Node||(e=this.dataSource.get(e));var t=this._parentIds(e);this.expandPath(t)},_renderItem:function(e){return e.group||(e.group={}),e.treeview=this.options,e.r=this.templates,this.templates.item(e)},_renderGroup:function(e){var t=this;return e.renderItems=function(e){var r="",n=0,i=e.items,a=i?i.length:0,s=e.group;for(s.length=a;n<a;n++)e.group=s,e.item=i[n],e.item.index=n,r+=t._renderItem(e);return r},e.r=t.templates,t.templates.group(e)}}),o.cssProperties.registerPrefix("TreeView","k-treeview-"),d.plugin(r)}(window.kendo.jQuery);var t=kendo;e.__meta__={id:"treeview",name:"TreeView",category:"web",description:"The TreeView widget displays hierarchical data in a traditional tree structure,with support for interactive drag-and-drop operations.",depends:["data","html.input","icons"],features:[{id:"treeview-dragging",name:"Drag & Drop",description:"Support for drag & drop",depends:["treeview.draganddrop"]}]},e.default=t,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=kendo.treeview.min.js.map
