/**
 * Kendo UI v2025.3.1002 (http://www.telerik.com/kendo-ui)
 * Copyright 2025 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Kendo UI commercial licenses may be obtained at
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete
 * If you do not own a commercial license, this file shall be governed by the trial license terms.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("kendo.core.js"),require("kendo.button.js"),require("kendo.webspeech-common.cmn.chunk.js")):"function"==typeof define&&define.amd?define(["exports","kendo.core.min","kendo.button.min","kendo.webspeech-common.cmn.chunk.min"],t):t(((e="undefined"!=typeof globalThis?globalThis:e||self).kendo=e.kendo||{},e.kendo._globals=e.kendo._globals||{},e.kendo._globals.Speechtotextbutton={}),e.kendo._globals.Core,e.kendo._globals.Button,e.kendo._globals.WebspeechCommonCmnChunk)}(this,(function(e,t,n,i){!function(e){const t=window.kendo,n=t.ui,o=n.Button;const s=o.extend({init:function(t,n){o.fn.init.call(this,t,e.extend({icon:this.options.icon},n)),e(t).addClass("k-speech-to-text-button").attr("aria-live","polite"),this._isListening=!1,this._initSpeechRecognition(),this._updateIcon()},_initSpeechRecognition:function(){if("webSpeech"!==this.options.integrationMode)return;if(!i.K)return void this.enable(!1);const e=this;this.speechRecognition=new i.K({lang:this.options.lang,interimResults:this.options.interimResults,maxAlternatives:this.options.maxAlternatives,continuous:this.options.continuous,events:{start:function(){e._handleStart()},end:function(){e._handleEnd()},result:function(t){e._handleResult(t)},error:function(t){e._handleError(t)}}}),this.speechRecognition.isSupported()||(this.enable(!1),this.trigger("error",{error:this.options.messages.unsupported}))},_handleStart:function(){this._isListening=!0,this.element.addClass("k-listening"),this._updateIcon(),this.trigger("start")},_handleEnd:function(){this._isListening=!1,this.element.removeClass("k-listening"),this._updateIcon(),this.trigger("end")},_handleResult:function(e){const t=e.results;const n=t[t.length-1];const i=[];for(let e=0;e<n.length;e++)i.push({transcript:n[e].transcript,confidence:n[e].confidence});this.trigger("result",{isFinal:n.isFinal,alternatives:i})},_handleError:function(e){this._isListening=!1,this.element.removeClass("k-listening"),this._updateIcon();const t=e&&(e.error||e.message)||"Unknown error";this.trigger("error",{error:t})},options:{name:"SpeechToTextButton",icon:"microphone-outline",stopIcon:"stop-sm",integrationMode:"webSpeech",lang:"en-US",continuous:!1,interimResults:!1,maxAlternatives:1,messages:{unsupported:"Speech recognition is not supported in this browser.",notInitialized:"Speech recognition engine not initialized.",start:"Start speech recognition",stop:"Stop speech recognition"}},events:["start","end","result","error","click"],_updateIcon:function(){const e=this.element.find(".k-icon, .k-svg-icon");const n=this.isListening()?this.options.stopIcon:this.options.icon;const i=this.isListening()?this.options.messages.stop:this.options.messages.start;e.length&&t.ui.icon(e,{icon:n}),this.element.attr("aria-label",i)},isListening:function(){return!!this._isListening},_click:function(e){if(o.fn._click.call(this,e),!e.isDefaultPrevented())if("webSpeech"===this.options.integrationMode){if(!this.speechRecognition||!this.speechRecognition.isSupported())return void this.trigger("error",{error:this.options.messages.unsupported});this.isListening()?this.speechRecognition.stop():this.speechRecognition.start()}else if("none"===this.options.integrationMode){const e=this.isListening()?"end":"start";const t={sender:this};this.trigger(e,t),this._isListening=!this.isListening(),this._updateIcon()}},startRecognition:function(){this.options.enable&&(this.speechRecognition?this.speechRecognition.isSupported()?this.isListening()||this.speechRecognition.start():this.trigger("error",{error:this.options.messages.unsupported}):this.trigger("error",{error:this.options.messages.notInitialized}))},stopRecognition:function(){this.speechRecognition&&this.isListening()&&this.speechRecognition.stop()},abortRecognition:function(){this.speechRecognition&&this.isListening()&&this.speechRecognition.abort()},destroy:function(){this.speechRecognition&&(this.speechRecognition.stop(),"function"==typeof this.speechRecognition.destroy&&this.speechRecognition.destroy(),this.speechRecognition=null),e(this.element).removeClass("k-speech-to-text-button"),o.fn.destroy.call(this)}});t.cssProperties.registerPrefix("SpeechToTextButton","k-button-"),t.cssProperties.registerValues("SpeechToTextButton",[{prop:"rounded",values:t.cssProperties.roundedValues.concat([["full","full"]])}]),n.plugin(s)}(window.kendo.jQuery);var o=kendo;e.__meta__={id:"speechtotextbutton",name:"SpeechToTextButton",category:"web",description:"The SpeechToTextButton widget is an extension of the Kendo UI Button that allows for speech-to-text input.",depends:["core","button","webspeech-common.cmn.chunk"]},e.default=o,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=kendo.speechtotextbutton.min.js.map
