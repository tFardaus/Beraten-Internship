/**
 * Kendo UI v2025.3.1002 (http://www.telerik.com/kendo-ui)
 * Copyright 2025 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Kendo UI commercial licenses may be obtained at
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete
 * If you do not own a commercial license, this file shall be governed by the trial license terms.
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("kendo.date-math.cmn.chunk.js")):"function"==typeof define&&define.amd?define(["exports","kendo.date-math.cmn.chunk.min"],e):e(((t="undefined"!=typeof globalThis?globalThis:t||self).kendo=t.kendo||{},t.kendo._globals=t.kendo._globals||{},t.kendo._globals.DateinputsCommonCmnChunk={}),t.kendo._globals.DateMathCmnChunk)}(this,(function(t,e){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},i(t,e)};function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function a(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}var r=function(){return r=Object.assign||function(t){for(var e,i=1,a=arguments.length;i<a;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},r.apply(this,arguments)};Object.create;Object.create;"function"==typeof SuppressedError&&SuppressedError;var s=function(){this.symbols="",this.partMap=[]};var n="_",o=68,l="d",h="en";var u="Delete",c="Backspace",v=" ";var d=function(t){return new Array(Math.max(t,0)).fill("0").join("")};var g=function(t){return t.replace(/^0*/,"")};var m=function(t,e){return t[e.pattern[0]]=e.type,t};var p=function(t){return null!=t};var f=function(){return!!document};var y=function(t){return p(t)&&"number"==typeof t&&!Number.isNaN(t)};var D=function(t){return parseInt(t,10)};var E=function(t){return y(D(t))&&/^[0-9]+$/.test(t)};var b=function(t,e,i){return Math.min(i,Math.max(e,t))};var P=function(){var t=[];for(var e=0;e<arguments.length;e++)t[e]=arguments[e];return Object.assign.apply(Object,t)};var S=(M="setFullYear",function(t,i){var a=e.c(t);return a[M](i),a});var M;var x=function(t,e,i,a,r,s,n,o){return!(!t||t.getFullYear()!==e||t.getMonth()!==i||t.getDate()!==a||t.getHours()!==r||t.getMinutes()!==s||t.getSeconds()!==n||t.getMilliseconds()!==o)};var I=function(t){return p(t)&&t.getTime&&y(t.getTime())};var w=/d|M|H|h|m|s/;var O=function(){function t(t){var i=t.intlService,a=t.formatPlaceholder,r=t.format,s=t.cycleTime,n=void 0!==s&&s,l=t.twoDigitYearMax,h=void 0===l?o:l,u=t.value,c=void 0===u?null:u,v=t.autoCorrectParts,d=void 0===v||v,g=t.toggleDayPeriod,m=void 0!==g&&g,p=t.autoSwitchParts,f=void 0===p||p;if(this.year=!0,this.month=!0,this.date=!0,this.hours=!0,this.minutes=!0,this.seconds=!0,this.milliseconds=!0,this.dayperiod=!0,this.leadingZero=null,this.typedMonthPart="",this.knownParts="adHhmMsEyS",this.symbols={E:"E",H:"H",M:"M",a:"a",d:"d",h:"h",m:"m",s:"s",y:"y",S:"S"},this._value=this.getDefaultDate(),this.cycleTime=!1,this._partiallyInvalidDate={startDate:null,invalidDateParts:{E:{value:null,date:null,startDateOffset:0},H:{value:null,date:null,startDateOffset:0},M:{value:null,date:null,startDateOffset:0},a:{value:null,date:null,startDateOffset:0},d:{value:null,date:null,startDateOffset:0},h:{value:null,date:null,startDateOffset:0},m:{value:null,date:null,startDateOffset:0},s:{value:null,date:null,startDateOffset:0},y:{value:null,date:null,startDateOffset:0},S:{value:null,date:null,startDateOffset:0}}},this.setOptions({intlService:i,formatPlaceholder:a,format:r,cycleTime:n,twoDigitYearMax:h,value:c,autoCorrectParts:d,toggleDayPeriod:m,autoSwitchParts:f}),c)this._value=e.c(c);else{this._value=this.getDefaultDate();var y=this.dateFormatString(this.value,this.format).symbols;for(var D=0;D<y.length;D++)this.setExisting(y[D],!1)}}return Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(t){(!t||t instanceof Date)&&(this._value=t,this.resetInvalidDate())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localeId",{get:function(){var t=h;var e=Object.keys(this.intl.cldr);for(var i=0;i<e.length;i++){var a=e[i];var r=this.intl.cldr[a];if(r.name&&r.calendar&&r.numbers&&r.name!==h){t=r.name;break}}return t},enumerable:!1,configurable:!0}),t.prototype.setOptions=function(t){this.intl=t.intlService,this.formatPlaceholder=t.formatPlaceholder||"wide",this.format=t.format,this.cycleTime=t.cycleTime,this.monthNames=this.allFormattedMonths(this.localeId),this.dayPeriods=this.allDayPeriods(this.localeId),this.twoDigitYearMax=t.twoDigitYearMax,this.autoCorrectParts=t.autoCorrectParts,this.toggleDayPeriod=t.toggleDayPeriod,this.autoSwitchParts=t.autoSwitchParts},t.prototype.setValue=function(t){t?e.i(t,this._value)?e.i(t,this._value)&&this.dayPeriods&&this.setExisting("a",!0):(this._value=e.c(t),this.modifyExisting(!0)):(this._value=this.getDefaultDate(),this.modifyExisting(!1)),this.resetInvalidDate()},t.prototype.hasValue=function(){var t=this;return this.intl.splitDateFormat(this.format,this.localeId).reduce((function(e,i){return e||"literal"!==i.type&&"dayperiod"!==i.type&&t.getExisting(i.pattern[0])}),!1)},t.prototype.getValue=function(){for(var t=0;t<this.knownParts.length;t++)if(!this.getExisting(this.knownParts[t]))return null;return e.c(this.value)},t.prototype.createDefaultDate=function(){return e.a(2e3,0,31)},t.prototype.getDefaultDate=function(){return e.g(this.createDefaultDate())},t.prototype.getFormattedDate=function(t){return this.intl.formatDate(this.getValue(),t,this.localeId)},t.prototype.getTextAndFormat=function(t){void 0===t&&(t="");var e=t||this.format;var i=this.intl.formatDate(this.value,e,this.localeId);var a=this.dateFormatString(this.value,e);if(!this.autoCorrectParts&&this._partiallyInvalidDate.startDate){var r="";var s=this.intl.formatDate(this.value,e,this.localeId);var n=this.getFormattedInvalidDates(e);for(var o=0;o<s.length;o++){var l=a.symbols[o];if("literal"===a.partMap[o].type)r+=i[o];else if(this.getInvalidDatePartValue(l)){var h=this.getPartsForSegment(a,o);if("M"===l){var u=(D(this.getInvalidDatePartValue(l))+1).toString();if(h.length>2)r+=n[l][o];else if(this.getInvalidDatePartValue(l))r+=d(h.length-u.length)+u,o+=h.length-1;else r+=n[l][o]}else if(this.getInvalidDatePartValue(l)){u=this.getInvalidDatePartValue(l).toString();r+=d(h.length-u.length)+u,o+=h.length-1}else r+=n[l][o]}else r+=i[o]}i=r}return this.merge(i,a)},t.prototype.getFormattedInvalidDates=function(t){var e=this;void 0===t&&(t="");var i=t||this.format;var a={E:"",H:"",M:"",a:"",d:"",h:"",m:"",s:"",y:"",S:""};return Object.keys(this._partiallyInvalidDate.invalidDateParts).forEach((function(t){var r=e.getInvalidDatePart(t).date;if(r){var s=e.intl.formatDate(r,i,e.localeId);a[t]=s}})),a},t.prototype.modifyExisting=function(t){var e=this.dateFormatString(this.value,this.format).symbols;for(var i=0;i<e.length;i++)this.setExisting(e[i],t)},t.prototype.getExisting=function(t){switch(t){case"y":return this.year;case"M":case"L":return this.month;case"d":return this.date;case"E":return this.date&&this.month&&this.year;case"h":case"H":return this.hours;case"t":case"a":return this.dayperiod;case"m":return this.minutes;case"s":return this.seconds;case"S":return this.milliseconds;default:return!0}},t.prototype.setExisting=function(t,e){switch(t){case"y":this.year=e,!1===e&&this._value.setFullYear(2e3);break;case"M":this.month=e,!1===e&&this.autoCorrectParts&&this._value.setMonth(0);break;case"d":this.date=e;break;case"h":case"H":this.hours=e;break;case"t":case"a":this.dayperiod=e;break;case"m":this.minutes=e;break;case"s":this.seconds=e;break;case"S":this.milliseconds=e}this.getValue()&&this.resetInvalidDate()},t.prototype.modifyPart=function(t,i){if(p(t)&&p(i)&&0!==i){var a=e.c(this.value);var r=!1;var s;var n="M"===t;var o="d"===t||"E"===t;var l=this.getExisting(t);if(this.autoCorrectParts||!o&&!n){var h=a.getHours();switch(t){case"y":a.setFullYear(a.getFullYear()+i);break;case"M":a=e.b(this.value,i);break;case"d":case"E":a.setDate(a.getDate()+i);break;case"h":case"H":a.setHours(a.getHours()+i),r=!0;break;case"m":a.setMinutes(a.getMinutes()+i),r=!0;break;case"s":a.setSeconds(a.getSeconds()+i),r=!0;break;case"S":a.setMilliseconds(a.getMilliseconds()+i);break;case"a":this.toggleDayPeriod?a.setHours(h>=12?h-12:h+12):a.setHours(a.getHours()+12*i),r=!0}}else{var u=this._partiallyInvalidDate.invalidDateParts||{};var c=this.getInvalidDatePartValue(t);var v=u.y.value||a.getFullYear();var d=u.M.value||a.getMonth();var g=u.d.value||u.E.value||a.getDate();var m=u.h.value||u.H.value||a.getHours();var f=u.m.value||a.getMinutes();var y=u.s.value||a.getSeconds();var D=u.S.value||a.getMilliseconds();switch(t){case"y":v+=i;break;case"M":d+=i;break;case"d":case"E":g+=i}if("M"===t){if((d<0||d>11)&&l)return this.setExisting(t,!1),void this.resetInvalidDateSymbol(t);if(!l){if(d<0)d=b(d%11+1+11,0,11);else{var E=p(c)?d:(i-1)%12;d=b(E,0,11)}d=b(d,0,11)}d=b(d,0,11)}else if("d"===t)if(l){if(g<=0||g>31)return this.setExisting(t,!1),void this.resetInvalidDateSymbol(t)}else if(!l){if(p(c)&&(g<=0||g>31))return this.setExisting(t,!1),void this.resetInvalidDateSymbol(t);if(i<0){var P=p(c)?g:31-Math.abs(i%31)+1;g=b(P,1,31)}else{P=p(c)?g:i%31;g=b(P,1,31)}g=b(g,1,31)}var S=e.a(v,d,g,m,f,y,D);var M=n||o?this.modifyDateSymbolWithValue(a,t,n?d:g):null;var I=x(S,v,d,g,m,f,y,D);this.getValue()&&x(S,v,d,g,m,f,y,D)?(a=e.c(S),this.markDatePartsAsExisting()):n&&M?M.getMonth()===d?this.getExisting("d")?I?(a=e.c(S),this.resetInvalidDateSymbol(t)):(s=!0,this.setInvalidDatePart(t,{value:d,date:e.c(M),startDateOffset:i,startDate:e.c(this.value)}),this.setExisting(t,!1)):I?(this.resetInvalidDateSymbol(t),a=e.c(S),this.getExisting("M")&&this.getExisting("y")&&(this.setExisting("d",!0),this.resetInvalidDateSymbol("d"))):(this.resetInvalidDateSymbol(t),a=e.c(M)):(s=!0,this.setInvalidDatePart(t,{value:d,date:e.c(M),startDateOffset:i,startDate:e.c(this.value)}),this.setExisting(t,!1)):o&&M&&(M.getDate()===g?this.getExisting("M")?I?(a=e.c(S),this.resetInvalidDateSymbol(t)):(s=!0,this.setInvalidDatePart(t,{value:g,date:e.c(M),startDateOffset:i,startDate:e.c(this.value)}),this.setExisting(t,!1)):I?(a=e.c(S),this.resetInvalidDateSymbol(t),this.getExisting("d")&&this.getExisting("y")&&(this.setExisting("M",!0),this.resetInvalidDateSymbol("M"))):(this.resetInvalidDateSymbol(t),a=e.c(M)):(s=!0,this.setInvalidDatePart(t,{value:g,date:e.c(this.value),startDateOffset:i,startDate:e.c(this.value)}),this.setExisting(t,!1)))}this.shouldNormalizeCentury()&&(a=this.normalizeCentury(a)),r&&!this.cycleTime&&(a.getDate(),this._value.getDate()),s||(this.setExisting(t,!0),this._value=a,this.getValue()&&this.resetInvalidDate())}},t.prototype.parsePart=function(t){var i=t.symbol,a=t.currentChar,r=t.resetSegmentValue,s=t.cycleSegmentValue,n=t.rawTextValue,o=t.isDeleting,l=t.originalFormat;var h=!s;var u=this.dateFormatString(this.value,this.format);var c=u.partMap.filter((function(t){return"literal"===t.type})).map((function(t,e){return{datePartIndex:e,type:t.type,pattern:t.pattern,literal:""}}));var v=u.partMap.map((function(t){return{type:t.type,pattern:t.pattern,text:""}}));for(var m=0;m<c.length;m++){var f=c[m];for(var b=0;b<f.pattern.length;b++)c[m+b]&&(c[m+b].literal=f.pattern[b]);m+=f.pattern.length-1}for(m=0;m<v.length;m++){f=v[m];for(b=0;b<f.pattern.length;b++)v[m+b]&&(v[m+b].text=f.pattern[b]);m+=f.pattern.length-1}var S={value:null,switchToNext:!1,resetPart:h&&"M"===i&&u.partMap.filter((function(t){return"month"===t.type})).some((function(t){return t.pattern.length>2})),hasInvalidDatePart:!1};if(!a){if(!h)return this.resetLeadingZero(),this.setExisting(i,!1),this.resetInvalidDateSymbol(i),P(S,{value:null,switchToNext:!1});for(m=0;m<c.length;m++){var M=c[m].literal;var w=n.startsWith(M);var O=n.endsWith(M);var V=n.indexOf(M+M)>=0;if(w||O||V)return this.resetLeadingZero(),this.setExisting(i,!1),this.resetInvalidDateSymbol(i),P(S,{value:null,switchToNext:!1})}}var F=this.intl.formatDate(this.value,this.format,this.localeId);var k=u.symbols;var C=!1;var N="";var j="";var T="";var _="";var L="";var A="";var H="";for(m=0;m<v.length;m++)H+=v[m].text;var K=this.format===k||this.format===H||this.format===l||this.format.length===l.length;var B=(K?H:l).indexOf(i);var W=(K?H:l).lastIndexOf(i)-B+1;var Z=l.length-n.length;if(h||!h&&!this.autoCorrectParts){var Y=0;for(m=0;m<F.length;m++)if(k[m]===i){var U=this.getExisting(i);if("y"===i)if(!this.hasInvalidDatePart()&&this.getExisting("y"))j+=F[m];else{var z=this.getInvalidDatePartValue(i);p(z)?(j+=(z||"").toString()[Y]||"",Y++):j+=U?F[m]:"0"}else j+=U?F[m]:"0";Z>0?T.length+Z<W&&(T+=n[m]||""):T+=n[m]||"",C=!0}else C?(A+=F[m],L+=F[m]):(N+=F[m],_+=F[m]);if(K&&(H.length<n.length?T+=a:!o&&(l.length,n.length),T.length>W))return P(S,{value:null,switchToNext:!1});if(!K||K&&!this.autoCorrectParts){j="",T="",N="",A="",C=!1;var R=0;for(m=0;m<l.length;m++)if(l[m]===i){U=this.getExisting(i);if("y"===i)if(!this.hasInvalidDatePart()&&this.getExisting("y"))j+=F[m];else{z=this.getInvalidDatePartValue(i);p(z)?(j+=(z||"").toString()[R]||"",R++):j+=U?F[m]:"0"}else j+=U?F[m]||"":"0";Z>0?T.length+Z<W&&(T+=n[m]||""):T+=n[m]||"",C=!0}else C?A+=n[m-Z]||"":N+=n[m]||"";l.length<n.length&&(T+=a)}}if(!h)if(this.autoCorrectParts){j="",T="",N="",A="",C=!1;for(m=0;m<F.length;m++){if(k[m]===i)j+=(U=this.getExisting(i))?F[m]:"0",C=!0;else C?A+=F[m]:N+=F[m]}}else j=r?T:j;var q=null;var J=this.matchMonth(a);var $=this.matchDayPeriod(a,i);var G="0"===a;var Q=this.leadingZero||{};G?("0"===T&&(T=j),0!==D(r?a:(h?T:j)+a)||this.isAbbrMonth(u.partMap,i)||"a"===i||this.incrementLeadingZero(i)):this.resetLeadingZero();var X=this.partPattern(u.partMap,i);var tt=X?X.pattern:null;var et=this.patternLength(tt)||tt.length;if(h&&o&&!T)return this.setExisting(i,!1),P(S,{value:null,switchToNext:!1});var it=j.length-3;var at=!0;var rt=h?T:j;for(m=Math.max(0,it);m<=j.length&&at;m++){rt=r?a:h?T:j.substring(m)+a,this.autoSwitchParts&&"h"===i&&"12"===j.substring(m)&&(rt=rt.replace("12","0")),!h&&this.autoCorrectParts||(at=!1,rt=g(rt),rt=d(et-rt.length)+rt);var st=parseInt(rt,10);var nt=N+rt+A;(q=this.intl.parseDate(nt,this.format,this.localeId))&&this.value&&u.partMap.every((function(t){return"year"!==t.type&&"month"!==t.type&&"day"!=t.type}))&&(q.setFullYear(this.value.getFullYear()),q.setMonth(this.value.getMonth()),q.setDate(this.value.getDate()));var ot=!1;h&&!I(q)&&this.autoCorrectParts&&(q=this.intl.parseDate(_+rt+L,this.format,this.localeId),ot=!0);var lt=!isNaN(parseInt(a,10))||h&&o&&""===a;if(!q&&!isNaN(st)&&lt&&this.autoCorrectParts){if("M"===i&&!J){var ht=st-1;ht>-1&&ht<12&&((q=e.c(this.value)).setMonth(ht),q.getMonth()!==ht&&(q=e.l(e.b(q,-1))))}"y"===i&&(q=e.a(parseInt(rt,10),this.month?this.value.getMonth():0,this.date?this.value.getDate():1,this.hours?this.value.getHours():0,this.minutes?this.value.getMinutes():0,this.seconds?this.value.getSeconds():0,this.milliseconds?this.value.getMilliseconds():0),(h&&I(q)||!h&&q)&&this.date&&q.getDate()!==this.value.getDate()&&(q=e.l(e.b(q,-1))))}if(h&&I(q)||!h&&q){var ut=this.isPeekDateOverflowingDatePart({useBasePrefixAndSuffix:ot,middle:rt,patternValue:tt,basePrefix:_,baseSuffix:L,prefix:N,suffix:A,symbol:i,patternLength:et,leadingZero:Q});var ct=ut.switchToNext;return this.shouldNormalizeCentury()&&(q=this.normalizeCentury(q)),"H"===i&&q.getHours()>=12&&this.setExisting("a",!0),this._value=q,this.setExisting(i,!0),this.resetInvalidDateSymbol(i),this.autoCorrectParts||("M"===i?this.getExisting("M")&&this.getExisting("y")&&(this.setExisting("d",!0),this.resetInvalidDateSymbol("d")):"d"===i?this.getExisting("d")&&this.getExisting("y")&&(this.setExisting("M",!0),this.resetInvalidDateSymbol("M")):"y"===i&&this.markDatePartsAsExisting(),this.hasInvalidDatePart()||(this.markDatePartsAsExisting(),ut.peekedDate||!ut.switchToNext||this.autoCorrectParts||"M"===i||"d"===i&&30===ut.parsedPeekedValue&&1===this.value.getMonth()&&(ct=!1))),P(S,{value:this.value,switchToNext:ct})}}if(J&&(q=this.intl.parseDate(N+J+A,this.format,this.localeId)))return this._value=q,this.setExisting(i,!0),P(S,{value:this.value,switchToNext:!1});if($&&(q=this.intl.parseDate(N+$+A,this.format)||this.intl.parseDate(_+$+L,this.format)))return this._value=q,this.setExisting(i,!0),P(S,{value:this.value,switchToNext:!0});if(G&&"a"!==i&&this.setExisting(i,!1),!this.autoCorrectParts){var vt=void 0;var dt=h?T:rt;var gt=D(dt);if(y(gt)&&E(dt)){if("d"===i&&(gt<=0||gt>31)||"M"===i&&(gt<=0||gt>11)){if(h)return P(S,{value:null,switchToNext:!1});gt=D(dt=a)}if(!y(gt)||!E(dt))return P(S,{value:null,switchToNext:!1});vt="M"===i?gt-1:gt;var mt="y"===i;var pt="M"===i;var ft="d"===i;var yt=e.c(this._value);var Dt=this._partiallyInvalidDate.invalidDateParts||{};var Et=mt?vt:Dt.y.value||yt.getFullYear();var bt=pt?vt:Dt.M.value||yt.getMonth();var Pt=ft?vt:Dt.d.value||Dt.E.value||yt.getDate();var St=Dt.h.value||Dt.H.value||yt.getHours();var Mt=Dt.m.value||yt.getMinutes();var xt=Dt.s.value||yt.getSeconds();var It=Dt.S.value||yt.getMilliseconds();var wt=e.a(Et,bt,Pt,St,Mt,xt,It);var Ot=x(wt,Et,bt,Pt,St,Mt,xt,It);var Vt=mt||pt||ft?this.modifyDateSymbolWithValue(yt,i,mt?Et:pt?bt:Pt):null;var Ft=!1;if(pt&&Vt?Vt.getMonth()===bt?this.getExisting("d")?Ot?(yt=e.c(wt),this.resetInvalidDateSymbol(i)):(Ft=!0,this.setInvalidDatePart(i,{value:bt,date:e.c(Vt),startDate:e.c(this.value)}),this.setExisting(i,!1)):Ot?(this.resetInvalidDateSymbol(i),yt=e.c(wt),this.getExisting("M")&&this.getExisting("y")&&(this.setExisting("d",!0),this.resetInvalidDateSymbol("d"))):(this.resetInvalidDateSymbol(i),yt=e.c(Vt)):(Ft=!0,this.setInvalidDatePart(i,{value:bt,date:e.c(Vt),startDate:e.c(this.value)}),this.setExisting(i,!1)):ft&&Vt?Vt.getDate()===Pt?this.getExisting("M")?Ot?(yt=e.c(wt),this.resetInvalidDateSymbol(i)):(Ft=!0,this.setInvalidDatePart(i,{value:Pt,date:e.c(Vt),startDate:e.c(this.value)}),this.setExisting(i,!1)):Ot?(yt=e.c(wt),this.resetInvalidDateSymbol(i),this.getExisting("d")&&this.getExisting("y")&&(this.setExisting("M",!0),this.resetInvalidDateSymbol("M"))):(this.resetInvalidDateSymbol(i),yt=e.c(Vt)):(Ft=!0,this.setInvalidDatePart(i,{value:Pt,date:e.c(this.value),startDate:e.c(this.value)}),this.setExisting(i,!1)):mt&&Vt&&(Vt.getFullYear()===Et?this.getExisting("d")&&this.getExisting("M")?Ot?(yt=e.c(wt),this.resetInvalidDateSymbol(i)):(Ft=!0,this.setInvalidDatePart(i,{value:Et,date:e.c(Vt),startDate:e.c(this.value)}),this.setExisting(i,!1)):Ot?(this.resetInvalidDateSymbol(i),yt=e.c(wt),this.getExisting("M")&&this.getExisting("d")&&(this.setExisting("y",!0),this.resetInvalidDateSymbol("y"))):(this.resetInvalidDateSymbol(i),yt=e.c(Vt)):(Ft=!0,this.setInvalidDatePart(i,{value:Et,date:e.c(Vt),startDate:e.c(this.value)}),this.setExisting(i,!1))),!Ft){if(this.setExisting(i,!0),h&&!I(q)){var kt=this.intl.parseDate(_+rt+L,this.format,this.localeId);I(kt)&&(this._value=kt)}else this._value=yt;this.getValue()&&this.resetInvalidDate()}ct=!1;if("M"===i)ct=gt>=2||dt.length>=2;else if(K)ct=this.isPeekDateOverflowingDatePart({useBasePrefixAndSuffix:!this.autoCorrectParts,middle:rt,patternValue:tt,basePrefix:_,baseSuffix:L,prefix:N,suffix:A,symbol:i,patternLength:et,leadingZero:Q}).switchToNext;else ct=dt.length>W;return P(S,{value:null,switchToNext:ct,hasInvalidDatePart:Ft})}}return P(S,{value:null,switchToNext:!1})},t.prototype.symbolMap=function(t){return this.intl.splitDateFormat(this.format,this.localeId).reduce(m,{})[t]},t.prototype.resetLeadingZero=function(){var t=null!==this.leadingZero;return this.setLeadingZero(null),t},t.prototype.setLeadingZero=function(t){this.leadingZero=t},t.prototype.getLeadingZero=function(){return this.leadingZero||{}},t.prototype.normalizeCentury=function(t){if(!p(t))return t;var e=function(t){return!p(t)||isNaN(t.getTime())?0:Number(t.getFullYear().toString().slice(-2))}(t);var i=this.getNormalizedCenturyBase(e);return S(t,i+e)},t.prototype.incrementLeadingZero=function(t){var e=this.leadingZero||{};e[t]=(e[t]||0)+1,this.leadingZero=e},t.prototype.isAbbrMonth=function(t,e){var i=this.partPattern(t,e);return"month"===i.type&&i.names},t.prototype.partPattern=function(t,e){return t.filter((function(t){return-1!==t.pattern.indexOf(e)}))[0]},t.prototype.peek=function(t,e){var i=t.replace(/^0*/,"")+"0";return d(e.length-i.length)+i},t.prototype.matchMonth=function(t){if(this.typedMonthPart+=t.toLowerCase(),0===this.monthNames.length)return"";for(;this.typedMonthPart.length>0;){for(var e=0;e<this.monthNames.length;e++)if(0===this.monthNames[e].toLowerCase().indexOf(this.typedMonthPart))return this.monthNames[e];var i=parseInt(this.typedMonthPart,10);if(i>=1&&i<=12&&i.toString()===this.typedMonthPart)return this.monthNames[i-1];this.typedMonthPart=this.typedMonthPart.substring(1,this.typedMonthPart.length)}return""},t.prototype.matchDayPeriod=function(t,e){var i=t.toLowerCase();if("a"===e&&this.dayPeriods){if(this.dayPeriods.am.toLowerCase().startsWith(i))return this.dayPeriods.am;if(this.dayPeriods.pm.toLowerCase().startsWith(i))return this.dayPeriods.pm}return""},t.prototype.allFormattedMonths=function(t){void 0===t&&(t="en");var e=this.intl.splitDateFormat(this.format,this.localeId);for(var i=0;i<e.length;i++)if("month"===e[i].type&&e[i].names)return this.intl.dateFormatNames(t,e[i].names);return[]},t.prototype.allDayPeriods=function(t){void 0===t&&(t="en");var e=this.intl.splitDateFormat(this.format);for(var i=0;i<e.length;i++)if("dayperiod"===e[i].type&&e[i].names)return this.intl.dateFormatNames(t,e[i].names);return null},t.prototype.patternLength=function(t){return"y"===t[0]?4:w.test(t)?2:0},t.prototype.dateFormatString=function(t,e){var i=this.intl.splitDateFormat(e,this.localeId);var a=[];var r=[];for(var o=0;o<i.length;o++){var l=this.intl.formatDate(t,{pattern:i[o].pattern},this.localeId).length;for(;l>0;)a.push(this.symbols[i[o].pattern[0]]||n),r.push(i[o]),l--}var h=new s;return h.symbols=a.join(""),h.partMap=r,h},t.prototype.merge=function(t,e){var i="";var a="";var r=e.symbols;var s=!1;var n=0;var o=this.getFormattedInvalidDates(r);for(var l=r.length-1;l>=0;l--){var h=this.getPartsForSegment(e,l);if(-1===this.knownParts.indexOf(r[l])||this.getExisting(r[l]))this.autoCorrectParts?i=t[l]+i:t.length!==r.length?s?i=t[l]+i:n>0?(i=t[l]+i,--n<=0&&(s=!0)):i=(t[l+t.length-r.length]||"")+i:i=t[l]+i,a=r[l]+a;else{var u=r[l];var c=0;if(this.autoCorrectParts||!this.autoCorrectParts&&!this.getInvalidDatePartValue(u)){for(;l>=0&&u===r[l];)l--;l++}if(this.leadingZero&&this.leadingZero[u])i="0"+i;else if(!this.autoCorrectParts&&this.getInvalidDatePartValue(u)){var v=this.getInvalidDatePartValue(u).toString();if("M"===u)if(v=(D(this.getInvalidDatePartValue(u))+1).toString(),h.length>2)i=o[u][l]+i;else v=(D(this.getInvalidDatePartValue(u))+1).toString(),i=d(h.length-v.length)+v+i,c=h.length-1,n=v.length-h.length;else i=d(h.length-v.length)+v+i,c=h.length-1,n=v.length-h.length}else i=this.dateFieldName(e.partMap[l])+i;for(;a.length<i.length;)a=r[l]+a;0!==c&&(l=l-c+(t.length-r.length))}}return{text:i,format:a}},t.prototype.dateFieldName=function(t){var e=this.formatPlaceholder||"wide";return e[t.type]?e[t.type]:"formatPattern"===e?t.pattern:this.intl.dateFieldName(Object.assign(t,{nameType:e}))},t.prototype.getNormalizedCenturyBase=function(t){return t>this.twoDigitYearMax?1900:2e3},t.prototype.shouldNormalizeCentury=function(){return this.intl.splitDateFormat(this.format).some((function(t){return"yy"===t.pattern}))},t.prototype.resetInvalidDate=function(){var t=this;this._partiallyInvalidDate.startDate=null,Object.keys(this._partiallyInvalidDate.invalidDateParts).forEach((function(e){t.resetInvalidDatePart(e)}))},t.prototype.resetInvalidDateSymbol=function(t){var e=this;this.resetInvalidDatePart(t);var i=!0;Object.keys(this._partiallyInvalidDate.invalidDateParts).forEach((function(t){e._partiallyInvalidDate.invalidDateParts[t]&&p(e._partiallyInvalidDate.invalidDateParts[t].value)&&(i=!1)})),i&&this.resetInvalidDate()},t.prototype.resetInvalidDatePart=function(t){this._partiallyInvalidDate.invalidDateParts[t]&&(this._partiallyInvalidDate.invalidDateParts[t]={value:null,date:null,startDateOffset:0})},t.prototype.getInvalidDatePart=function(t){return this._partiallyInvalidDate.invalidDateParts[t]||{}},t.prototype.getInvalidDatePartValue=function(t){return(this._partiallyInvalidDate.invalidDateParts[t]||{}).value},t.prototype.setInvalidDatePart=function(t,e){var i=e.value,a=void 0===i?null:i,r=e.date,s=void 0===r?null:r,n=e.startDateOffset,o=void 0===n?0:n,l=e.startDate,h=void 0===l?null:l;this._partiallyInvalidDate.invalidDateParts[t]&&(this._partiallyInvalidDate.invalidDateParts[t].value=a,this._partiallyInvalidDate.invalidDateParts[t].date=s,this._partiallyInvalidDate.invalidDateParts[t].startDateOffset=o,this._partiallyInvalidDate.startDate=h)},t.prototype.hasInvalidDatePart=function(){var t=this;var e=!1;return Object.keys(this._partiallyInvalidDate.invalidDateParts).forEach((function(i){t._partiallyInvalidDate.invalidDateParts[i]&&p(t._partiallyInvalidDate.invalidDateParts[i].value)&&(e=!0)})),e},t.prototype.modifyDateSymbolWithOffset=function(t,i,a){var r=e.c(t);var s=!1;switch(i){case"y":r.setFullYear(r.getFullYear()+a);break;case"M":r=e.b(this.value,a);break;case"d":case"E":r.setDate(r.getDate()+a);break;case"h":case"H":r.setHours(r.getHours()+a),s=!0;break;case"m":r.setMinutes(r.getMinutes()+a),s=!0;break;case"s":r.setSeconds(r.getSeconds()+a),s=!0;break;case"S":r.setMilliseconds(r.getMilliseconds()+a);break;case"a":r.setHours(r.getHours()+12*a),s=!0}return{date:r,timeModified:s}},t.prototype.modifyDateSymbolWithValue=function(t,i,a){var r=e.c(t);switch(i){case"y":r.setFullYear(a);break;case"M":r=e.b(t,a-t.getMonth());break;case"d":case"E":r.setDate(a);break;case"h":case"H":case"a":r.setHours(a);break;case"m":r.setMinutes(a);break;case"s":r.setSeconds(a);break;case"S":r.setMilliseconds(a)}return r},t.prototype.markDatePartsAsExisting=function(){this.modifyExisting(!0)},t.prototype.getPartsForSegment=function(t,e){var i=t.partMap[e];var a=[];for(var r=e;r<t.partMap.length;r++){var s=t.partMap[r];if(i.type!==s.type||i.pattern!==s.pattern)break;a.push(s)}for(r=e-1;r>=0;r--){s=t.partMap[r];if(i.type!==s.type||i.pattern!==s.pattern)break;a.unshift(s)}return a},t.prototype.isPeekDateOverflowingDatePart=function(t){var e=t.useBasePrefixAndSuffix,i=t.middle,a=t.patternValue,r=t.basePrefix,s=t.baseSuffix,n=t.prefix,o=t.suffix,l=t.symbol,h=t.patternLength,u=t.leadingZero;var c=this.peek(i,a);var v=e?"".concat(r).concat(c).concat(s):"".concat(n).concat(c).concat(o);var d=this.intl.parseDate(v,this.format,this.localeId);var m=((this.leadingZero||{})[l]||0)+g(i).length>=h;return{peekedDate:d,peekedDateString:v,peekedValue:c,parsedPeekedValue:D(c),switchToNext:null===d||(u[l]?a.length<=i.length:m)}},t}();var V=8,F=46,k=9,C=13,N=37,j=38,T=39,_=40,L=35,A=36;var H={events:{}};var K=function(){function t(t){this.options=P({},H,t)}return t.prototype.destroy=function(){this.options={}},t.prototype.trigger=function(t,e){void 0===e&&(e={});var i={defaultPrevented:!1,preventDefault:function(){i.defaultPrevented=!0}};return"function"==typeof this.options.events[t]&&(this.options.events[t](P(i,e,{sender:this})),i.defaultPrevented)},t}();var B;var W;!function(t){t.None="none",t.Caret="caret",t.Selection="selection"}(B||(B={}));var Z="dragStart";var Y="drop";var U="touchstart";var z="mousedown";var R="mouseup";var q="click";var J="input";var $="keydown";var G="focus";var Q="blur";var X="paste";var tt="DOMMouseScroll";var et="mousewheel";var it="valueChange";var at="inputEnd";var rt="blurEnd";var st="focusEnd";var nt="change";var ot={format:"d",hasPlaceholder:!1,placeholder:null,cycleTime:!0,locale:null,steps:{millisecond:1,second:1,minute:1,hour:1,day:1,month:1,year:1},formatPlaceholder:null,events:(W={},W[it]=null,W[J]=null,W[at]=null,W[G]=null,W[st]=null,W[Q]=null,W[rt]=null,W[$]=null,W[et]=null,W[nt]=null,W),selectNearestSegmentOnFocus:!1,selectPreviousSegmentOnBackspace:!1,enableMouseWheel:!1,allowCaretMode:!1,autoSwitchParts:!0,autoSwitchKeys:[],twoDigitYearMax:o,autoCorrectParts:!0,autoFill:!1,toggleDayPeriod:!1};var lt=function(t){function i(e,i){var a=t.call(this,i)||this;return a.dateObject=null,a.currentText="",a.currentFormat="",a.interactionMode=B.None,a.previousElementSelection={start:0,end:0},a.init(e,i),a}return a(i,t),Object.defineProperty(i.prototype,"value",{get:function(){return this.dateObject&&this.dateObject.getValue()},enumerable:!1,configurable:!0}),i.prototype.init=function(t,i){var a=I(this.options.value)?e.c(this.options.value):new Date(i.formattedValue);I(a)||(a=null),this.element=t,this.options=P({},ot,i,{steps:r(r({},ot.steps),i.steps)}),this.intl=this.options.intlService,this.dateObject=this.createDateObject(),this.dateObject.setValue(a),this.setTextAndFormat(),this.bindEvents(),this.resetSegmentValue=!0,this.interactionMode=B.None,this.forceUpdate()},i.prototype.destroy=function(){this.unbindEvents(),this.dateObject=null,t.prototype.destroy.call(this)},i.prototype.bindEvents=function(){this.onElementDragStart=this.onElementDragStart.bind(this),this.element.addEventListener(Z,this.onElementDragStart),this.onElementDrop=this.onElementDrop.bind(this),this.element.addEventListener(Y,this.onElementDrop),this.onElementClick=this.onElementClick.bind(this),this.element.addEventListener(q,this.onElementClick),this.onElementMouseDown=this.onElementMouseDown.bind(this),this.element.addEventListener(z,this.onElementMouseDown),this.element.addEventListener(U,this.onElementMouseDown),this.onElementMouseUp=this.onElementMouseUp.bind(this),this.element.addEventListener(R,this.onElementMouseUp),this.onElementInput=this.onElementInput.bind(this),this.element.addEventListener(J,this.onElementInput),this.onElementKeyDown=this.onElementKeyDown.bind(this),this.element.addEventListener($,this.onElementKeyDown),this.onElementFocus=this.onElementFocus.bind(this),this.element.addEventListener(G,this.onElementFocus),this.onElementBlur=this.onElementBlur.bind(this),this.element.addEventListener(Q,this.onElementBlur),this.onElementChange=this.onElementChange.bind(this),this.element.addEventListener(nt,this.onElementChange),this.onElementPaste=this.onElementPaste.bind(this),this.element.addEventListener(X,this.onElementPaste),this.onElementMouseWheel=this.onElementMouseWheel.bind(this),this.element.addEventListener(tt,this.onElementMouseWheel),this.element.addEventListener(et,this.onElementMouseWheel)},i.prototype.unbindEvents=function(){this.element.removeEventListener(Z,this.onElementDragStart),this.element.removeEventListener(Y,this.onElementDrop),this.element.removeEventListener(U,this.onElementMouseDown),this.element.removeEventListener(z,this.onElementMouseDown),this.element.removeEventListener(R,this.onElementMouseUp),this.element.removeEventListener(q,this.onElementClick),this.element.removeEventListener(J,this.onElementInput),this.element.removeEventListener($,this.onElementKeyDown),this.element.removeEventListener(G,this.onElementFocus),this.element.removeEventListener(Q,this.onElementBlur),this.element.removeEventListener(nt,this.onElementChange),this.element.removeEventListener(X,this.onElementPaste),this.element.removeEventListener(tt,this.onElementMouseWheel),this.element.removeEventListener(et,this.onElementMouseWheel)},i.prototype.setOptions=function(t,e){void 0===e&&(e=!1),this.options=P({},this.options,t,{steps:r(r({},ot.steps),t.steps)}),this.setDateObjectOptions(),e&&(this.unbindEvents(),this.init(this.element,this.options))},i.prototype.setDateObjectOptions=function(){if(this.dateObject){var t=this.getDateObjectOptions();this.dateObject.setOptions(t)}},i.prototype.resetLocale=function(){this.unbindEvents(),this.init(this.element,this.options)},i.prototype.isInCaretMode=function(){return this.interactionMode===B.Caret},i.prototype.focus=function(){this.element.focus(),this.options.selectNearestSegmentOnFocus&&this.selectNearestSegment(0)},i.prototype.onElementDragStart=function(t){t.preventDefault()},i.prototype.onElementDrop=function(t){t.preventDefault()},i.prototype.onElementMouseDown=function(){this.mouseDownStarted=!0,this.focusedPriorToMouseDown=this.isActive},i.prototype.onElementMouseUp=function(t){this.mouseDownStarted=!1,t.preventDefault()},i.prototype.onElementClick=function(t){this.mouseDownStarted=!1,this.switchedPartOnPreviousKeyAction=!1;var e=this.selection;if(this.isInCaretMode()&&this.forceUpdate(),3===t.detail);else if(this.isActive&&this.options.selectNearestSegmentOnFocus){var i=this.element.selectionStart!==this.element.selectionEnd;var a=p(this.options.placeholder)&&!this.dateObject.hasValue()&&!this.focusedPriorToMouseDown;var r=!i&&a?0:this.caret()[0];this.selectNearestSegment(r)}else this.setSelection(this.selectionByIndex(e.start))},i.prototype.onElementInput=function(t){this.triggerInput({event:t});var i=this.elementValue;if(this.element&&this.dateObject){var a=this.switchedPartOnPreviousKeyAction;if(this.isPasteInProgress)return this.options.allowCaretMode&&(this.resetSegmentValue=!1),this.updateOnPaste(t),void(this.isPasteInProgress=!1);var r=this.keyDownEvent||{};var s=r.keyCode===V||r.key===c;var o=r.keyCode===F||r.key===u;var l=this.interactionMode;!this.options.allowCaretMode||l===B.Caret||o||s||(this.resetSegmentValue=!0),this.options.allowCaretMode?this.interactionMode=B.Caret:this.interactionMode=B.Selection;var h=this.isInCaretMode();if(h&&this.keyDownEvent.key===v)this.restorePreviousInputEventState();else{var d=this.dateObject&&this.dateObject.getValue();var g=this.dateObject?this.dateObject.value:null;var m=this.dateObject.getTextAndFormat(),f=m.text,y=m.format;this.currentFormat=y;var D=function(t){var e=t.oldText,i=t.newText,a=t.formatPattern,r=t.selectionStart,s=t.isInCaretMode,o=t.keyEvent;var l=r+e.length-i.length;var h=e[l];var v=e.substring(0,l);var d=i.substring(0,r);var g=[];if(v===d&&r>0)return g.push([a[r-1],d[r-1]]),g;if(0===v.indexOf(d)&&s&&(o.key===u||o.key===c)||0===v.indexOf(d)&&!s&&(0===d.length||a[d.length-1]!==a[d.length])){var m="";s||1!==d.length||g.push([a[0],d[0]]);for(var p=d.length;p<v.length;p++)a[p]!==m&&a[p]!==n&&(m=a[p],g.push([m,""]));return g}if(s&&(0===d.indexOf(v)||a[r-1]===n)||!s&&(0===d.indexOf(v)||a[r-1]===n)){var f=a[0];for(p=Math.max(0,v.length-1);p<a.length;p++)if(a[p]!==n){f=a[p];break}return[[f,d[r-1]]]}return" "===d[d.length-1]||d[d.length-1]===h&&"_"===a[l]?[[a[r-1],n]]:[[a[r-1],d[r-1]]]}({oldText:h&&(s||o||l===B.Caret)?this.previousElementValue:f,newText:this.elementValue,formatPattern:this.currentFormat,selectionStart:this.selection.start,isInCaretMode:h,keyEvent:this.keyDownEvent});if(D&&D.length&&D[0]&&D[0][1]!==n&&(this.switchedPartOnPreviousKeyAction=!1),!h||D&&0!==D.length){if(h&&1===D.length){if(!D[0]||!D[0][0])return void this.restorePreviousInputEventState();if(h&&D[0]&&(D[0][0]===n||D[0][1]===n))return void this.restorePreviousInputEventState()}var E=1===D.length&&D[0][1]===n;var b=[];var P=!1;var S=null;if(!E)for(var M=0;M<D.length;M++){var x=this.dateObject.parsePart({symbol:D[M][0],currentChar:D[M][1],resetSegmentValue:this.resetSegmentValue,cycleSegmentValue:!this.isInCaretMode(),rawTextValue:this.element.value,isDeleting:s||o,originalFormat:this.currentFormat});b.push(x),x.value||(S={type:"parse"}),P=x.switchToNext}this.options.autoSwitchParts||(P=!1),this.resetSegmentValue=!1;var I=this.options.format===this.currentFormat||p(this.options.format)&&this.options.format.length>1;var w=b[b.length-1];var O=w&&!p(w.value);var k=h&&(s||o)&&O;var C=!!w&&w.resetPart;var N=this.dateObject.getValue();var j=!e.i(d,N);var T=this.dateObject.value;var _;var L=this.selection;if(h){var A=D&&D.length>0?D[0][0]:null;var H=this.dateObject.getLeadingZero()[A];D.length&&D[0][0]!==n?P?(this.forceUpdateWithSelection(),this.switchDateSegment(1)):C?(_=this.currentFormat[L.start])?(this.forceUpdate(),this.setSelection(this.selectionBySymbol(_))):this.restorePreviousInputEventState():k?(this.forceUpdate(),D.length&&D[0][0]!==n&&this.setSelection(this.selectionBySymbol(D[0][0]))):O?"0"===t.data&&H||(p(d)&&!p(N)?this.restorePreviousInputEventState():!p(d)&&p(N)?this.forceUpdateWithSelection():p(d)&&p(N)?j?this.forceUpdateWithSelection():this.restorePreviousInputEventState():p(d)||p(N)?g!==T||this.restorePreviousInputEventState():this.forceUpdateWithSelection()):O||I||this.forceUpdateWithSelection():(this.options.autoSwitchParts||D[0][1]!==n)&&this.setSelection(this.selectionBySymbol(D[0][0]))}else h||(this.forceUpdate(),D.length&&D[0][0]!==n&&this.setSelection(this.selectionBySymbol(D[0][0])),this.options.autoSwitchParts?E?(this.resetSegmentValue=!0,a||this.switchDateSegment(1),this.switchedPartOnPreviousKeyAction=!0):P&&(this.switchDateSegment(1),this.switchedPartOnPreviousKeyAction=!0):w&&w.switchToNext?this.resetSegmentValue=!0:E&&(this.resetSegmentValue=!0,a||this.switchDateSegment(1),this.switchedPartOnPreviousKeyAction=!0),s&&this.options.selectPreviousSegmentOnBackspace&&this.switchDateSegment(-1));this.tryTriggerValueChange({oldValue:d,event:t}),this.triggerInputEnd({event:t,error:S,oldElementValue:i,newElementValue:this.elementValue}),h&&this.setTextAndFormat()}else this.restorePreviousInputEventState()}}},i.prototype.onElementFocus=function(t){this.triggerFocus({event:t})||(this.isActive=!0,this.interactionMode=B.None,this.switchedPartOnPreviousKeyAction=!1,this.refreshElementValue(),this.mouseDownStarted||this.caret(0,this.elementValue.length),this.mouseDownStarted=!1,this.triggerFocusEnd({event:t}))},i.prototype.onElementBlur=function(t){this.resetSegmentValue=!0,this.isActive=!1,this.triggerBlur({event:t})||(this.options.autoFill&&this.autoFill(),this.interactionMode=B.None,this.switchedPartOnPreviousKeyAction=!1,this.refreshElementValue(),this.triggerBlurEnd({event:t}))},i.prototype.onElementChange=function(t){this.triggerChange({event:t})},i.prototype.onElementKeyDown=function(t){if(!this.triggerKeyDown({event:t})){var e=this.selection,i=e.start,a=e.end;var r=t;if(this.keyDownEvent=t,this.previousElementValue=this.element.value,this.previousElementSelection={start:i,end:a},this.keyEventMatchesAutoSwitchKeys(t)){var s=t.keyCode===k;if(!s)return t.preventDefault(),void this.switchDateSegment(1);var n=this.selection,o=n.start,l=n.end;if(t.shiftKey&&s?this.switchDateSegment(-1):this.switchDateSegment(1),o!==this.selection.start||l!==this.selection.end)return void t.preventDefault()}var h=this.currentFormat[this.selection.start];var u=this.getStepFromSymbol(h);var c=!1;var v=this.elementValue;if(!(t.altKey||t.ctrlKey||t.metaKey||t.keyCode===k)){switch(t.keyCode){case N:this.switchDateSegment(-1),c=!0,this.switchedPartOnPreviousKeyAction=!1;break;case j:this.modifyDateSegmentValue(u,h,r),v!==this.elementValue&&this.triggerInputEnd({event:t,error:null,newElementValue:this.elementValue,oldElementValue:v}),c=!0,this.switchedPartOnPreviousKeyAction=!1;break;case T:this.switchDateSegment(1),c=!0,this.switchedPartOnPreviousKeyAction=!1;break;case _:this.modifyDateSegmentValue(-u,h,r),v!==this.elementValue&&this.triggerInputEnd({event:t,error:null,newElementValue:this.elementValue,oldElementValue:v}),c=!0,this.switchedPartOnPreviousKeyAction=!1;break;case C:break;case A:this.selectNearestSegment(0),c=!0,this.switchedPartOnPreviousKeyAction=!1,this.resetSegmentValue=!0;break;case L:this.selectNearestSegment(this.elementValue.length),c=!0,this.switchedPartOnPreviousKeyAction=!1,this.resetSegmentValue=!0;break;default:return}c&&t.preventDefault()}}},i.prototype.onElementPaste=function(){this.isPasteInProgress=!0},i.prototype.onElementMouseWheel=function(t){var e=this.elementValue;if(this.options.enableMouseWheel&&!this.triggerMouseWheel({event:t})&&this.isActive){var i=t;i.shiftKey?this.switchDateSegment((i.wheelDelta||-i.detail)>0?-1:1):this.modifyDateSegmentValue((i.wheelDelta||-i.detail)>0?1:-1),i.returnValue=!1,i.preventDefault&&i.preventDefault(),e!==this.elementValue&&this.triggerInputEnd({event:t,error:null,newElementValue:this.elementValue,oldElementValue:e})}},i.prototype.updateOnPaste=function(t){var e=this.intl.parseDate(this.elementValue,this.inputFormat)||this.value;p(e)&&this.dateObject.shouldNormalizeCentury()&&(e=this.dateObject.normalizeCentury(e));var i=this.dateObject&&this.dateObject.getValue();this.writeValue(e),this.tryTriggerValueChange({oldValue:i,event:t})},Object.defineProperty(i.prototype,"elementValue",{get:function(){return(this.element||{}).value||""},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"inputFormat",{get:function(){return this.options.format?"string"==typeof this.options.format?this.options.format:this.options.format.inputFormat:l},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"displayFormat",{get:function(){return this.options.format?"string"==typeof this.options.format?this.options.format:this.options.format.displayFormat:l},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"selection",{get:function(){var t={start:0,end:0};return null!==this.element&&void 0!==this.element.selectionStart&&(t={start:this.element.selectionStart,end:this.element.selectionEnd}),t},enumerable:!1,configurable:!0}),i.prototype.setSelection=function(t){this.element&&document.activeElement===this.element&&(this.element.setSelectionRange(t.start,t.end),f()&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||navigator.maxTouchPoints&&navigator.maxTouchPoints>2&&/Macintosh/i.test(navigator.userAgent))&&this.element.scrollIntoView({block:"nearest",inline:"nearest"}),t.start!==t.end&&(this.interactionMode=B.Selection))},i.prototype.selectionBySymbol=function(t){var e=-1;var i=0;for(var a=0;a<this.currentFormat.length;a++)this.currentFormat[a]===t&&(i=a+1,-1===e&&(e=a));return e<0&&(e=0),this.options.autoCorrectParts||this.currentFormat.length===this.currentText.length||(this.currentFormat.length<this.currentText.length?i+=this.currentText.length-this.currentFormat.length:i=Math.max(0,i-(this.currentFormat.length-this.currentText.length))),{start:e,end:i}},i.prototype.selectionByIndex=function(t){var e={start:t,end:t};for(var i=t,a=t-1;i<this.currentFormat.length||a>=0;i++,a--){if(i<this.currentFormat.length&&this.currentFormat[i]!==n){e=this.selectionBySymbol(this.currentFormat[i]);break}if(a>=0&&this.currentFormat[a]!==n){e=this.selectionBySymbol(this.currentFormat[a]);break}}return e},i.prototype.switchDateSegment=function(t){var e=this.selection;if(this.isInCaretMode()){var i=e.start;var a=this.currentFormat[i-1];var r="";var s="";if(t<0){for(var o=i+t;o>=0;o--)if((s=this.currentFormat[o])!==n&&s!==a){i=o,r=s;break}}else for(o=i+t;o<this.currentFormat.length;o++)if((s=this.currentFormat[o])!==n&&s!==a){i=o,r=s;break}if(r)return this.forceUpdate(),this.setSelection(this.selectionBySymbol(r)),void(this.interactionMode=B.Selection)}this.interactionMode=B.None;var l=this.selection,h=l.start,u=l.end;if(h<u&&this.currentFormat[h]!==this.currentFormat[u-1])return this.setSelection(this.selectionByIndex(t>0?h:u-1)),this.resetSegmentValue=!0,void(this.interactionMode=B.None);var c=this.currentFormat[h];var v=h+t;for(;v>0&&v<this.currentFormat.length&&(this.currentFormat[v]===c||this.currentFormat[v]===n);)v+=t;if(this.currentFormat[v]!==n){var d=v;for(;d>=0&&d<this.currentFormat.length&&this.currentFormat[d]===this.currentFormat[v];)d+=t;v>d&&(d+1!==h||v+1!==u)?(this.setSelection({start:d+1,end:v+1}),this.resetSegmentValue=!0):v<d&&(v!==h||d!==u)&&(this.setSelection({start:v,end:d}),this.resetSegmentValue=!0),this.interactionMode=B.None}},i.prototype.modifyDateSegmentValue=function(t,e,i){if(void 0===e&&(e=""),void 0===i&&(i={}),this.dateObject&&!this.options.readonly){var a=this.value;var r=1;var s=this.caret();if("S"===(e=e||this.currentFormat[s[0]])&&(!this.options.steps.millisecond||1===this.options.steps.millisecond)){var n=(l=this.inputFormat,(h=l&&l.match(/S+(\1)/))?h[0].length:0);o=n,r=Math.pow(10,3-o)}var o;var l,h;this.dateObject.modifyPart(e,r*t),this.tryTriggerValueChange({oldValue:a,event:i}),this.forceUpdate(),this.setSelection(this.selectionBySymbol(e))}},i.prototype.tryTriggerValueChange=function(t){if(void 0===t&&(t={oldValue:null,event:{}}),!e.i(this.value,t.oldValue))return this.triggerValueChange(t)},i.prototype.triggerValueChange=function(t){return void 0===t&&(t={oldValue:null,event:{}}),this.trigger(it,P(t,{value:this.value}))},i.prototype.triggerInput=function(t){return void 0===t&&(t={event:{}}),this.trigger(J,P(t,{value:this.value}))},i.prototype.triggerInputEnd=function(t){return void 0===t&&(t={event:{},error:null,oldElementValue:"",newElementValue:""}),this.trigger(at,P(t,{value:this.value}))},i.prototype.triggerFocus=function(t){return void 0===t&&(t={event:{}}),this.trigger(G,P({},t))},i.prototype.triggerFocusEnd=function(t){return void 0===t&&(t={event:{}}),this.trigger(st,P({},t))},i.prototype.triggerBlur=function(t){return void 0===t&&(t={event:{}}),this.trigger(Q,P({},t))},i.prototype.triggerBlurEnd=function(t){return void 0===t&&(t={event:{}}),this.trigger(rt,P({},t))},i.prototype.triggerChange=function(t){return void 0===t&&(t={event:{}}),this.trigger(nt,P(t,{value:this.value}))},i.prototype.triggerKeyDown=function(t){return void 0===t&&(t={event:{}}),this.trigger($,P({},t))},i.prototype.triggerMouseWheel=function(t){return void 0===t&&(t={event:{}}),this.trigger(et,P({},t))},i.prototype.forceUpdate=function(){this.setTextAndFormat(),this.refreshElementValue()},i.prototype.forceUpdateWithSelection=function(){var t=this.selection,e=t.start,i=t.end;var a=this.elementValue.length;this.forceUpdate();var r=this.elementValue.length-a;this.setSelection({start:e+r,end:i+r})},i.prototype.setTextAndFormat=function(){var t=this.dateObject.getTextAndFormat(),e=t.text,i=t.format;this.currentFormat=i,this.currentText=e},i.prototype.setElementValue=function(t){this.element.value=t},i.prototype.getStepFromSymbol=function(t){switch(t){case"S":return Number(this.options.steps.millisecond);case"s":return Number(this.options.steps.second);case"m":return Number(this.options.steps.minute);case"h":case"H":return Number(this.options.steps.hour);case"M":return Number(this.options.steps.month);case"d":case"E":return Number(this.options.steps.day);case"y":return Number(this.options.steps.year);default:return 1}},i.prototype.restorePreviousInputEventState=function(){this.restorePreviousElementValue(),this.restorePreviousElementSelection()},i.prototype.restorePreviousElementValue=function(){this.setElementValue(this.previousElementValue||"")},i.prototype.restorePreviousElementSelection=function(){var t=this.previousElementSelection,e=t.start,i=t.end;this.setSelection({start:e||0,end:i||0})},i.prototype.writeValue=function(t){this.verifyValue(t),this.dateObject=this.getDateObject(t),this.refreshElementValue()},i.prototype.verifyValue=function(t){if(t&&!I(t))throw new Error("The 'value' should be a valid JavaScript Date instance.")},i.prototype.refreshElementValue=function(){var t=this.element;var e=this.isActive?this.inputFormat:this.displayFormat;var i=this.dateObject.getTextAndFormat(e),a=i.text,r=i.format;this.currentFormat=r,this.currentText=a;var s=this.options.hasPlaceholder||p(this.options.placeholder);var n=!this.isActive&&s&&!this.dateObject.hasValue();s&&p(this.options.placeholder)&&(t.placeholder=this.options.placeholder);var o=n?"":a;this.previousElementValue=this.elementValue,this.setElementValue(o)},i.prototype.caret=function(t,e){void 0===e&&(e=t);var i=void 0!==t;var a=[t,t];var r=this.element;if(!i||!this.options.disabled&&!this.options.readonly){try{void 0!==r.selectionStart&&(i&&(f()&&document.activeElement!==r&&r.focus(),r.setSelectionRange(t,e)),a=[r.selectionStart,r.selectionEnd])}catch(t){a=[]}return a}},i.prototype.selectNearestSegment=function(t){for(var e=t,i=t-1;e<this.currentFormat.length||i>=0;e++,i--){if(e<this.currentFormat.length&&"_"!==this.currentFormat[e])return void this.selectDateSegment(this.currentFormat[e]);if(i>=0&&"_"!==this.currentFormat[i])return void this.selectDateSegment(this.currentFormat[i])}},i.prototype.selectDateSegment=function(t){var e=-1;var i=0;for(var a=0;a<this.currentFormat.length;a++)this.currentFormat[a]===t&&(i=a+1,-1===e&&(e=a));e<0&&(e=0),this.caret(0,0),this.caret(e,i)},i.prototype.getDateObject=function(t){var e=(this.dateObject||{}||null).leadingZero;this.options.value=t;var i=this.createDateObject();return i.setLeadingZero(this.isActive?e:null),i},i.prototype.createDateObject=function(){var t=this.getDateObjectOptions();return new O(P({},t))},i.prototype.getDateObjectOptions=function(){return{intlService:this.options.intlService,formatPlaceholder:this.options.formatPlaceholder?this.options.formatPlaceholder:"formatPattern",format:this.inputFormat,cycleTime:this.options.cycleTime,twoDigitYearMax:this.options.twoDigitYearMax,autoCorrectParts:this.options.autoCorrectParts,value:this.options.value,toggleDayPeriod:this.options.toggleDayPeriod,autoSwitchParts:this.options.autoSwitchParts}},i.prototype.keyEventMatchesAutoSwitchKeys=function(t){var e=(this.options.autoSwitchKeys||[]).map((function(t){return t.toString().toLowerCase().trim()}));return e.indexOf(t.keyCode.toString())>=0||e.indexOf(t.keyCode)>=0||e.indexOf(t.key.toLowerCase().trim())>=0},i.prototype.autoFill=function(){var t=this.dateObject;var e=new Date;var i,a,r,s,n,o;(t.date||t.month||t.year||t.hours||t.minutes||t.seconds)&&(r=t.year?t.value.getFullYear():e.getFullYear(),a=t.month?t.value.getMonth():e.getMonth(),i=t.date?t.value.getDate():e.getDate(),s=t.hours?t.value.getHours():e.getHours(),n=t.minutes?t.value.getMinutes():e.getMinutes(),o=t.seconds?t.value.getSeconds():e.getSeconds(),t.setValue(new Date(r,a,i,s,n,o)),this.refreshElementValue(),this.triggerValueChange())},i}(K);t.D=lt,t.__meta__={id:"dateinputs-common.cmn.chunk",name:"DateinputsCommonCmnChunk",category:"web",description:"A reusable outputed chunk of code",depends:["date-math.cmn.chunk"],hidden:!0,chunk:!0}}));
//# sourceMappingURL=kendo.dateinputs-common.cmn.chunk.min.js.map
