{"version":3,"sources":["raw-js/kendo.dataviz.stock.js"],"names":["global","factory","exports","module","require","define","amd","globalThis","self","kendo","_globals","DatavizStock","Core","DatavizChart","ChartsCmnChunk","this","kendo_core_js","kendo_dataviz_chart_js","kendo_charts_cmn_chunk_js","window","dataviz","Chart","ui","deepExtend","NAVIGATOR_AXIS$1","N","NAVIGATOR_PANE$1","F","CHANGE","StockChart$1","extend","options","name","dateField","axisDefaults","categoryAxis","type","baseUnit","justified","valueAxis","narrowRange","labels","format","navigator","select","seriesDefaults","markers","visible","tooltip","template","category","toString","line","width","hint","legend","persistSeriesVisibility","_createChart","themeOptions","_initNavigatorOptions","_instance","H","element","observer","I","showTooltip","hideTooltip","legendItemClick","render","init","drilldown","navigatorFilter","navigatorCreated","sender","rtl","_isRtl","createSurface","drawing","Surface","create","navigatorOptions","support","isTouch","touch","isFirefox","browser","mozilla","autoBindElements","dataSource","partialRedraw","liveDrag","_initDataSource","userOptions","hasServerFiltering","serverFiltering","mainAxis","concat","hasSelect","from","to","filter","parseDate","dummyAxis","DateCategoryAxis","categories","buildFilter","range","min","fn","call","_onNavigatorCreated","e","_navigator","_initNavigatorDataSource","autoBind","dsOptions","_navigatorDataChangedHandler","_onNavigatorDataChanged","bind","_navigatorDataSource","data","DataSource","fetch","_bindNavigatorSeries","series","seriesIx","currentSeries","seriesLength","length","axis","_isBindable","axisIx","currentAxis","naviCategories","chart","instance","categoryAxes","axesLength","view","_sourceSeries","pane","_bindCategoryAxis","_model","redraw","setRange","_dataBound","redrawSlaves","_bindCategories","copyNavigatorCategories","_onDataChanged","setOptions","_removeNavigatorDataSource","destroyNavigator","_onNavigatorFilter","requiresHandlers","names","n","navigatorDataSource","unbind","destroy","field","operator","value","constants","M","Navigator","K","NavigatorHint","J","StockChart","plugin","jQuery","kendo$1","__meta__","id","description","depends","default","Object","defineProperty"],"mappings":"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","file":"kendo.dataviz.stock.min.js","sourcesContent":["(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('kendo.core.js'), require('kendo.dataviz.chart.js'), require('kendo.charts.cmn.chunk.js')) :\n    typeof define === 'function' && define.amd ? define(['exports', 'kendo.core', 'kendo.dataviz.chart', 'kendo.charts.cmn.chunk'], factory) :\n    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory((global.kendo = global.kendo || {}, global.kendo._globals = global.kendo._globals || {}, global.kendo._globals.DatavizStock = {}), global.kendo._globals.Core, global.kendo._globals.DatavizChart, global.kendo._globals.ChartsCmnChunk));\n})(this, (function (exports, kendo_core_js, kendo_dataviz_chart_js, kendo_charts_cmn_chunk_js) {\n    const __meta__ = {\n        id: \"dataviz.stockchart\",\n        name: \"StockChart\",\n        category: \"dataviz\",\n        description: \"StockChart widget and associated financial series.\",\n        depends: [\"dataviz.chart\", \"charts.cmn.chunk\"]\n    };\n\n    (function($) {\n        window.kendo.dataviz = window.kendo.dataviz || {};\n\n        var kendo = window.kendo;\n        var dataviz = kendo.dataviz;\n        var Chart = dataviz.ui.Chart;\n        var deepExtend = kendo.deepExtend;\n        var NAVIGATOR_AXIS$1 = kendo_charts_cmn_chunk_js.N;\n        var NAVIGATOR_PANE$1 = kendo_charts_cmn_chunk_js.F;\n        var CHANGE = \"change\";\n\n        var StockChart$1 = Chart.extend({\n\n            options: {\n                name: \"StockChart\",\n                dateField: \"date\",\n                axisDefaults: {\n                    categoryAxis: {\n                        type: \"date\",\n                        baseUnit: \"fit\",\n                        justified: true\n                    },\n                    valueAxis: {\n                        narrowRange: true,\n                        labels: {\n                            format: \"C\"\n                        }\n                    }\n                },\n                navigator: {\n                    select: {},\n                    seriesDefaults: {\n                        markers: {\n                            visible: false\n                        },\n                        tooltip: {\n                            visible: true,\n                            template: ({ category }) => kendo.toString(category, 'd')\n                        },\n                        line: {\n                            width: 2\n                        }\n                    },\n                    hint: {},\n                    visible: true\n                },\n                tooltip: {\n                    visible: true\n                },\n                legend: {\n                    visible: false\n                },\n                persistSeriesVisibility: true\n            },\n\n            _createChart: function(options, themeOptions) {\n                this._initNavigatorOptions(options);\n                this._instance = new kendo_charts_cmn_chunk_js.H(this.element[0], options, themeOptions, {\n                    observer: new kendo_charts_cmn_chunk_js.I(this, {\n                        showTooltip: '_showTooltip',\n                        hideTooltip: '_hideTooltip',\n                        legendItemClick: '_onLegendItemClick',\n                        render: '_onRender',\n                        init: '_onInit',\n                        drilldown: '_onDrilldown',\n                        navigatorFilter: '_onNavigatorFilter',\n                        navigatorCreated: '_onNavigatorCreated'\n                    }),\n                    sender: this,\n                    rtl: this._isRtl(),\n                    createSurface: kendo.drawing.Surface.create\n                });\n            },\n\n            _initNavigatorOptions: function(options) {\n                var navigatorOptions = options.navigator || {};\n                var support = kendo.support;\n                var isTouch = support.touch;\n                var isFirefox = support.browser.mozilla;\n\n                deepExtend(navigatorOptions, {\n                    autoBindElements: !navigatorOptions.dataSource,\n                    partialRedraw: navigatorOptions.dataSource,\n                    liveDrag: !isTouch && !isFirefox\n                });\n            },\n\n            _initDataSource: function(userOptions) {\n                var options = userOptions || {},\n                    dataSource = options.dataSource,\n                    hasServerFiltering = dataSource && dataSource.serverFiltering,\n                    mainAxis = [].concat(options.categoryAxis)[0],\n                    naviOptions = options.navigator || {},\n                    select = naviOptions.select,\n                    hasSelect = select && select.from && select.to;\n\n                if (hasServerFiltering && hasSelect) {\n                    var filter = [].concat(dataSource.filter || []);\n\n                    var from = kendo.parseDate(select.from);\n                    var to = kendo.parseDate(select.to);\n                    var dummyAxis = new dataviz.DateCategoryAxis(deepExtend({\n                        baseUnit: \"fit\"\n                    }, mainAxis, {\n                        categories: [from, to]\n                    }), kendo);\n\n                    dataSource.filter = buildFilter(dummyAxis.range().min, to).concat(filter);\n                }\n\n                Chart.fn._initDataSource.call(this, userOptions);\n            },\n\n            _onNavigatorCreated: function(e) {\n                this._instance = e.sender;\n                this.options = e.sender.options;\n                this._navigator = this.navigator = e.navigator;\n                this._initNavigatorDataSource();\n            },\n\n            _initNavigatorDataSource: function() {\n                var navigatorOptions = this.options.navigator;\n                var autoBind = navigatorOptions.autoBind;\n                var dsOptions = navigatorOptions.dataSource;\n\n                if (dsOptions) {\n                    this._navigatorDataChangedHandler = this._navigatorDataChangedHandler || this._onNavigatorDataChanged.bind(this);\n                    this._navigatorDataSource = kendo.data.DataSource\n                        .create(dsOptions)\n                        .bind(CHANGE, this._navigatorDataChangedHandler);\n\n                    if (!kendo_charts_cmn_chunk_js.e(autoBind)) {\n                       autoBind = this.options.autoBind;\n                    }\n\n                    if (autoBind) {\n                        this._navigatorDataSource.fetch();\n                    }\n                }\n            },\n\n            _bindNavigatorSeries: function(series, data) {\n                var seriesIx, currentSeries,\n                    seriesLength = series.length;\n\n                for (seriesIx = 0; seriesIx < seriesLength; seriesIx++) {\n                    currentSeries = series[seriesIx];\n\n                    if (currentSeries.axis == NAVIGATOR_AXIS$1 && this._isBindable(currentSeries)) {\n                        currentSeries.data = data;\n                    }\n                }\n            },\n\n            _onNavigatorDataChanged: function() {\n                var chart = this,\n                    instance = chart._instance,\n                    categoryAxes = chart.options.categoryAxis,\n                    axisIx,\n                    axesLength = categoryAxes.length,\n                    data = chart._navigatorDataSource.view(),\n                    currentAxis,\n                    naviCategories;\n\n                this._bindNavigatorSeries(chart.options.series, data);\n                if (chart._sourceSeries) {\n                    this._bindNavigatorSeries(chart._sourceSeries, data);\n                }\n\n                for (axisIx = 0; axisIx < axesLength; axisIx++) {\n                    currentAxis = categoryAxes[axisIx];\n\n                    if (currentAxis.pane == NAVIGATOR_PANE$1) {\n                        if (currentAxis.name == NAVIGATOR_AXIS$1) {\n                            chart._bindCategoryAxis(currentAxis, data, axisIx);\n                            naviCategories = currentAxis.categories;\n                        } else {\n                            currentAxis.categories = naviCategories;\n                        }\n                    }\n                }\n\n                if (instance._model) {\n                    var navigator = this.navigator;\n                    navigator.redraw();\n                    navigator.setRange();\n\n                    if (!chart.options.dataSource || (chart.options.dataSource && chart._dataBound)) {\n                        navigator.redrawSlaves();\n                    }\n                }\n            },\n\n            _bindCategories: function() {\n                Chart.fn._bindCategories.call(this);\n                if (this._instance) {\n                    this._instance.copyNavigatorCategories();\n                }\n            },\n\n            _onDataChanged: function() {\n                Chart.fn._onDataChanged.call(this);\n\n                this._dataBound = true;\n            },\n\n            setOptions: function(options) {\n                this._removeNavigatorDataSource();\n                this._initNavigatorOptions(options);\n                this._instance.destroyNavigator();\n                Chart.fn.setOptions.call(this, options);\n            },\n\n            _onNavigatorFilter: function(e) {\n                this.dataSource.filter(buildFilter(e.from, e.to));\n            },\n\n            requiresHandlers: function(names) {\n                if (kendo_charts_cmn_chunk_js.n('navigatorFilter', names)) {\n                    var dataSource = this.dataSource;\n                    var hasServerFiltering = dataSource && dataSource.options.serverFiltering;\n                    return hasServerFiltering && this.options.navigator.dataSource;\n                }\n\n                return Chart.fn.requiresHandlers.call(this, names);\n            },\n\n            _removeNavigatorDataSource: function() {\n                var navigatorDataSource = this._navigatorDataSource;\n                if (navigatorDataSource) {\n                    navigatorDataSource.unbind(CHANGE, this._navigatorDataChangedHandler);\n                    delete this._navigatorDataSource;\n                }\n            },\n\n            destroy: function() {\n                Chart.fn.destroy.call(this);\n                this._removeNavigatorDataSource();\n            }\n        });\n\n        kendo.deepExtend(kendo.dataviz, {\n            constants: kendo_charts_cmn_chunk_js.M,\n            Navigator: kendo_charts_cmn_chunk_js.K,\n            NavigatorHint: kendo_charts_cmn_chunk_js.J,\n            StockChart: StockChart$1\n        });\n\n        dataviz.ui.plugin(StockChart$1);\n\n        function buildFilter(from, to) {\n            return [{\n                field: \"Date\", operator: \"gte\", value: from\n            }, {\n                field: \"Date\", operator: \"lt\", value: to\n            }];\n        }\n\n    })(window.kendo.jQuery);\n    var kendo$1 = kendo;\n\n    exports.__meta__ = __meta__;\n    exports.default = kendo$1;\n\n    Object.defineProperty(exports, '__esModule', { value: true });\n\n}));\n"]}