{"version":3,"sources":["raw-js/kendo.chat.js"],"names":["global","factory","exports","module","require","define","amd","globalThis","self","kendo","_globals","Chat","Textbox","Licensing","this","kendo_textbox_js","kendo_licensing_js","OBJECT","DOT","CLICK","FOCUS","BLUR","CHANGE","RTL","KEYS","REGEX","AMP","LT","GT","QUOTE","APOSTROPHE","CURLY","SHARP","ARGUMENT_NAME","ENCODE","ESCAPED_CURLY","ESCAPED_SHARP","EDGE","WEBKIT","SAFARI","OPERA","MSIE","MOZILLA","CHROMIUM_EDGE","isFunction","value","extend","$","deepExtendOne","destination","source","ObservableArray","data","LazyObservableArray","DataSource","HierarchicalDataSource","property","propValue","propType","propInit","constructor","Array","RegExp","ArrayBuffer","HTMLElement","Date","getTime","clone","destProp","guid","crypto","randomUUID","e","logToConsole","getRandomValues","Uint8Array","reduce","acc","curr","i","toString","padStart","message","type","logger","window","console","suppressLog","log","convertTextUrlToLink","text","skipSanitization","htmlEncode","replace","match","url","trim","displayText","test","URL","href","rel","shouldDecode","entities","htmlDecode","fileGroupMap","audio","video","image","txt","presentation","programming","pdf","config","zip","getFileGroup","extension","withPrefix","groups","Object","keys","undefined","length","extensions","lowerCaseExtension","toLowerCase","indexOf","scrollLeft","element","browser","ua","chromiumEdgeMatch","browserRegex","edge","webkit","safari","opera","msie","mozilla","agent","hasOwnProperty","split","version","parseInt","document","documentMode","chrome","chromiumEdge","detectBrowser","navigator","userAgent","mozila","browserVersion","el","isRtl$1","each","closest","isRtl","result","scrollWidth","clientWidth","Math","abs","scrollByDelta","delta","scrOffset","animationProps","finish","animate","maxScroll","newScrollLeft","min","max","atStart","atEnd","FUNCTION","STRING","ARIA_LABELLEDBY","ARIA_LABEL","cssPropertiesNames","KendoClass","_extendSetupDone","_setupExtendedClass","fn","prototype","proto","ParentClass","ExtendedClass","args","init","super","apply","member","_initOptions","options","sources","deepExtend","preventDefault","_defaultPrevented","isDefaultPrevented","Observable","_events","bind","eventName","handlers","one","idx","eventNames","handlersIsFunction","currentEventName","handler","original","unbind","push","first","unshift","trigger","events","sender","eventsCopy","slice","call","splice","Widget","validatePackage","_showWatermarkOverlay","addWatermarkOverlayAndBanner","jQuery","dataSource","props","componentTypes","componentType","defaults","attr","name","prefix","_options","_hasBindingTarget","kendoBindingTarget","_tabindex","target","wrapper","TABINDEX","tabindex","removeAttr","isNaN","setOptions","_clearCssClasses","_setEvents","assign","_applyCssClasses","resize","force","size","getSize","currentSize","_size","width","height","_resize","dimensions","setSize","destroy","removeData","_destroy","protoOptions","getPrototypeOf","classes","cssProperties","propertyDictionary","prop","widgetName","_altname","validFill","getValidClass","widget","propName","fillMode","fill","addClass","join","_ariaLabel","inputElm","inputId","labelElm","ariaLabel","ariaLabelledBy","labelId","_generateLabelId","newOptions","currentOptions","removeClass","themeColor","label","DataBoundWidget","dataItems","flatView","NS","STYLES","ICONS","REFERENCES","EVENTS","MESSAGE_WIDTH_MODE","COMMANDS","SCROLLING_DELTA","FILE_TEMPLATE","file","closeButton","fileMenuButton","uid","ui","icon","toFixed","Button","outerHTML","TEXT_MESSAGE_TEMPLATE","replyMessage","downloadAll","messages","expandable","messageTimeFormat","isDeleted","expandableClasses","isTyping","replyMessageHtml","MESSAGE_REFERENCE_TEMPLATE","files","isOwnMessage","isPinMessage","renderCloseButton","renderFileMenuButton","selfMessageDeleted","otherMessageDeleted","parseDate","timestamp","FILES_TEMPLATE","MESSAGE_GROUP_TEMPLATE","author","fullWidth","timestampTemplate","showTimestamp","messageTemplate","showAvatar","imageUrl","groupClasses","timestampContent","messageDate","date","relativeDateText","currentDate","today","setHours","dateObj","diffTime","diffDays","floor","getRelativeDateString","Avatar","alt","AVATAR_TEMPLATE","imageAltText","html","forEach","messageReferenceSenderStyle","pinMessageReferenceStyle","closeButtonReference","wrapperReference","content","SUGGESTIONS_TEMPLATE","suggestions","map","suggestion","SCROLLABLE_SUGGESTIONS_TEMPLATE","suggestionsElement","NAVIGATION_NS","isKeyEvent","isShiftKey","setupChatAriaAttributes","messageList","find","messageListLabel","setupBubbleTabNavigation","_index","$group","_suggestionIndex","suggestionElement","index","$button","nodeName","hasClass","sendButton","fileButton","pinnedMessageCloseButton","setReplyMessageAriaAttributes","$indicator","setScrollButtonsAriaAttributes","messageBoxLabel","allBubbles","interactableBubbles","filter","typingIndicatorBubbles","off","on","$this","updateExpandableIndicatorAria","indicator","isExpanded","focusBubbleAtIndex","bubbles","targetBubble","eq","focus","handleBubbleKeyDown","key","currentBubble","currentIndex","moveToPreviousBubble","moveToNextBubble","moveToFirstBubble","moveToLastBubble","handleExpandableIndicatorKeyDown","handleMessageInputKeyDown","messageBox","shiftKey","_sendMessage","handleClickableElementKeyDown","replyMessageCloseButton","leftScrollButton","rightScrollButton","MessageBox","static","chatElement","_files","_generating","_wrapper","_initTextArea","fileAttachment","_initUpload","speechToText","_initSpeechToTextButton","_attachEvents","_typing","suggestionsTemplate","suggestionsScrollableWrapper","suggestionsScrollable","dir","append","updateAttachmentList","attachmentContainer","getAttachmentListContainer","attachmentTemplate","filesTemplate","textAreaInstance","_prefixContainer","replaceWith","toggleSendButton","clearAttachmentList","remove","setReplyMessage","replyContainer","getReplyMessageContainer","replyTemplate","messageReferenceTemplate","prepend","removeReplyMessage","enabled","toggleSendButtonGenerating","generating","toggleClass","iconClass","_input","_sendButtonClick","_fileButtonClick","_replyMessageCloseButtonClick","_suggestionClick","_leftScrollButtonClick","_rightScrollButtonClick","_fileCloseButtonClick","speechToTextButtonEnabled","fileAttachmentButtonEnabled","textarea","kendoTextArea","maxRows","placeholder","suffixOptions","template","speechToTextButton","renderButton","rounded","suffixTemplate","separator","prefixOptions","appendTo","upload","kendoUpload","multiple","async","uniqueFileUids","select","_uploadSelect","uploadInstance","defaultOptions","_speechToTextResult","speechToTextOptions","speechToTextButtonInstance","kendoSpeechToTextButton","currentValue","transcript","alternatives","val","start","fileUid","currentTarget","updateAutoHeight","button","scrollableElement","position","MessageToolbar","extendItemsConfig","create","attachEvents","toolbar","ToolBar","items","item","attributes","overflow","empty","onClick","command","executeCommand","ChatFileMenu","setCommandAttributes","createDropdownButton","dropdownButton","DropDownButton","onOpen","onClose","id","setActive","active","bubble","ChatView","_dataManager","dataManager","_list","fileMenu","list","_listClick","_messageClick","_downloadAllClick","renderMessage","componentMessages","allowMessageCollapse","messageWidthMode","authorId","authorName","authorImageUrl","authorImageAltText","getReplyMessage","_handleExistingMessageUpdate","targetGroupElement","_findTargetMessageGroup","_canGroupWithLastMessage","_addMessageToExistingGroup","_shouldShowTimestamp","_createNewMessageGroup","lastNonTypingMessage","last","lastMessageData","dataItem","currentMessageDate","lastMessageDate","currentDay","lastDay","_initMessageToolbar","messageToolbarActions","resizable","_initFileMenus","fileActions","fileMenuButtons","$el","existingMessageElement","updatedMessageElement","lastGroupElement","children","messagesInLastGroup","prev","lastMessageInTargetGroup","messageGroupContent","messageElement","_moveTypingIndicatorsToEnd","messageGroupTemplate","groupElement","that","typingMessage","messageGroup","detach","typingGroupElement","getMessageByUid","fileDataItem","getFileByUid","replyToId","getMessageById","renderSuggestedActions","lastSuggestedActions","getLastMessage","suggestedActions","suggestedActionsElement","suggestedActionsTemplate","suggestedActionsScrollableWrapper","suggestedActionsScrollable","_removeSuggestedActions","removeMessage","clearMessages","scrollToBottom","scrollTop","scrollToMessage","container","targetElement","duration","easing","offset","onComplete","containerHeight","containerScrollTop","containerOffset","targetOffset","targetHeight","outerHeight","relativeTop","top","targetScrollTop","scrollHeight","clientHeight","scrollToElement","parents","_clearSelection","expandIcon","_allowMessageClick","disallowedSelectors","is","selectedMessages","_refreshDataManager","ChatDataManager","autoSync","schema","model","fields","defaultValue","isPinned","parse","createDataSource","mapFields","fieldMap","from","set","updateMessage","newData","ObservableObject","get","getByUid","postMessage","currentUserId","messageData","add","pinMessage","getPinnedMessage","clearPinnedMessage","m","getView","view","getDataSource","ChatMessageMenu","keyboardAlignToAnchor","menu","ContextMenu","onSelect","originalTarget","event","isMessageRemoved","hasTypingIndicator","isAttachmentMenuButton","toggleDeleteVisibility","visible","deleteItem","autoBind","messageActions","headerItems","stopGeneration","textField","authorIdField","authorNameField","authorImageUrlField","authorImageAltTextField","idField","timestampField","filesField","replyToIdField","isDeletedField","isPinnedField","isTypingField","mergeContextMenuActions","userActions","isArray","defaultActions","defaultMap","action","userAction","_init","notify","currentMessageReplyId","_hasHeader","_user","_dataSource","_view","fetch","_messageBox","_createMenus","_unbindDataSource","messageContextMenu","commandExecute","clearReplyState","messageContextMenuOpen","stopPropagation","pinnedMessage","currentMessage","originalMessage","keyCode","which","handleChatKeyDown","bubbleElement","_refreshHandler","refresh","setDataSource","getUserId","uiElements","AppBar","positionMode","css","minHeight","minWidth","messageReply","messageCopy","messagePin","messageDelete","clipboard","writeText","isAuthor","renderPinnedMessage","pinnedMessageElement","insertAfter","changedItems","chat","Component","Components","Templates","getTemplate","getComponent","registerTemplate","registerComponent","register","getter","roles","pluginName","widgetEntry","widgets","arguments","method","Error","format","plugin","kendo$1","__meta__","category","description","depends","default","defineProperty"],"mappings":"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","file":"kendo.chat.min.js","sourcesContent":["(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('kendo.textbox.js'), require('kendo.licensing.js'), require('kendo.avatar.js'), require('kendo.icons.js'), require('kendo.button.js'), require('kendo.appbar.js'), require('kendo.html.button.js'), require('kendo.textarea.js'), require('kendo.speechtotextbutton.js'), require('kendo.upload.js'), require('kendo.core.js'), require('kendo.toolbar.js'), require('kendo.dropdownbutton.js'), require('kendo.menu.js'), require('kendo.data.js')) :\n    typeof define === 'function' && define.amd ? define(['exports', 'kendo.textbox', 'kendo.licensing', 'kendo.avatar', 'kendo.icons', 'kendo.button', 'kendo.appbar', 'kendo.html.button', 'kendo.textarea', 'kendo.speechtotextbutton', 'kendo.upload', 'kendo.core', 'kendo.toolbar', 'kendo.dropdownbutton', 'kendo.menu', 'kendo.data'], factory) :\n    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory((global.kendo = global.kendo || {}, global.kendo._globals = global.kendo._globals || {}, global.kendo._globals.Chat = {}), global.kendo._globals.Textbox, global.kendo._globals.Licensing));\n})(this, (function (exports, kendo_textbox_js, kendo_licensing_js) {\n    const OBJECT = \"object\";\n    const UNDEFINED = \"undefined\";\n    const FUNCTION$1 = \"function\";\n    const STRING$1 = \"string\";\n\n    const NS$1 = \"\";\n    const DOT = \".\";\n    const SPACE = \" \";\n\n    const CLICK = \"click\";\n    const FOCUS = \"focus\";\n    const BLUR = \"blur\";\n    const CHANGE = \"change\";\n    const INPUT = \"input\";\n    const KEYDOWN = \"keydown\";\n    const MOUSEDOWN = \"mousedown\";\n\n    const RTL = \"rtl\";\n    const LTR = \"ltr\";\n\n    const K_RTL = \"k-rtl\";\n\n    const KEYS = {\n        INSERT: 45,\n        DELETE: 46,\n        BACKSPACE: 8,\n        TAB: 9,\n        ENTER: 13,\n        ESC: 27,\n        LEFT: 37,\n        UP: 38,\n        RIGHT: 39,\n        DOWN: 40,\n        END: 35,\n        HOME: 36,\n        SPACEBAR: 32,\n        PAGEUP: 33,\n        PAGEDOWN: 34,\n        F2: 113,\n        F10: 121,\n        F12: 123,\n        SHIFT: 16,\n        NUMPAD_PLUS: 107,\n        NUMPAD_MINUS: 109,\n        NUMPAD_DOT: 110\n    };\n\n    const REGEX = {\n        AMP: /&/g,\n        LT: /</g,\n        GT: />/g,\n        QUOTE: /\"/g,\n        APOSTROPHE: /'/g,\n        CURLY: /__CURLY__/g,\n        SHARP: /__SHARP__/g,\n        ARGUMENT_NAME: /^\\w+/,\n        ENCODE: /\\$\\{([^}]*)\\}/g,\n        ESCAPED_CURLY: /\\\\\\}/g,\n        ESCAPED_SHARP: /\\\\#/g,\n        EDGE: /(edge)[ /]([\\w.]+)/i,\n        WEBKIT: /(chrome|crios)[ /]([\\w.]+)/i,\n        SAFARI: /(webkit)[ /]([\\w.]+)/i,\n        OPERA: /(opera)(?:.*version|)[ /]([\\w.]+)/i,\n        MSIE: /(msie\\s|trident.*? rv:)([\\w.]+)/i,\n        MOZILLA: /(mozilla)(?:.*? rv:([\\w.]+)|)/i,\n        CHROMIUM_EDGE: /(edg)[ /]([\\w.]+)/i\n    };\n\n    const deepExtend = (destination, ...sources) => {\n        for (let i = 0; i < sources.length; i++) {\n            deepExtendOne(destination, sources[i]);\n        }\n        return destination;\n    };\n\n    const isFunction = (value) => typeof value === FUNCTION$1;\n    const isObject = (value) => typeof value === OBJECT && value !== null;\n\n    const destroy = (element) => {\n        $(element).find(\"[data-\" + NS$1 + \"role]\").addBack().each(function() {\n            const data = $(this).data();\n\n            for (const key in data) {\n                if (key.indexOf(\"kendo\") === 0 && isFunction(data[key].destroy)) {\n                    data[key].destroy();\n                }\n            }\n        });\n    };\n\n    const extend = $.extend;\n\n    function deepExtendOne(destination, source) {\n        const ObservableArray = kendo?.data?.ObservableArray;\n        const LazyObservableArray = kendo?.data?.LazyObservableArray;\n        const DataSource = kendo?.data?.DataSource;\n        const HierarchicalDataSource = kendo?.data?.HierarchicalDataSource;\n\n        for (const property in source) {\n            if (property === '__proto__' || property === 'constructor' || property === 'prototype') {\n                continue;\n            }\n\n            const propValue = source[property];\n            const propType = typeof propValue;\n            let propInit = null;\n\n            if (propType === OBJECT && propValue !== null) {\n                propInit = propValue.constructor;\n            }\n\n            if (propInit &&\n                propInit !== Array && propInit !== ObservableArray && propInit !== LazyObservableArray &&\n                propInit !== DataSource && propInit !== HierarchicalDataSource && propInit !== RegExp &&\n                (!isFunction(globalThis.ArrayBuffer) || propInit !== ArrayBuffer) && !(propValue instanceof HTMLElement)) {\n\n                if (propValue instanceof Date) {\n                    destination[property] = new Date(propValue.getTime());\n                } else if (isFunction(propValue.clone)) {\n                    destination[property] = propValue.clone();\n                } else {\n                    const destProp = destination[property];\n                    if (typeof destProp === OBJECT) {\n                        destination[property] = destProp || {};\n                    } else {\n                        destination[property] = {};\n                    }\n                    deepExtendOne(destination[property], propValue);\n                }\n            } else if (propType !== UNDEFINED) {\n                destination[property] = propValue;\n            }\n        }\n\n        return destination;\n    }\n\n    const isRtl = (element) => $(element).closest(DOT + K_RTL).length > 0;\n\n    /**\n     * Generates a GUID using crypto API with fallback\n     * @returns {string} A GUID string\n     */\n    const guid = () => {\n        try {\n            // This is available only in HTTPS.\n            return crypto.randomUUID();\n        } catch (e) {\n            // Use this as a fallback.\n            logToConsole(`crypto.randomUUID is not supported. Using fallback method. ${e}`, \"warn\");\n            const randomValues = crypto.getRandomValues(new Uint8Array(16));\n            return randomValues.reduce((acc, curr, i) => {\n                if (i === 4 || i === 6 || i === 8 || i === 10) {\n                    acc += \"-\";\n                }\n                acc += curr.toString(16).padStart(2, '0');\n                return acc;\n            }, \"\");\n        }\n    };\n\n    /**\n     * Logs message to console if logging is enabled\n     * @param {string} message - The message to log\n     * @param {string} [type] - The log type (log, warn, error, etc.)\n     */\n    const logToConsole = (message, type) => {\n        const logger = window.console || console || {};\n\n        if (!kendo.suppressLog && typeof (logger) != \"undefined\" && logger.log) {\n            logger[type || \"log\"](message);\n        }\n    };\n\n    const detectBrowser = (ua) => {\n        let browser = {};\n        let match = [];\n        let chromiumEdgeMatch = [];\n        const browserRegex = {\n            edge: REGEX.EDGE,\n            webkit: REGEX.WEBKIT,\n            safari: REGEX.SAFARI,\n            opera: REGEX.OPERA,\n            msie: REGEX.MSIE,\n            mozilla: REGEX.MOZILLA\n        };\n\n        for (let agent in browserRegex) {\n            if (browserRegex.hasOwnProperty(agent)) {\n                match = ua.match(browserRegex[agent]);\n                if (match) {\n                    browser[agent] = true;\n                    browser[match[1].toLowerCase().split(\" \")[0].split(\"/\")[0]] = true;\n                    browser.version = parseInt(document.documentMode || match[2], 10);\n\n                    if (browser.chrome) {\n                        chromiumEdgeMatch = ua.match(REGEX.CHROMIUM_EDGE);\n\n                        if (chromiumEdgeMatch) {\n                            browser.chromiumEdge = true;\n                        }\n                    }\n\n                    break;\n                }\n            }\n        }\n\n        return browser;\n    };\n\n    /**\n     * Converts URLs in text to clickable links\n     * @param {string} text - The text containing URLs\n     * @returns {string} HTML string with URLs converted to links\n     */\n    const convertTextUrlToLink = (text, skipSanitization) => {\n        const urlRegex = /((https?:\\/\\/[^\\s]+)|(www\\.[^\\s]+))/gi;\n        const processedText = skipSanitization ? text : htmlEncode(text);\n\n        return processedText.replace(urlRegex, (match) => {\n            let url = match.trim();\n            const displayText = match.trim();\n\n            if (/^www\\./i.test(url)) {\n                url = 'https://' + url;\n            }\n\n            try {\n                url = new URL(url).href;\n\n                let target = '_blank';\n                let rel = 'noopener noreferrer';\n\n                return `<a href=\"${url}\" target=\"${target}\"${rel ? ` rel=\"${rel}\"` : ''}>${displayText}</a>`;\n            } catch (e) { //NOSONAR - No need to handle/log the error here.\n                return match;\n            }\n        });\n    };\n\n    /**\n     * Encodes HTML entities in a string\n     * @param {string} value - The value to encode\n     * @param {boolean} shouldDecode - Whether to decode first\n     * @returns {string} HTML encoded string\n     */\n    const htmlEncode = (value, shouldDecode) => {\n        if (shouldDecode === true) {\n            value = htmlDecode(value);\n        }\n\n        const encoded = (\"\" + value).replace(REGEX.AMP, \"&amp;\").replace(REGEX.LT, \"&lt;\").replace(REGEX.GT, \"&gt;\").replace(REGEX.QUOTE, \"&quot;\").replace(REGEX.APOSTROPHE, \"&#39;\");\n\n        return encoded;\n    };\n\n    /**\n     * Decodes HTML entities in a string\n     * @param {string} value - The value to decode\n     * @returns {string} Decoded string\n     */\n    function htmlDecode(value) {\n        const entities = {\n            '&amp;': '&',\n            '&lt;': '<',\n            '&gt;': '>',\n            '&quot;': '\"',\n            '&#39;': \"'\"\n        };\n\n        return value.replace(/&(?:amp|lt|gt|quot|#39);/g, function(match) {\n            return entities[match];\n        });\n    }\n\n    /**\n     * File type to extension mapping for categorizing files\n     */\n    const fileGroupMap = {\n        audio: [\".aif\", \".iff\", \".m3u\", \".m4a\", \".mid\", \".mp3\", \".mpa\", \".wav\", \".wma\", \".ogg\", \".wav\", \".wma\", \".wpl\"],\n        video: [\".3g2\", \".3gp\", \".avi\", \".asf\", \".flv\", \".m4u\", \".rm\", \".h264\", \".m4v\", \".mkv\", \".mov\", \".mp4\", \".mpg\",\n            \".rm\", \".swf\", \".vob\", \".wmv\"],\n        image: [\".ai\", \".dds\", \".heic\", \".jpe\", \"jfif\", \".jif\", \".jp2\", \".jps\", \".eps\", \".bmp\", \".gif\", \".jpeg\",\n            \".jpg\", \".png\", \".ps\", \".psd\", \".svg\", \".svgz\", \".tif\", \".tiff\"],\n        txt: [\".doc\", \".docx\", \".log\", \".pages\", \".tex\", \".wpd\", \".wps\", \".odt\", \".rtf\", \".text\", \".txt\", \".wks\"],\n        presentation: [\".key\", \".odp\", \".pps\", \".ppt\", \".pptx\"],\n        data: [\".xlr\", \".xls\", \".xlsx\"],\n        programming: [\".tmp\", \".bak\", \".msi\", \".cab\", \".cpl\", \".cur\", \".dll\", \".dmp\", \".drv\", \".icns\", \".ico\", \".link\",\n            \".sys\", \".cfg\", \".ini\", \".asp\", \".aspx\", \".cer\", \".csr\", \".css\", \".dcr\", \".htm\", \".html\", \".js\",\n            \".php\", \".rss\", \".xhtml\"],\n        pdf: [\".pdf\"],\n        config: [\".apk\", \".app\", \".bat\", \".cgi\", \".com\", \".exe\", \".gadget\", \".jar\", \".wsf\"],\n        zip: [\".7z\", \".cbr\", \".gz\", \".sitx\", \".arj\", \".deb\", \".pkg\", \".rar\", \".rpm\", \".tar.gz\", \".z\", \".zip\", \".zipx\"],\n        \"disc-image\": [\".dmg\", \".iso\", \".toast\", \".vcd\", \".bin\", \".cue\", \".mdf\"]\n    };\n\n    /**\n     * Gets the file group/category based on file extension\n     * @param {string} extension - The file extension (with or without dot)\n     * @param {boolean} withPrefix - Whether to include \"file-\" prefix\n     * @returns {string} The file group/category\n     */\n    const getFileGroup = (extension, withPrefix) => {\n        const groups = Object.keys(fileGroupMap);\n        const type = \"file\";\n\n        if (extension === undefined || !extension.length) {\n            return type;\n        }\n\n        for (let i = 0; i < groups.length; i += 1) {\n            const extensions = fileGroupMap[groups[i]];\n            const lowerCaseExtension = extension.toLowerCase();\n\n            if (extensions.indexOf(lowerCaseExtension) > -1 || extensions.indexOf(\".\" + lowerCaseExtension) > -1) {\n                return withPrefix ? \"file-\" + groups[i] : groups[i];\n            }\n        }\n\n        return type;\n    };\n\n    /**\n     * Calculates and formats file size in KB or MB\n     * @param {number} size - File size in bytes\n     * @returns {string} Formatted file size string\n     */\n    const calculateFileSize = (size) => {\n        if (isNaN(size)) {\n            return size;\n        }\n\n        size /= 1024;\n\n        if (size < 1024) {\n            return size.toFixed(2) + \" KB\";\n        } else {\n            return (size / 1024).toFixed(2) + \" MB\";\n        }\n    };\n\n    /**\n     * Generates a relative date string (Today, Yesterday, Last Wednesday, etc.)\n     * @param {Date} date - The date to compare against\n     * @param {Date} [currentDate] - The current date (defaults to new Date())\n     * @returns {string} Relative date string\n     */\n    const getRelativeDateString = (date, currentDate = new Date()) => {\n        if (!date) {return '';}\n\n        const today = new Date(currentDate);\n        today.setHours(0, 0, 0, 0);\n\n        const dateObj = new Date(date);\n        dateObj.setHours(0, 0, 0, 0);\n\n        const diffTime = today.getTime() - dateObj.getTime();\n        const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));\n\n        if (diffDays === 0) {\n            return 'Today';\n        } else if (diffDays === 1) {\n            return 'Yesterday';\n        } else if (diffDays <= 6) {\n            return `Last ${kendo.toString(dateObj, 'dddd')}`;\n        } else {\n            // For older dates, show formatted date\n            return kendo.toString(dateObj, 'dddd, MMMM dd, yyyy');\n        }\n    };\n\n    /**\n     * Cross-browser scroll left implementation with RTL support\n     * @param {Element|jQuery} element - The element to scroll\n     * @param {number} [value] - The scroll position to set (if not provided, returns current position)\n     * @returns {number|undefined} Current scroll position if value not provided\n     */\n    const scrollLeft = (element, value) => {\n        const browser = detectBrowser(navigator.userAgent);\n        const webkit = browser.webkit;\n        const mozila = browser.mozilla;\n        const safari = browser.safari;\n        const browserVersion = browser.version;\n        let el, isRtl$1;\n\n        if (element instanceof $ && value !== undefined) {\n            element.each(function(i, e) {\n                scrollLeft(e, value);\n            });\n\n            return;\n        } else {\n            el = element instanceof $ ? element[0] : element;\n        }\n\n        if (!el) {\n            return;\n        }\n\n        isRtl$1 = isRtl(element);\n\n        // After updating browser detection,\n        // Test in which if should the Safari browsers go\n        if (value !== undefined) {\n            if (isRtl$1 && webkit && (browserVersion < 85 || safari)) {\n                el.scrollLeft = el.scrollWidth - el.clientWidth - value;\n            } else if (isRtl$1 && (mozila || webkit) && value > 0) {\n                el.scrollLeft = -value;\n            } else {\n                el.scrollLeft = value;\n            }\n        } else {\n            let result;\n            if (isRtl$1 && webkit && (browserVersion < 85 || safari)) {\n                result = el.scrollWidth - el.clientWidth - el.scrollLeft;\n            } else {\n                result = Math.abs(el.scrollLeft);\n            }\n            return result;\n        }\n    };\n\n    /**\n     * Scroll the element by a certain delta\n     * @param {JQuery} element\n     * @param {number} delta\n     */\n    const scrollByDelta = (element, delta) => {\n        let scrOffset = scrollLeft(element);\n\n        const animationProps = { \"scrollLeft\": scrOffset + delta };\n\n        element.finish().animate(animationProps, \"fast\", \"linear\");\n\n        const maxScroll = element[0].scrollWidth - element[0].clientWidth;\n        const newScrollLeft = Math.min(Math.max(scrOffset + delta, 0), maxScroll);\n\n        return {\n            atStart: newScrollLeft === 0,\n            atEnd: newScrollLeft >= maxScroll\n        };\n    };\n\n    /**\n     * Scroll the element vertically by a certain delta\n     * @param {JQuery} element - The element to scroll\n     * @param {number} delta - The scroll delta (positive = down, negative = up)\n     * @param {Object} [options] - Scroll options\n     * @param {string} [options.duration='fast'] - Animation duration\n     * @param {string} [options.easing='linear'] - Animation easing\n     * @returns {Object} Object with atTop and atBottom properties\n     */\n    const scrollVerticalByDelta = (element, delta, options = {}) => {\n        const { duration = 'fast', easing = 'linear' } = options;\n        const currentScrollTop = element.scrollTop();\n        const targetScrollTop = currentScrollTop + delta;\n\n        const animationProps = { \"scrollTop\": targetScrollTop };\n\n        element.finish().animate(animationProps, duration, easing);\n\n        const maxScroll = element[0].scrollHeight - element[0].clientHeight;\n        const newScrollTop = Math.min(Math.max(targetScrollTop, 0), maxScroll);\n\n        return {\n            atTop: newScrollTop === 0,\n            atBottom: newScrollTop >= maxScroll\n        };\n    };\n\n    /**\n     * Smoothly scroll to a specific element within a container\n     * @param {JQuery} container - The scrollable container\n     * @param {JQuery} targetElement - The element to scroll to\n     * @param {Object} [options] - Scroll options\n     * @param {string} [options.duration=300] - Animation duration in milliseconds\n     * @param {string} [options.easing='swing'] - Animation easing\n     * @param {string} [options.position='center'] - Where to position the target ('top', 'center', 'bottom')\n     * @param {number} [options.offset=0] - Additional offset from the calculated position\n     * @param {Function} [options.onComplete] - Callback function to execute when scroll completes\n     * @returns {boolean} True if scroll was performed, false if target not found\n     */\n    const scrollToElement = (container, targetElement, options = {}) => {\n        if (!container.length || !targetElement.length) {\n            return false;\n        }\n\n        const {\n            duration = 0,\n            easing = 'linear',\n            position = 'center',\n            offset = 0,\n            onComplete\n        } = options;\n\n        const containerHeight = container.height();\n        const containerScrollTop = container.scrollTop();\n        const containerOffset = container.offset();\n        const targetOffset = targetElement.offset();\n        const targetHeight = targetElement.outerHeight();\n\n        // Calculate the relative position of the target within the container\n        const relativeTop = targetOffset.top - containerOffset.top + containerScrollTop;\n\n        let targetScrollTop;\n\n        switch (position) {\n            case 'top':\n                targetScrollTop = relativeTop + offset;\n                break;\n            case 'bottom':\n                targetScrollTop = relativeTop - containerHeight + targetHeight + offset;\n                break;\n            case 'center':\n            default:\n                targetScrollTop = relativeTop - (containerHeight / 2) + (targetHeight / 2) + offset;\n                break;\n        }\n\n        // Ensure scroll position is within bounds\n        const maxScroll = container[0].scrollHeight - container[0].clientHeight;\n        targetScrollTop = Math.min(Math.max(targetScrollTop, 0), maxScroll);\n\n        container.finish().animate({\n            scrollTop: targetScrollTop\n        }, duration, easing, onComplete);\n\n        return true;\n    };\n\n    class Template {\n        static paramName = \"data\"; // name of the parameter of the generated template\n        static useWithBlock = true; // whether to wrap the template in a with() block\n\n        static render(template, data) {\n            let html = \"\";\n            for (let idx = 0, length = data.length; idx < length; idx++) {\n                html += template(data[idx]);\n            }\n            return html;\n        }\n\n        static compile(template, options) {\n            const settings = { ...Template, ...options };\n            const paramName = settings.paramName;\n            const argumentName = paramName.match(REGEX.ARGUMENT_NAME)[0];\n            const useWithBlock = settings.useWithBlock;\n            let functionBody = \"var $kendoOutput, $kendoHtmlEncode = kendo.htmlEncode;\";\n            let fn, parts;\n\n            if (isFunction(template)) {\n                return template;\n            }\n\n            functionBody += useWithBlock ? `with(${paramName}){` : \"\";\n            functionBody += \"$kendoOutput=\";\n\n            parts = template\n                .replace(REGEX.ESCAPED_CURLY, \"__CURLY__\")\n                .replace(REGEX.ENCODE, \"#=$kendoHtmlEncode($1)#\")\n                .replace(REGEX.CURLY, \"}\")\n                .replace(REGEX.ESCAPED_SHARP, \"__SHARP__\")\n                .split(\"#\");\n\n            for (let idx = 0; idx < parts.length; idx++) {\n                functionBody += Template.compilePart(parts[idx], idx % 2 === 0);\n            }\n\n            functionBody += useWithBlock ? \";}\" : \";\";\n            functionBody += \"return $kendoOutput;\";\n            functionBody = functionBody.replace(REGEX.SHARP, \"#\");\n\n            try {\n                // This function evaluation is required for legacy support of the Kendo Template syntax - non CSP compliant.\n                fn = new Function(argumentName, functionBody);\n                fn._slotCount = Math.floor(parts.length / 2);\n                return fn;\n            } catch (e) { //NOSONAR - No need to print out the error here. If the template is invalid, we throw an error.\n                if (kendo.debugTemplates) {\n                    logToConsole(`Invalid template:'${template}' Generated code:'${functionBody}'`, \"warn\");\n                } else {\n                    throw new Error(kendo.format(\"Invalid template:'{0}' Generated code:'{1}'\", template, functionBody));\n                }\n            }\n        }\n\n        static compilePart(part, stringPart) {\n            if (stringPart) {\n                return \"'\" +\n                    part.split(\"'\").join(\"\\\\'\")\n                        .split('\\\\\"').join('\\\\\\\\\"')\n                        .replace(/\\n/g, \"\\\\n\")\n                        .replace(/\\r/g, \"\\\\r\")\n                        .replace(/\\t/g, \"\\\\t\") + \"'\";\n            } else {\n                const first = part.charAt(0),\n                    rest = part.substring(1);\n\n                if (first === \"=\") {\n                    return \"+(\" + rest + \")+\";\n                } else if (first === \":\") {\n                    return \"+$kendoHtmlEncode(\" + rest + \")+\";\n                } else {\n                    return \";\" + part + \";$kendoOutput+=\";\n                }\n            }\n        }\n    }\n\n    const FUNCTION = \"function\";\n    const STRING = \"string\";\n    const ARIA_LABELLEDBY = \"aria-labelledby\";\n    const ARIA_LABEL = \"aria-label\";\n    const LABELIDPART = \"_label\";\n\n    const cssPropertiesNames = [\"themeColor\", \"fillMode\", \"shape\", \"size\", \"rounded\", \"positionMode\"];\n\n    class KendoClass {\n        constructor() {\n            if (!this.constructor._extendSetupDone) {\n                this._setupExtendedClass();\n            }\n        }\n\n        _setupExtendedClass() {\n            this.constructor.extend = KendoClass.extend;\n            this.constructor.fn = this.constructor.prototype;\n            this.constructor._extendSetupDone = true;\n        }\n\n        static extend(proto) {\n            const ParentClass = this;\n\n            // Create the new class\n            class ExtendedClass extends ParentClass {\n                constructor(...args) {\n                    if (proto.init) {\n                        super();\n                        proto.init.apply(this, args);\n                    } else {\n                        super(...args);\n                    }\n                }\n            }\n\n            // Copy prototype members\n            for (const member in proto) {\n                if (member !== 'init') {\n                    if (proto[member] != null && proto[member].constructor === Object) {\n                        // Merge object members using spread operator\n                        ExtendedClass.prototype[member] = {\n                            ...ParentClass.prototype[member],\n                            ...proto[member]\n                        };\n                    } else {\n                        ExtendedClass.prototype[member] = proto[member];\n                    }\n                }\n            }\n\n            // Add extend method to new class\n            ExtendedClass.extend = this.extend;\n\n            // Add fn property for backwards compatibility\n            ExtendedClass.fn = ExtendedClass.prototype;\n\n            return ExtendedClass;\n        }\n\n        _initOptions(options) {\n            this.options = deepExtend({}, this.options, options);\n        }\n    }\n\n    const preventDefault = function() {\n        this._defaultPrevented = true;\n    };\n\n    const isDefaultPrevented = function() {\n        return this._defaultPrevented === true;\n    };\n\n    class Observable extends KendoClass {\n        constructor() {\n            super();\n            this._events = {};\n        }\n\n        bind(eventName, handlers, one) {\n            if (handlers === undefined) {\n                for (const idx in eventName) {\n                    this.bind(idx, eventName[idx]);\n                }\n                return this;\n            }\n\n            const eventNames = typeof eventName === STRING ? [eventName] : eventName;\n            const handlersIsFunction = typeof handlers === FUNCTION;\n\n            for (let idx = 0; idx < eventNames.length; idx++) {\n                const currentEventName = eventNames[idx];\n                let handler = handlersIsFunction ? handlers : handlers[currentEventName];\n\n                if (handler) {\n                    if (one) {\n                        const original = handler;\n                        handler = (...args) => {\n                            this.unbind(currentEventName, handler);\n                            original.apply(this, args);\n                        };\n                        handler.original = original;\n                    }\n                    const events = this._events[currentEventName] = this._events[currentEventName] || [];\n                    events.push(handler);\n                }\n            }\n\n            return this;\n        }\n\n        one(eventNames, handlers) {\n            return this.bind(eventNames, handlers, true);\n        }\n\n        first(eventName, handlers) {\n            const eventNames = typeof eventName === STRING ? [eventName] : eventName;\n            const handlersIsFunction = typeof handlers === FUNCTION;\n\n            for (let idx = 0; idx < eventNames.length; idx++) {\n                const currentEventName = eventNames[idx];\n                const handler = handlersIsFunction ? handlers : handlers[currentEventName];\n\n                if (handler) {\n                    const events = this._events[currentEventName] = this._events[currentEventName] || [];\n                    events.unshift(handler);\n                }\n            }\n\n            return this;\n        }\n\n        trigger(eventName, e = {}) {\n            const events = this._events[eventName];\n\n            if (events) {\n                e.sender = this;\n                e._defaultPrevented = false;\n                e.preventDefault = preventDefault;\n                e.isDefaultPrevented = isDefaultPrevented;\n\n                const eventsCopy = events.slice();\n\n                for (let idx = 0; idx < eventsCopy.length; idx++) {\n                    eventsCopy[idx].call(this, e);\n                }\n\n                return e._defaultPrevented === true;\n            }\n\n            return false;\n        }\n\n        unbind(eventName, handler) {\n            if (eventName === undefined) {\n                this._events = {};\n            } else {\n                const events = this._events[eventName];\n                if (events) {\n                    if (handler) {\n                        for (let idx = events.length - 1; idx >= 0; idx--) {\n                            if (events[idx] === handler || events[idx].original === handler) {\n                                events.splice(idx, 1);\n                            }\n                        }\n                    } else {\n                        this._events[eventName] = [];\n                    }\n                }\n            }\n\n            return this;\n        }\n    }\n\n    /**\n     * @template {Object} [TOptions=Object]\n     */\n    class Widget extends Observable {\n        constructor(element, options) {\n            super();\n\n            // Check for licensing (placeholder for actual implementation)\n            if (typeof kendo_licensing_js.validatePackage !== 'undefined' && !kendo_licensing_js.validatePackage()) {\n                this._showWatermarkOverlay = kendo_licensing_js.addWatermarkOverlayAndBanner;\n            }\n\n            this.element = (kendo?.jQuery || $)?.(element);\n            if (this.element?.handler) {\n                this.element.handler(this);\n            }\n\n            const dataSource = options?.dataSource;\n            let props;\n\n            if (options) {\n                props = (this.componentTypes || {})[options.componentType];\n            }\n\n            if (dataSource) {\n                // avoid deep cloning the data source\n                options = { ...options, dataSource: {} };\n            }\n\n            this.options = { ...this.options, ...this.defaults, ...props, ...options };\n\n            if (dataSource) {\n                this.options.dataSource = dataSource;\n            }\n\n            if (kendo?.attr && !this.element?.attr?.(kendo.attr(\"role\"))) {\n                this.element?.attr?.(kendo.attr(\"role\"), (this.options.name || \"\").toLowerCase());\n            }\n\n            this.element?.data?.(\"kendo\" + this.options.prefix + this.options.name, this);\n\n            this.bind(this.events, this.options);\n        }\n\n        get events() {\n            return [];\n        }\n\n        /**\n         * @returns {TOptions}\n         */\n        get options() {\n            return this._options || { prefix: \"\" };\n        }\n\n        /**\n         * @param {TOptions} value\n         */\n        set options(value) {\n            this._options = value;\n        }\n\n        _hasBindingTarget() {\n            return !!this.element?.[0]?.kendoBindingTarget;\n        }\n\n        _tabindex(target) {\n            target = target || this.wrapper;\n\n            const element = this.element;\n            const TABINDEX = \"tabindex\";\n            const tabindex = target?.attr?.(TABINDEX) || element?.attr?.(TABINDEX);\n\n            element?.removeAttr?.(TABINDEX);\n            target?.attr?.(TABINDEX, !isNaN(tabindex) ? tabindex : 0);\n        }\n\n        setOptions(options) {\n            this._clearCssClasses(options);\n            this._setEvents(options);\n            Object.assign(this.options, options);\n            this._applyCssClasses();\n        }\n\n        _setEvents(options) {\n            for (let idx = 0; idx < this.events.length; idx++) {\n                const e = this.events[idx];\n                if (this.options[e] && options[e]) {\n                    this.unbind(e, this.options[e]);\n                    if (this._events?.[e]) {\n                        delete this._events[e];\n                    }\n                }\n            }\n\n            this.bind(this.events, options);\n        }\n\n        resize(force) {\n            const size = this.getSize();\n            const currentSize = this._size;\n\n            if (force || (size.width > 0 || size.height > 0) &&\n                (!currentSize || size.width !== currentSize.width || size.height !== currentSize.height)) {\n                this._size = size;\n                this._resize(size, force);\n                this.trigger(\"resize\", size);\n            }\n        }\n\n        getSize() {\n            return kendo?.dimensions?.(this.element) || { width: 0, height: 0 };\n        }\n\n        size(size) {\n            if (!size) {\n                return this.getSize();\n            } else {\n                this.setSize(size);\n            }\n        }\n\n        setSize() {\n        }\n\n        _resize() {\n        }\n\n        destroy() {\n            this.element?.removeData?.(\"kendo\" + this.options.prefix + this.options.name);\n            this.element?.removeData?.(\"handler\");\n            this.unbind();\n        }\n\n        _destroy() {\n            this.destroy();\n        }\n\n        _applyCssClasses(element) {\n            const protoOptions = Object.getPrototypeOf(this).constructor.prototype.options;\n            const options = this.options;\n            const el = element || this.wrapper || this.element;\n            const classes = [];\n\n            if (!kendo?.cssProperties?.propertyDictionary?.[protoOptions?.name]) {\n                return;\n            }\n\n            for (let i = 0; i < cssPropertiesNames.length; i++) {\n                const prop = cssPropertiesNames[i];\n                const widgetName = this.options._altname || protoOptions.name;\n\n                if (protoOptions.hasOwnProperty(prop)) {\n                    if (prop === \"themeColor\") {\n                        const validFill = kendo.cssProperties.getValidClass({\n                            widget: widgetName,\n                            propName: \"fillMode\",\n                            value: options.fillMode\n                        });\n\n                        if (validFill?.length) {\n                            classes.push(kendo.cssProperties.getValidClass({\n                                widget: widgetName,\n                                propName: prop,\n                                value: options[prop],\n                                fill: options.fillMode\n                            }));\n                        }\n                    } else {\n                        classes.push(kendo.cssProperties.getValidClass({\n                            widget: widgetName,\n                            propName: prop,\n                            value: options[prop]\n                        }));\n                    }\n                }\n            }\n\n            el?.addClass?.(classes.join(\" \"));\n        }\n\n        _ariaLabel(target) {\n            const inputElm = this.element;\n            const inputId = inputElm?.attr?.(\"id\");\n            const labelElm = $?.(`label[for=\"${inputId}\"]`);\n            const ariaLabel = inputElm?.attr?.(ARIA_LABEL);\n            const ariaLabelledBy = inputElm?.attr?.(ARIA_LABELLEDBY);\n\n            if (target?.[0] === inputElm?.[0]) {\n                return;\n            }\n\n            if (ariaLabel) {\n                target?.attr?.(ARIA_LABEL, ariaLabel);\n            } else if (ariaLabelledBy) {\n                target?.attr?.(ARIA_LABELLEDBY, ariaLabelledBy);\n            } else if (labelElm?.length) {\n                const labelId = labelElm?.attr?.(\"id\") ||\n                    this._generateLabelId(labelElm, inputId || kendo?.guid?.());\n                target?.attr?.(ARIA_LABELLEDBY, labelId);\n            }\n        }\n\n        _clearCssClasses(newOptions, element) {\n            const protoOptions = Object.getPrototypeOf(this).constructor.prototype.options;\n            const currentOptions = this.options;\n            const el = element || this.wrapper || this.element;\n\n            if (!kendo?.cssProperties?.propertyDictionary?.[protoOptions?.name]) {\n                return;\n            }\n\n            for (let i = 0; i < cssPropertiesNames.length; i++) {\n                const prop = cssPropertiesNames[i];\n                const widgetName = this.options._altname || protoOptions.name;\n\n                if (protoOptions.hasOwnProperty(prop) && newOptions.hasOwnProperty(prop)) {\n                    if (prop === \"themeColor\") {\n                        el?.removeClass?.(kendo.cssProperties.getValidClass({\n                            widget: widgetName,\n                            propName: prop,\n                            value: currentOptions[prop],\n                            fill: currentOptions.fillMode\n                        }));\n                    } else {\n                        if (prop === \"fillMode\") {\n                            el?.removeClass?.(kendo.cssProperties.getValidClass({\n                                widget: widgetName,\n                                propName: \"themeColor\",\n                                value: currentOptions.themeColor,\n                                fill: currentOptions.fillMode\n                            }));\n                        }\n\n                        el?.removeClass?.(kendo.cssProperties.getValidClass({\n                            widget: widgetName,\n                            propName: prop,\n                            value: currentOptions[prop]\n                        }));\n                    }\n                }\n            }\n        }\n\n        _generateLabelId(label, inputId) {\n            const labelId = inputId + LABELIDPART;\n            label?.attr?.(\"id\", labelId);\n            return labelId;\n        }\n    }\n\n    class DataBoundWidget extends Widget {\n        dataItems() {\n            return this.dataSource ? this.dataSource.flatView() : [];\n        }\n    }\n\n    // Add fn property for backwards compatibility (kendo.ui.Widget.fn.methodName pattern)\n    KendoClass.fn = KendoClass.prototype;\n    Observable.fn = Observable.prototype;\n    Widget.fn = Widget.prototype;\n    DataBoundWidget.fn = DataBoundWidget.prototype;\n\n    const slice = Array.prototype.slice;\n\n    function plugin(widget, register = kendo.ui, prefix = \"\") {\n        const name = widget.options?.name || widget.fn.options.name;\n        let getter;\n\n        register[name] = widget;\n        register.roles[name.toLowerCase()] = widget;\n\n        widget.prototype.options = { ...widget.prototype.options, ...widget.options };\n        widget.fn.options = { ...widget.fn.options, ...widget.options };\n\n        getter = \"getKendo\" + prefix + name;\n        const pluginName = \"kendo\" + prefix + name;\n\n        const widgetEntry = { name: pluginName, widget: widget, prefix: prefix || \"\" };\n        kendo.widgets.push(widgetEntry);\n\n        const $ = window.jQuery || jQuery || kendo?.jQuery;\n\n        $.fn[pluginName] = function(options) {\n            let value = this;\n            let args;\n\n            if (typeof options === STRING$1) {\n                args = slice.call(arguments, 1);\n\n                this.each(function() {\n                    const widget = $.data(this, pluginName);\n                    let method;\n                    let result;\n\n                    if (!widget) {\n                        throw new Error(kendo.format(\"Cannot call method '{0}' of {1} before it is initialized\", options, pluginName));\n                    }\n\n                    method = widget[options];\n\n                    if (!isFunction(method)) {\n                        throw new Error(kendo.format(\"Cannot find method '{0}' of {1}\", options, pluginName));\n                    }\n\n                    result = method.apply(widget, args);\n\n                    if (result !== undefined) {\n                        value = result;\n                        return false;\n                    }\n                });\n            } else {\n                this.each(function() {\n                    return new widget(this, options);\n                });\n            }\n\n            return value;\n        };\n\n        $.fn[pluginName].widget = widget;\n\n        $.fn[getter] = function() {\n            return this.data(pluginName);\n        };\n    }\n\n    // Core utilities\n\n    const NS = \".kendoChat\";\n\n    const STYLES = {\n        active: \"k-active\",\n        file: \"k-chat-file\",\n        fileInfo: \"k-chat-file-info\",\n        fileName: \"k-chat-file-name\",\n        fileSize: \"k-chat-file-size\",\n        fileWrapper: \"k-chat-file-wrapper\",\n        avatar: \"k-avatar\",\n        bubble: \"k-bubble\",\n        bubbleContent: \"k-bubble-content\",\n        bubbleExpandable: \"k-bubble-expandable\",\n        bubbleExpandableIndicator: \"k-bubble-expandable-indicator\",\n        button: \"k-button\",\n        buttonDefaults: \"k-button-md k-rounded-md k-button-solid k-button-solid-base\",\n        buttonIcon: \"k-button-icon\",\n        buttonPrimary: \"k-button-md k-rounded-md k-button-flat k-button-flat-primary\",\n        canvas: \"k-chat-canvas\",\n        card: \"k-card\",\n        cardAction: \"k-card-action\",\n        cardActions: \"k-card-actions\",\n        cardActionsVertical: \"k-actions-vertical\",\n        cardBody: \"k-card-body\",\n        cardDeck: \"k-card-deck\",\n        cardDeckScrollWrap: \"k-card-deck-scrollwrap\",\n        cardList: \"k-card-list\",\n        cardMedia: \"k-card-media\",\n        cardRich: \"k-card-type-rich\",\n        cardSubtitle: \"k-card-subtitle\",\n        cardTitle: \"k-card-title\",\n        cardWrapper: \"k-card-container\",\n        chatBubble: \"k-chat-bubble\",\n        chatBubbleText: \"k-chat-bubble-text\",\n        chatSend: \"k-chat-send\",\n        chatUpload: \"k-chat-upload\",\n        disabled: \"k-disabled\",\n        downloadButton: \"k-chat-download-button\",\n        downloadButtonWrapper: \"k-chat-download-button-wrapper\",\n        dropzoneHint: \"k-dropzone-hint\",\n        dropzoneIcon: \"k-dropzone-icon\",\n        dropzoneInner: \"k-dropzone-inner\",\n        expanded: \"k-expanded\",\n        externalDropzone: \"k-external-dropzone\",\n        generating: \"k-generating\",\n        header: \"k-chat-header\",\n        hidden: \"k-hidden\",\n        iconButton: \"k-icon-button\",\n        menuButton: \"k-menu-button\",\n        message: \"k-message\",\n        messageAuthor: \"k-message-author\",\n        messageBox: \"k-message-box\",\n        messageBoxWrapper: \"k-message-box-wrapper\",\n        messageGroup: \"k-message-group\",\n        messageGroupContent: \"k-message-group-content\",\n        messageGroupFullWidth: \"k-message-group-full-width\",\n        messageGroupReceiver: \"k-message-group-receiver\",\n        messageGroupSender: \"k-message-group-sender\",\n        messageList: \"k-avatars\",\n        messageListContent: \"k-message-list-content\",\n        messagePinned: \"k-message-pinned\",\n        messageReference: \"k-message-reference\",\n        messageReferenceContent: \"k-message-reference-content\",\n        messageReferenceReceiver: \"k-message-reference-receiver\",\n        messageReferenceSender: \"k-message-reference-sender\",\n        messageRemoved: \"k-message-removed\",\n        messageStatus: \"k-message-status\",\n        messageTime: \"k-message-time\",\n        messageToolbar: \"k-chat-message-toolbar\",\n        noAvatar: \"k-no-avatar\",\n        scrollButtonIconLeft: \"chevron-left\",\n        scrollButtonIconRight: \"chevron-right\",\n        selected: \"k-selected\",\n        focus: \"k-focus\",\n        spacer: \"k-spacer\",\n        suggestion: \"k-suggestion\",\n        suggestionGroup: \"k-suggestion-group\",\n        suggestionScrollWrap: \"k-suggestion-scrollwrap\",\n        timestamp: \"k-timestamp\",\n        typingIndicator: \"k-typing-indicator\",\n        viewWrapper: \"k-message-list\",\n        wrapper: \"k-chat\"\n    };\n\n    const ICONS = {\n        attachment: \"paperclip\",\n        attachmentMenu: \"more-vertical\",\n        checkCircle: \"check-circle\",\n        chevronDown: \"chevron-down\",\n        chevronLeft: \"chevron-left\",\n        chevronRight: \"chevron-right\",\n        chevronUp: \"chevron-up\",\n        download: \"download\",\n        fileError: \"file-error\",\n        filePdf: \"file-pdf\",\n        microphoneOutline: \"microphone-outline\",\n        pin: \"pin\",\n        undo: \"undo\",\n        copy: \"copy\",\n        trash: \"trash\",\n        send: \"paper-plane\",\n        stop: \"stop-sm\",\n        upload: \"upload\",\n        x: \"x\"\n    };\n\n    const REFERENCES = {\n        fileButton: \"ref-chat-file-button\",\n        fileMenuButton: \"ref-chat-file-menu-button\",\n        fileWrapper: \"ref-chat-file-wrapper\",\n        fileCloseButton: \"ref-chat-file-close-button\",\n        bubbleExpandableIndicator: \"ref-chat-bubble-expandable-indicator\",\n        messageReferencePinWrapper: \"ref-chat-message-reference-pin-wrapper\",\n        messageReferenceReplyWrapper: \"ref-chat-message-reference-reply-wrapper\",\n        pinnedMessageCloseButton: \"ref-chat-pinned-message-close-button\",\n        replyMessageCloseButton: \"ref-chat-reply-message-close-button\",\n        leftScrollButton: \"ref-chat-left-scroll-button\",\n        rightScrollButton: \"ref-chat-right-scroll-button\",\n        sendButton: \"ref-chat-message-box-send-button\",\n        speechToTextButton: \"ref-chat-message-box-speech-to-text-button\",\n        suggestionGroup: \"ref-chat-suggestion-group\",\n        fileUploadInput: \"ref-chat-file-upload-input\",\n    };\n\n    const EVENTS = {\n        sendMessage: \"sendMessage\",\n        suggestionClick: \"suggestionClick\",\n        unpin: \"unpin\",\n        input: \"input\",\n        toolbarAction: \"toolbarAction\",\n        fileMenuAction: \"fileMenuAction\",\n        contextMenuAction: \"contextMenuAction\",\n        download: \"download\"\n    };\n\n    const MESSAGE_WIDTH_MODE = {\n        STANDARD: \"standard\",\n        FULL: \"full\"\n    };\n\n    const COMMANDS = {\n        reply: \"reply\",\n        copy: \"copy\",\n        pin: \"pin\",\n        delete: \"delete\",\n        download: \"download\"\n    };\n\n    const SCROLLING_DELTA = 200;\n\n    const AVATAR_TEMPLATE = ({ url, text }) => new kendo.ui.Avatar(\"<div>\", { type: \"image\", image: url, alt: htmlEncode(text ?? \"\") }).wrapper[0].outerHTML;\n\n    const TYPING_INDICATOR_TEMPLATE = () =>\n        '<div class=\"' + STYLES.typingIndicator + '\">' +\n        '<span></span>' +\n        '<span></span>' +\n        '<span></span>' +\n        '</div>';\n\n    const FILE_TEMPLATE = (file, closeButton, fileMenuButton = true) => `<li class=\"${STYLES.file}\" data-uid=\"${htmlEncode(file.uid)}\">\n            ${kendo.ui.icon({ icon: getFileGroup(file.extension, true), size: \"xxlarge\" })}\n            <div class=\"${STYLES.fileInfo}\">\n                <span class=\"${STYLES.fileName}\">${htmlEncode(file.name)}</span>\n                <span class=\"${STYLES.fileSize}\">${htmlEncode(calculateFileSize(file.size))}</span>\n            </div>\n            ${closeButton ?\n        new kendo.ui.Button(`<button class=\"\" ${REFERENCES.fileCloseButton}>`, {\n            icon: ICONS.x,\n            fillMode: \"flat\",\n        }).wrapper[0].outerHTML :\n        ''\n    }\n            ${fileMenuButton && !closeButton ?\n        `<button ${REFERENCES.fileMenuButton}></button>` :\n        ''\n    }\n        </li>`;\n\n    const HEADER_TEMPLATE = (items) => new kendo.ui.AppBar(`<div class=\"${STYLES.header}\">`, {\n        items,\n        positionMode: \"sticky\"\n    }).element[0].outerHTML;\n\n    const TEXT_MESSAGE_TEMPLATE = (message, replyMessage, downloadAll, messages, expandable, messageTimeFormat, skipSanitization) => {\n        const isDeleted = message.isDeleted;\n        const expandableClasses = expandable && !message.isTyping ? [STYLES.bubbleExpandable, STYLES.expanded] : [];\n\n        const replyMessageHtml = replyMessage ? MESSAGE_REFERENCE_TEMPLATE({ text: replyMessage.text, files: replyMessage.files, isOwnMessage: replyMessage.isOwnMessage, isPinMessage: false, renderCloseButton: false, renderFileMenuButton: false }) : '';\n        let text = '';\n        if (isDeleted) {\n            text = message.isOwnMessage\n                ? htmlEncode(messages.selfMessageDeleted)\n                : htmlEncode(messages.otherMessageDeleted);\n        } else {\n            text = convertTextUrlToLink(message.text || '', skipSanitization);\n        }\n\n        return '<div class=\"' + STYLES.message + (isDeleted ? ' ' + STYLES.messageRemoved : '') + '\" data-uid=\"' + htmlEncode(message.uid) + '\">' +\n            '<time class=\"' + STYLES.messageTime + '\">' + kendo.toString(kendo.parseDate(message.timestamp), messageTimeFormat) + '</time>' +\n            '<div class=\"' + STYLES.chatBubble + ' ' + STYLES.bubble + ' ' + expandableClasses.join(' ') + '\">' +\n            '<div class=\"' + STYLES.bubbleContent + '\">' +\n            '<span class=\"' + STYLES.chatBubbleText + '\">' +\n            replyMessageHtml +\n            (message.isTyping && !message.isOwnMessage ? TYPING_INDICATOR_TEMPLATE() : text) +\n            '</span>' +\n            (!isDeleted ? FILES_TEMPLATE(message.files, downloadAll, messages) : '') +\n            '</div>' +\n            (expandable && !message.isTyping ? '<span class=\"' + STYLES.bubbleExpandableIndicator + '\" ' + REFERENCES.bubbleExpandableIndicator + '>' + kendo.ui.icon({ icon: ICONS.chevronUp }) + '</span>' : '') +\n            '</div>' +\n            (!isDeleted ? '<div class=\"' + STYLES.messageToolbar + '\"></div>' : '') +\n            '</div>';\n    };\n\n    const MESSAGE_GROUP_TEMPLATE = ({ message, author, isOwnMessage, replyMessage, downloadAll, messages, expandable, fullWidth, messageTimeFormat, timestampTemplate, showTimestamp, messageTemplate = TEXT_MESSAGE_TEMPLATE, skipSanitization }) => {\n        const showAvatar = author && author.imageUrl;\n        const groupClasses = STYLES.messageGroup + ' ' +\n            (isOwnMessage ? STYLES.messageGroupSender : STYLES.messageGroupReceiver) +\n            (showAvatar ? '' : ' ' + STYLES.noAvatar) +\n            (fullWidth ? ' ' + STYLES.messageGroupFullWidth : '');\n\n        let timestampContent = '';\n        if (showTimestamp && message.timestamp) {\n            const messageDate = kendo.parseDate(message.timestamp);\n            if (isFunction(timestampTemplate)) {\n                timestampContent = timestampTemplate({ date: messageDate, message: message });\n            } else {\n                const relativeDateText = getRelativeDateString(messageDate);\n                timestampContent = '<div class=\"' + STYLES.timestamp + '\">' + relativeDateText + '</div>';\n            }\n        }\n\n        return (showTimestamp && timestampContent ? timestampContent : '') +\n            '<div class=\"' + groupClasses + '\">' +\n            (showAvatar ? AVATAR_TEMPLATE({ url: author.imageUrl, text: author.imageAltText }) : '') +\n            '<div class=\"' + STYLES.messageGroupContent + '\">' +\n            '<span class=\"' + STYLES.messageAuthor + '\">' + htmlEncode(author.name) + '</span>' +\n            messageTemplate(message, replyMessage, downloadAll, messages, expandable, messageTimeFormat, skipSanitization) +\n            '</div>' +\n            '</div>';\n    };\n\n    const FILES_TEMPLATE = (files, downloadAll, messages, closeButton) => {\n        if (!files?.length) {\n            return '';\n        }\n\n        let html = `<ul class=\"${STYLES.fileWrapper}\" ${REFERENCES.fileWrapper}>`;\n\n        files.forEach(file => {\n            html += FILE_TEMPLATE(file, closeButton, true);\n        });\n\n        html += \"</ul>\";\n\n        if (downloadAll && files.length > 1) {\n            html += `<div class=\"${STYLES.downloadButtonWrapper}\">\n            ${new kendo.ui.Button(`<button class=\"${STYLES.downloadButton}\">${messages.downloadAll}</button>`, {\n            icon: ICONS.download,\n            fillMode: \"flat\"\n        }).wrapper[0].outerHTML}\n        </div>`;\n        }\n\n        return html;\n    };\n\n    const MESSAGE_REFERENCE_TEMPLATE = ({ text, files, isOwnMessage, isPinMessage, isDeleted, renderCloseButton, renderFileMenuButton, messages }) => {\n        const messageReferenceSenderStyle = isOwnMessage ? STYLES.messageReferenceSender : STYLES.messageReferenceReceiver;\n        const pinMessageReferenceStyle = isPinMessage ? STYLES.messagePinned : '';\n        const closeButtonReference = isPinMessage ? REFERENCES.pinnedMessageCloseButton : REFERENCES.replyMessageCloseButton;\n        const wrapperReference = isPinMessage ? REFERENCES.messageReferencePinWrapper : REFERENCES.messageReferenceReplyWrapper;\n        let content = convertTextUrlToLink(text || '');\n\n        if (!content) {\n            content = files?.length ? FILE_TEMPLATE(files[0], null, renderFileMenuButton) : '';\n        }\n\n        if (isDeleted) {\n            content = isOwnMessage\n                ? htmlEncode(messages.selfMessageDeleted)\n                : htmlEncode(messages.otherMessageDeleted);\n        }\n\n        return '<div class=\"' + STYLES.messageReference + ' ' + messageReferenceSenderStyle + ' ' + pinMessageReferenceStyle + '\" ' + wrapperReference + '>' +\n            (isPinMessage ? kendo.ui.icon({ icon: ICONS.pin, size: \"xlarge\" }) : '') +\n            '<div class=\"' + STYLES.messageReferenceContent + '\">' + content + '</div>' +\n            '<span class=\"' + STYLES.spacer + '\"></span>' +\n            (renderCloseButton ? new kendo.ui.Button('<button ' + closeButtonReference + '>', {\n                icon: ICONS.x,\n                fillMode: \"flat\"\n            }).wrapper[0].outerHTML : '') +\n            '</div>';\n    };\n\n    const SUGGESTIONS_TEMPLATE = (suggestions) => {\n        if (!suggestions?.length) {\n            return '';\n        }\n\n        return `<div class=\"${STYLES.suggestionGroup}\" ${REFERENCES.suggestionGroup}>${suggestions.map(suggestion => `<span class=\"${STYLES.suggestion}\">${htmlEncode(suggestion.text)}</span>`).join('')}</div>`;\n    };\n\n    const SCROLLABLE_SUGGESTIONS_TEMPLATE = (suggestionsElement, isRtl) =>\n        '<div class=\"' + STYLES.suggestionScrollWrap + '\">' +\n        new kendo.ui.Button('<button ' + REFERENCES.leftScrollButton + '>', {\n            icon: isRtl ? ICONS.chevronRight : ICONS.chevronLeft\n        }).wrapper[0].outerHTML +\n        suggestionsElement +\n        new kendo.ui.Button('<button ' + REFERENCES.rightScrollButton + '>', {\n            icon: isRtl ? ICONS.chevronLeft : ICONS.chevronRight\n        }).wrapper[0].outerHTML +\n        '</div>';\n\n    const NAVIGATION_NS = `${NS}navigation`;\n    let isKeyEvent = null;\n    let isShiftKey = false;\n\n    /**\n     * Sets up ARIA attributes for the Chat component according to WCAG 2.1 AA compliance\n     * @param {jQuery} wrapper - Chat wrapper element\n     * @param {Object} options - Chat options containing messages\n     */\n    const setupChatAriaAttributes = (wrapper, options) => {\n        const messages = options.messages;\n\n        const messageList = wrapper.find(`.${STYLES.messageList}`);\n        if (messageList.length) {\n            messageList\n                .attr(\"role\", \"log\")\n                .attr(\"aria-live\", \"polite\")\n                .attr(\"aria-label\", messages.messageListLabel);\n        }\n\n        setupBubbleTabNavigation(wrapper);\n\n        const suggestionGroups = wrapper.find(`.${STYLES.suggestionGroup}`);\n        suggestionGroups.each((_index, element) => {\n            const $group = $(element);\n            $group.attr(\"role\", \"group\");\n\n            const suggestions = $group.find(`.${STYLES.suggestion}`);\n            suggestions.each((_suggestionIndex, suggestionElement) => {\n                const $suggestion = $(suggestionElement);\n                $suggestion\n                    .attr(\"role\", \"button\")\n                    .attr(\"tabindex\", \"0\");\n            });\n        });\n\n        const suffixButtons = wrapper.find(\".k-input-suffix > .k-button\");\n        suffixButtons.each((index, element) => {\n            const $button = $(element);\n\n            if (!$button.attr(\"role\") && $button[0].nodeName.toLowerCase() !== \"button\") {\n                $button.attr(\"role\", \"button\");\n            }\n\n            if (!$button.attr(\"aria-label\") && !$button.attr(\"title\")) {\n                if ($button.hasClass(STYLES.chatSend)) {\n                    $button.attr(\"aria-label\", messages.sendButton);\n                } else if ($button.hasClass(\"k-chat-upload\")) {\n                    $button.attr(\"aria-label\", messages.fileButton);\n                }\n            }\n\n            if ($button.hasClass(STYLES.chatSend) && $button.hasClass(\"k-disabled\")) {\n                $button.attr(\"aria-disabled\", \"true\");\n            }\n        });\n\n        const downloadButtons = wrapper.find(`.${STYLES.downloadButton}`);\n        downloadButtons.each((index, element) => {\n            const $button = $(element);\n\n            if (!$button.attr(\"role\") && $button[0].nodeName.toLowerCase() !== \"button\") {\n                $button.attr(\"role\", \"button\");\n            }\n\n            if (!$button.attr(\"aria-label\") && !$button.attr(\"title\")) {\n                $button.attr(\"aria-label\", messages.downloadAll);\n            }\n        });\n\n        const pinnedMessageCloseButton = wrapper.find(`[${REFERENCES.pinnedMessageCloseButton}]`);\n        pinnedMessageCloseButton.each((index, element) => {\n            const $button = $(element);\n\n            if (!$button.attr(\"role\") && $button[0].nodeName.toLowerCase() !== \"button\") {\n                $button.attr(\"role\", \"button\");\n            }\n\n            if (!$button.attr(\"aria-label\") && !$button.attr(\"title\")) {\n                $button.attr(\"aria-label\", options.messages.pinnedMessageCloseButton);\n                $button.attr(\"title\", options.messages.pinnedMessageCloseButton);\n            }\n        });\n\n        setReplyMessageAriaAttributes(wrapper, options);\n\n        const fileMenuButtons = wrapper.find(`[${REFERENCES.fileMenuButton}]`);\n        fileMenuButtons.each((index, element) => {\n            const $button = $(element);\n\n            $button.attr(\"aria-label\", options.messages.fileMenuButton);\n            $button.attr(\"title\", options.messages.fileMenuButton);\n        });\n\n        const expandableIndicators = wrapper.find(`.${STYLES.bubbleExpandableIndicator}`);\n        expandableIndicators.each((index, element) => {\n            const $indicator = $(element);\n            $indicator\n                .attr(\"role\", \"button\")\n                .attr(\"tabindex\", \"0\");\n\n            const bubble = $indicator.closest(`.${STYLES.bubble}`);\n            const isExpanded = bubble.hasClass(STYLES.expanded);\n            const label = isExpanded ? \"Collapse message\" : \"Expand message\";\n            $indicator.attr(\"aria-label\", label);\n        });\n\n        setScrollButtonsAriaAttributes(wrapper);\n\n        const messageBox = wrapper.find(`.${STYLES.messageBox}`);\n        messageBox.find(\"textarea\").attr(\"aria-label\", messages.messageBoxLabel);\n    };\n\n    /**\n     * Sets up tabindex navigation for chat bubbles\n     * @param {jQuery} wrapper - Chat wrapper element\n     */\n    const setupBubbleTabNavigation = (wrapper) => {\n        const allBubbles = wrapper.find(`.${STYLES.bubble}`);\n\n        const interactableBubbles = allBubbles.filter(function() {\n            return $(this).find(`.${STYLES.typingIndicator}`).length === 0;\n        });\n\n        const typingIndicatorBubbles = allBubbles.filter(function() {\n            return $(this).find(`.${STYLES.typingIndicator}`).length > 0;\n        });\n\n        interactableBubbles.attr(\"tabindex\", \"0\");\n        typingIndicatorBubbles.attr(\"tabindex\", \"-1\");\n\n        interactableBubbles.off(`${FOCUS}${NAVIGATION_NS} ${BLUR}${NAVIGATION_NS} ${CLICK}${NAVIGATION_NS}`).on(`${FOCUS}${NAVIGATION_NS}`, function() {\n            const $this = $(this);\n\n            if (isKeyEvent) {\n                allBubbles.removeClass(STYLES.selected);\n            }\n\n            allBubbles.removeClass(STYLES.focus);\n\n            if (isKeyEvent) {\n                $this.addClass(STYLES.selected);\n            }\n\n            $this.addClass(STYLES.focus);\n            isKeyEvent = false;\n        }).on(`${BLUR}${NAVIGATION_NS}`, function() {\n            // Do not remove selected if we are using shift key(because of context menu open combo).\n            // Only remove on keyboard navigation, do not remove when clicking on an element inside the bubble.\n            if (isKeyEvent && !isShiftKey) {\n                $(this).removeClass(STYLES.selected);\n            }\n            $(this).removeClass(STYLES.focus);\n        }).on(`${CLICK}${NAVIGATION_NS}`, function(e) {\n            if ($(e.target).closest(REFERENCES.fileMenuButton)) {\n                return;\n            }\n\n            $(this).trigger(FOCUS);\n        });\n    };\n\n    /**\n     * Updates ARIA attributes for expandable indicators when their state changes\n     * @param {jQuery} indicator - The expandable indicator element\n     * @param {boolean} isExpanded - Whether the bubble is expanded\n     */\n    const updateExpandableIndicatorAria = (indicator, isExpanded) => {\n        const label = isExpanded ? \"Collapse message\" : \"Expand message\";\n        indicator.attr(\"aria-label\", label);\n    };\n\n    /**\n     * Handles keyboard navigation for the Chat component\n     * @param {Event} e - Keyboard event\n     * @param {jQuery} wrapper - Chat wrapper element\n     * @param {Object} messageBox - MessageBox instance for triggering send\n     * @returns {Object|null} - Result object with action to be taken, or null if no action needed\n     */\n    const handleChatKeyDown = (e, wrapper, messageBox) => {\n        if (!$(e.target).closest(wrapper).length) {\n            return null;\n        }\n\n        const target = $(e.target);\n        const key = e.keyCode || e.which;\n\n        isKeyEvent = true;\n        isShiftKey = e.shiftKey;\n\n        if (target.hasClass(STYLES.bubble)) {\n            handleBubbleKeyDown(e, key, wrapper);\n        }\n\n        if (target.hasClass(STYLES.suggestion)) {\n            handleClickableElementKeyDown(e, key);\n        }\n\n        if (target.hasClass(STYLES.bubbleExpandableIndicator)) {\n            handleExpandableIndicatorKeyDown(e, key);\n        }\n\n        if (target.hasClass(\"k-input-inner\")) {\n            handleMessageInputKeyDown(e, key, wrapper, messageBox);\n        }\n\n        if (target.closest(\".k-input-suffix .k-button\").length) {\n            handleClickableElementKeyDown(e, key);\n        }\n\n        return null;\n    };\n\n    const moveToPreviousBubble = (bubbles, currentIndex) => {\n        if (currentIndex > 0) {\n            const newIndex = currentIndex - 1;\n            focusBubbleAtIndex(bubbles, newIndex);\n        }\n    };\n\n    const moveToNextBubble = (bubbles, currentIndex) => {\n        if (currentIndex < bubbles.length - 1) {\n            const newIndex = currentIndex + 1;\n            focusBubbleAtIndex(bubbles, newIndex);\n        }\n    };\n\n    const moveToFirstBubble = (bubbles) => {\n        focusBubbleAtIndex(bubbles, 0);\n    };\n\n    const moveToLastBubble = (bubbles) => {\n        focusBubbleAtIndex(bubbles, bubbles.length - 1);\n    };\n\n    const focusBubbleAtIndex = (bubbles, index) => {\n        if (bubbles.length === 0 || index < 0 || index >= bubbles.length) {\n            return;\n        }\n\n        const targetBubble = bubbles.eq(index);\n\n        targetBubble.attr(\"data-keyboard-focus\", \"true\");\n        targetBubble.focus();\n        targetBubble.removeAttr(\"data-keyboard-focus\");\n    };\n\n    const handleBubbleKeyDown = (e, key, wrapper) => {\n        const currentBubble = $(e.target);\n\n        if (currentBubble.find(`.${STYLES.typingIndicator}`).length > 0) {\n            return null;\n        }\n\n        const allBubbles = wrapper.find(`.${STYLES.bubble}`);\n        const bubbles = allBubbles.filter(function() {\n            return $(this).find(`.${STYLES.typingIndicator}`).length === 0;\n        });\n\n        const currentIndex = bubbles.index(currentBubble);\n\n        switch (key) {\n            case KEYS.UP:\n                e.preventDefault();\n                moveToPreviousBubble(bubbles, currentIndex);\n                break;\n            case KEYS.DOWN:\n                e.preventDefault();\n                moveToNextBubble(bubbles, currentIndex);\n                break;\n            case KEYS.HOME:\n                e.preventDefault();\n                moveToFirstBubble(bubbles);\n                break;\n            case KEYS.END:\n                e.preventDefault();\n                moveToLastBubble(bubbles);\n                break;\n        }\n\n        return null;\n    };\n\n    const handleExpandableIndicatorKeyDown = (e, key) => {\n        if (key === KEYS.ENTER || key === KEYS.SPACEBAR) {\n            e.preventDefault();\n            $(e.target).trigger(CLICK);\n            const indicator = $(e.target);\n            const bubble = indicator.closest(`.${STYLES.bubble}`);\n            const isExpanded = bubble.hasClass(STYLES.expanded);\n            updateExpandableIndicatorAria(indicator, !isExpanded);\n        }\n    };\n\n    const handleMessageInputKeyDown = (e, key, wrapper, messageBox) => {\n        if (key === KEYS.ENTER && !e.shiftKey) {\n            e.preventDefault();\n\n            messageBox._sendMessage();\n        }\n    };\n\n    const handleClickableElementKeyDown = (e, key) => {\n        if (key === KEYS.ENTER || key === KEYS.SPACEBAR) {\n            e.preventDefault();\n            $(e.target).trigger(CLICK);\n        }\n    };\n\n    const setReplyMessageAriaAttributes = (wrapper, options) => {\n        const replyMessageCloseButton = wrapper.find(`[${REFERENCES.replyMessageCloseButton}]`);\n        replyMessageCloseButton.each((index, element) => {\n            const $button = $(element);\n\n            if (!$button.attr(\"role\") && $button[0].nodeName.toLowerCase() !== \"button\") {\n                $button.attr(\"role\", \"button\");\n            }\n\n            if (!$button.attr(\"aria-label\") && !$button.attr(\"title\")) {\n                $button.attr(\"aria-label\", options.messages.replyMessageCloseButton);\n                $button.attr(\"title\", options.messages.replyMessageCloseButton);\n            }\n        });\n    };\n\n    const setFileCloseButtonAriaAttributes = (wrapper) => {\n        const fileCloseButton = wrapper.find(`[${REFERENCES.fileCloseButton}]`);\n\n        fileCloseButton.each((index, element) => {\n            const $button = $(element);\n\n            if (!$button.attr(\"role\") && $button[0].nodeName.toLowerCase() !== \"button\") {\n                $button.attr(\"role\", \"button\");\n            }\n\n            if (!$button.attr(\"aria-label\") && !$button.attr(\"title\")) {\n                $button.attr(\"aria-label\", \"Remove selected file\");\n                $button.attr(\"title\", \"Remove selected file\");\n            }\n        });\n    };\n\n    const setScrollButtonsAriaAttributes = (wrapper) => {\n        const leftScrollButton = wrapper.find(`[${REFERENCES.leftScrollButton}]`);\n        const rightScrollButton = wrapper.find(`[${REFERENCES.rightScrollButton}]`);\n\n        leftScrollButton.attr(\"aria-label\", \"Scroll Left\");\n        leftScrollButton.attr(\"title\", \"Scroll Left\");\n\n        rightScrollButton.attr(\"aria-label\", \"Scroll Right\");\n        rightScrollButton.attr(\"title\", \"Scroll Right\");\n    };\n\n    /**\n     * @typedef {import(\"../../typedefs/typedefs.js\").Chat.MessageBoxOptions} MessageBoxOptions\n     * @typedef {import(\"../../typedefs/typedefs.js\").Chat.Message} Message\n     * @typedef {import(\"../../typedefs/typedefs.js\").Chat.File} ChatFile\n     */\n\n    const suffixTemplate = ({ messages, speechToTextButtonEnabled, fileAttachmentButtonEnabled }) => {\n        const speechToTextButton = speechToTextButtonEnabled ? `<button title=\"${messages.speechToTextButton}\" aria-label=\"${messages.speechToTextButton}\" ${REFERENCES.speechToTextButton}></button>` : \"\";\n\n        const fileButton = fileAttachmentButtonEnabled ? kendo.html.renderButton(`<button title=\"${messages.fileButton}\" aria-label=\"${messages.fileButton}\" ${REFERENCES.fileButton}></button>`,\n            {\n                icon: ICONS.attachment,\n                size: \"medium\",\n                fillMode: \"clear\"\n            }) : \"\";\n\n        const sendButton = kendo.html.renderButton(`<button title=\"${messages.sendButton}\" aria-label=\"${messages.sendButton}\" class=\"${STYLES.chatSend} ${STYLES.disabled}\" ${REFERENCES.sendButton}></button>`,\n            {\n                icon: ICONS.send,\n                size: \"medium\",\n                rounded: \"full\",\n                fillMode: \"solid\",\n                themeColor: \"primary\"\n            });\n\n        const fileInput = fileAttachmentButtonEnabled ? `<input type=\"file\" ${REFERENCES.fileUploadInput} id=\"input_${guid()}\" class=\"k-hidden\" />` : \"\";\n\n        const spacer = `<span class=\"${STYLES.spacer}\"></span>`;\n\n        return speechToTextButton + fileButton + fileInput + spacer + sendButton;\n    };\n\n    /**\n     * MessageBox handles the input area of the chat component.\n     * Manages text input, file attachments, speech-to-text, and message sending functionality.\n     *\n     * @extends {Widget<MessageBoxOptions>}\n     */\n    class MessageBox extends Widget {\n        /** @type {MessageBoxOptions} */\n        static options = {\n            name: \"MessageBox\"\n        };\n\n        /**\n         * Constructs a new MessageBox instance\n         * @param {jQuery} element - jQuery element to attach the message box to\n         * @param {MessageBoxOptions} options - MessageBox configuration options\n         */\n        constructor(element, options) {\n            super(element, extend(true, {}, MessageBox.options, options));\n            this.chatElement = options.chatElement;\n            this._files = [];\n            this._generating = false;\n\n            this._wrapper();\n            this._initTextArea();\n\n            if (options.fileAttachment !== false) {\n                this._initUpload();\n            }\n\n            if (options.speechToText !== false) {\n                this._initSpeechToTextButton();\n            }\n\n            this._attachEvents();\n            this._typing = false;\n            this._files = [];\n        }\n\n        /**\n         * Creates the wrapper element for the message box\n         */\n        _wrapper() {\n            const options = this.options;\n            const suggestionsElement = options.suggestionsTemplate(options.suggestions);\n            this.wrapper = $(`<div class=\"${STYLES.messageBoxWrapper}\"></div>`);\n\n            if (options.suggestions.length) {\n                const suggestionsScrollableWrapper = options.suggestionsScrollable ?\n                    SCROLLABLE_SUGGESTIONS_TEMPLATE(suggestionsElement, options.dir === \"rtl\") :\n                    suggestionsElement;\n\n                this.suggestions = this.wrapper.append(suggestionsScrollableWrapper);\n            }\n\n            this.wrapper.find(`[${REFERENCES.leftScrollButton}]`).addClass(STYLES.disabled);\n\n            this.chatElement.append(this.wrapper);\n        }\n\n        /**\n         * Updates the attachment list display in the message box\n         */\n        updateAttachmentList() {\n            const attachmentContainer = this.getAttachmentListContainer();\n            const attachmentTemplate = this.options.filesTemplate(this._files, false, {}, true);\n\n            if (attachmentContainer.length === 0) {\n                this.textAreaInstance._prefixContainer.append(attachmentTemplate);\n            } else {\n                attachmentContainer.replaceWith(attachmentTemplate);\n            }\n\n            setFileCloseButtonAriaAttributes(this.textAreaInstance._prefixContainer);\n\n            this.toggleSendButton(this._files.length > 0);\n        }\n\n        /**\n         * Gets the attachment list container element\n         * @returns {jQuery} The attachment container element\n         */\n        getAttachmentListContainer() {\n            return this.textAreaInstance._prefixContainer.find(`[${REFERENCES.fileWrapper}]`);\n        }\n\n        /**\n         * Clears all file attachments from the message box\n         */\n        clearAttachmentList() {\n            this._files = [];\n            const attachmentContainer = this.getAttachmentListContainer();\n\n            if (attachmentContainer.length > 0) {\n                attachmentContainer.remove();\n            }\n\n            this.toggleSendButton(false);\n        }\n\n        /**\n         * Sets a reply message in the message box interface\n         * @param {Message} message - Message being replied to\n         * @param {boolean} isOwnMessage - Whether the reply message belongs to current user\n         */\n        setReplyMessage(message, isOwnMessage) {\n            const replyContainer = this.getReplyMessageContainer();\n            const replyTemplate = this.options.messageReferenceTemplate({ text: message.text, files: message.files, isOwnMessage, renderCloseButton: true, renderFileMenuButton: false });\n\n            if (replyContainer.length === 0) {\n                this.textAreaInstance._prefixContainer.prepend(replyTemplate);\n            } else {\n                replyContainer.replaceWith(replyTemplate);\n            }\n        }\n\n        /**\n         * Removes the reply message from the message box interface\n         */\n        removeReplyMessage() {\n            const replyContainer = this.getReplyMessageContainer();\n            if (replyContainer.length > 0) {\n                replyContainer.remove();\n            }\n        }\n\n        /**\n         * Gets the reply message container element\n         * @returns {jQuery} The reply message container element\n         */\n        getReplyMessageContainer() {\n            return this.textAreaInstance._prefixContainer.find(`[${REFERENCES.messageReferenceReplyWrapper}]`);\n        }\n\n        /**\n         * Toggles the send button enabled/disabled state\n         * @param {boolean} enabled - Whether the send button should be enabled\n         */\n        toggleSendButton(enabled) {\n            const sendButton = this.wrapper.find(`[${REFERENCES.sendButton}]`);\n\n            if (enabled) {\n                sendButton.removeClass(STYLES.disabled);\n            } else if (!this._generating) {\n                sendButton.addClass(STYLES.disabled);\n            }\n        }\n\n        /**\n         * Toggles the send button generating state (shows loading indicator)\n         * @param {boolean} generating - Whether to show generating state\n         */\n        toggleSendButtonGenerating(generating) {\n            const sendButton = this.wrapper.find(`[${REFERENCES.sendButton}]`);\n\n            sendButton.toggleClass(STYLES.generating, generating).toggleClass(STYLES.disabled, !generating);\n            this._generating = generating;\n\n            if (generating) {\n                sendButton.attr(\"aria-disabled\", false);\n                sendButton.html(kendo.ui.icon({ icon: ICONS.stop, iconClass: STYLES.buttonIcon }));\n            } else {\n                sendButton.attr(\"aria-disabled\", true);\n                sendButton.html(kendo.ui.icon({ icon: ICONS.send, iconClass: STYLES.buttonIcon }));\n            }\n        }\n\n        /**\n         * Attaches event handlers to message box elements\n         */\n        _attachEvents() {\n            this.element\n                .on(INPUT + NS, this._input.bind(this));\n\n            this.wrapper\n                .on(CLICK + NS, `[${REFERENCES.sendButton}]`, this._sendButtonClick.bind(this))\n                .on(CLICK + NS, `[${REFERENCES.fileButton}]`, this._fileButtonClick.bind(this))\n                .on(CLICK + NS, `[${REFERENCES.replyMessageCloseButton}]`, this._replyMessageCloseButtonClick.bind(this))\n                .on(CLICK + NS, `[${REFERENCES.suggestionGroup}]`, this._suggestionClick.bind(this))\n                .on(CLICK + NS, `[${REFERENCES.leftScrollButton}]`, this._leftScrollButtonClick.bind(this))\n                .on(CLICK + NS, `[${REFERENCES.rightScrollButton}]`, this._rightScrollButtonClick.bind(this))\n                .on(CLICK + NS, `[${REFERENCES.fileCloseButton}]`, this._fileCloseButtonClick.bind(this));\n        }\n\n        /**\n         * Initializes the text area component\n         */\n        _initTextArea() {\n            const options = this.options;\n            const messages = options.messages || {};\n            const inputId = \"inputId_\" + guid();\n            const speechToTextButtonEnabled = options.speechToText !== false;\n            const fileAttachmentButtonEnabled = options.fileAttachment !== false;\n\n            const textarea = this.element.kendoTextArea({\n                resize: \"auto\",\n                maxRows: 5,\n                placeholder: messages.placeholder,\n                suffixOptions: {\n                    template: () => suffixTemplate({ messages, speechToTextButtonEnabled, fileAttachmentButtonEnabled }),\n                    separator: false\n                },\n                prefixOptions: {\n                    template: () => \"\",\n                    separator: false\n                }\n            }).data(\"kendoTextArea\");\n\n            textarea.element.attr(\"id\", inputId);\n\n            textarea.wrapper\n                .addClass(STYLES.messageBox)\n                .appendTo(this.wrapper);\n\n            this.textAreaInstance = textarea;\n        }\n\n        /**\n         * Initializes the file upload component\n         */\n        _initUpload() {\n            const upload = this.wrapper.find(`[${REFERENCES.fileUploadInput}]`).kendoUpload({\n                multiple: true,\n                async: false,\n                uniqueFileUids: true,\n                select: this._uploadSelect.bind(this),\n            }).data(\"kendoUpload\");\n\n            upload.wrapper.addClass(STYLES.hidden);\n\n            this.uploadInstance = upload;\n        }\n\n        /**\n         * Handles file upload selection\n         * @param {Object} e - Upload select event\n         */\n        _uploadSelect(e) {\n            e.preventDefault();\n            const files = e.files;\n            this._files = [...this._files, ...files];\n            this.updateAttachmentList();\n        }\n\n        /**\n         * Initializes the speech-to-text button\n         */\n        _initSpeechToTextButton() {\n            const options = this.options;\n            const defaultOptions = {\n                fillMode: \"clear\",\n                result: this._speechToTextResult.bind(this)\n            };\n            const speechToTextOptions = isObject(options.speechToText) ? { ...defaultOptions, ...options.speechToText } : defaultOptions;\n\n            this.speechToTextButtonInstance = this.wrapper.find(`[${REFERENCES.speechToTextButton}]`).kendoSpeechToTextButton(speechToTextOptions).data(\"kendoSpeechToTextButton\");\n        }\n\n        /**\n         * Handles speech-to-text result\n         * @param {Object} e - Speech recognition result event\n         */\n        _speechToTextResult(e) {\n            const textarea = this.textAreaInstance;\n            let currentValue = textarea.value();\n            let transcript = \"\";\n            if (e.alternatives && e.alternatives[0]) {\n                transcript = e.alternatives[0].transcript;\n                currentValue += \" \" + transcript;\n                textarea.value(currentValue);\n            }\n\n            if (currentValue.length > 0) {\n                this.toggleSendButton(true);\n            }\n        }\n\n        /**\n         * Handles input events from the text area\n         */\n        _input() {\n            const currentValue = this.element.val();\n            const start = currentValue.length > 0;\n\n            this.toggleSendButton(start);\n            this.trigger(\"input\", { value: currentValue });\n        }\n\n        /**\n         * Handles send button click events\n         * @param {Event} e - Click event\n         */\n        _sendButtonClick(e) {\n            e.preventDefault();\n\n            this._sendMessage();\n        }\n\n        /**\n         * Handles file button click events\n         * @param {Event} e - Click event\n         */\n        _fileButtonClick(e) {\n            e.preventDefault();\n\n            this.trigger(\"fileButtonClick\");\n        }\n\n        /**\n         * Handles file close button click events\n         * @param {Event} e - Click event\n         */\n        _fileCloseButtonClick(e) {\n            e.preventDefault();\n            const fileElement = $(e.currentTarget).closest(`${DOT}${STYLES.file}`);\n            const fileUid = fileElement.data(\"uid\");\n\n            this._files = this._files.filter(file => file.uid !== fileUid);\n            this.updateAttachmentList();\n        }\n\n        /**\n         * Handles reply message close button click events\n         * @param {Event} e - Click event\n         */\n        _replyMessageCloseButtonClick(e) {\n            e.preventDefault();\n            this.trigger(\"replyMessageCloseButtonClick\");\n        }\n\n        /**\n         * Handles suggestion click events\n         * @param {Event} e - Click event\n         */\n        _suggestionClick(e) {\n            e.preventDefault();\n            const text = $(e.target).closest(DOT + STYLES.suggestion).text();\n            this.trigger(\"suggestionClick\", { text });\n            this.textAreaInstance.value(text);\n            this.toggleSendButton(true);\n        }\n\n        /**\n         * Sends a message from the message box\n         */\n        _sendMessage() {\n            const value = this.element.val();\n\n            if (this._generating) {\n                this.trigger(\"sendMessage\", { generating: true });\n                return;\n            }\n\n            if ((!value.length && !this._files?.length)) {\n                return;\n            }\n\n            const args = {\n                text: value,\n                files: this._files\n            };\n\n            this.trigger(\"sendMessage\", args);\n\n            this.textAreaInstance.value(\"\");\n            this.textAreaInstance.updateAutoHeight();\n            this.clearAttachmentList();\n        }\n\n        /**\n         * Handles left scroll button click for suggestions\n         * @param {Event} e - Click event\n         */\n        _leftScrollButtonClick(e) {\n            e.preventDefault();\n            const button = $(e.currentTarget);\n            const scrollableElement = this.wrapper.find(`${DOT}${STYLES.suggestionGroup}`);\n            const isRtl = this.options.dir === RTL;\n\n            const position = scrollByDelta(scrollableElement, isRtl ? SCROLLING_DELTA : -SCROLLING_DELTA);\n\n            this.wrapper.find(`[${REFERENCES.rightScrollButton}]`).removeClass(STYLES.disabled);\n\n            if (isRtl ? position.atEnd : position.atStart) {\n                button.addClass(STYLES.disabled);\n            }\n        }\n\n        /**\n         * Handles right scroll button click for suggestions\n         * @param {Event} e - Click event\n         */\n        _rightScrollButtonClick(e) {\n            e.preventDefault();\n            const button = $(e.currentTarget);\n            const scrollableElement = this.wrapper.find(`${DOT}${STYLES.suggestionGroup}`);\n            const isRtl = this.options.dir === RTL;\n\n            const position = scrollByDelta(scrollableElement, isRtl ? -SCROLLING_DELTA : SCROLLING_DELTA);\n\n            this.wrapper.find(`[${REFERENCES.leftScrollButton}]`).removeClass(STYLES.disabled);\n\n            if (isRtl ? position.atStart : position.atEnd) {\n                button.addClass(STYLES.disabled);\n            }\n        }\n\n        destroy() {\n            if (this.textAreaInstance) {\n                this.textAreaInstance.destroy();\n            }\n\n            if (this.speechToTextButtonInstance) {\n                this.speechToTextButtonInstance.destroy();\n            }\n\n            this.wrapper.remove();\n        }\n    }\n\n    /**\n     * @typedef {import(\"../../typedefs/typedefs.js\").Chat.MessageToolbarOptions} MessageToolbarOptions\n     * @typedef {import(\"../../typedefs/typedefs.js\").Chat.ToolbarAction} ChatToolbarAction\n     */\n\n    /**\n     * MessageToolbar provides toolbar functionality for chat messages.\n     * Handles quick actions that can be performed on messages through toolbar buttons.\n     *\n     * @extends {Widget<MessageToolbarOptions>}\n     */\n    class MessageToolbar extends Widget {\n        /** @type {MessageToolbarOptions} */\n        static options = {\n            name: \"MessageToolbar\"\n        };\n\n        /**\n         * Constructs a new MessageToolbar instance\n         * @param {jQuery} element - jQuery element to attach the toolbar to\n         * @param {MessageToolbarOptions} options - MessageToolbar configuration options\n         */\n        constructor(element, options) {\n            super(element, extend(true, {}, MessageToolbar.options, options));\n\n            this.extendItemsConfig();\n            this.create();\n            this.attachEvents();\n        }\n\n        /**\n         * Creates the underlying Kendo UI ToolBar\n         */\n        create() {\n            if (this.element.data(\"kendoMessageToolbar\")) {\n                this.destroy();\n            }\n\n            this.toolbar = new kendo.ui.ToolBar(this.element, this.options);\n        }\n\n        /**\n         * Extends items configuration with default properties\n         */\n        extendItemsConfig() {\n            if (this.options.items) {\n                this.options.items.forEach((item) => {\n                    item.attributes = item.attributes || {};\n\n                    let ariaLabel = item.attributes[\"aria-label\"];\n\n                    item.attributes[\"data-command\"] = item.name.toLowerCase();\n                    item.attributes[\"aria-label\"] = ariaLabel ?? item.name;\n                    item.type = \"button\";\n                    item.fillMode = \"flat\";\n                    item.overflow = \"never\";\n                });\n            }\n        }\n\n        /**\n         * Destroys the MessageToolbar and cleans up resources\n         */\n        destroy() {\n            if (this.toolbar) {\n                this.toolbar.destroy();\n                this.toolbar = null;\n            }\n\n            this.element.empty();\n        }\n\n        /**\n         * Attaches event handlers to the toolbar\n         */\n        attachEvents() {\n            this.toolbar.bind(CLICK, this.onClick.bind(this));\n        }\n\n        /**\n         * Handles toolbar button clicks\n         * @param {Object} e - Click event\n         */\n        onClick(e) {\n            const message = e.target.closest(DOT + STYLES.message);\n            const command = e.target.data(\"command\");\n            if (command) {\n                this.executeCommand(command, e.target, message);\n            }\n        }\n\n        /**\n         * Executes a command from the toolbar\n         * @param {string} command - Command to execute\n         * @param {jQuery} item - Toolbar item element\n         * @param {jQuery} message - Message element\n         */\n        executeCommand(command, item, message) {\n            this.trigger(\"execute\", { type: command, item, message });\n        }\n    }\n\n    /**\n     * @typedef {import(\"../../typedefs/typedefs.js\").Chat.FileMenuOptions} FileMenuOptions\n     * @typedef {import(\"../../typedefs/typedefs.js\").Chat.MenuAction} ChatMenuAction\n     */\n\n    /**\n     * ChatFileMenu provides dropdown button functionality for file attachments.\n     * Handles actions like download, preview, and delete for individual files.\n     *\n     * @extends {Widget<FileMenuOptions>}\n     */\n    class ChatFileMenu extends Widget {\n        /** @type {FileMenuOptions} */\n        static options = {\n            name: \"ChatFileMenu\",\n            items: []\n        };\n\n        /**\n         * Constructs a new ChatFileMenu instance\n         * @param {jQuery} element - jQuery element to attach the menu to\n         * @param {FileMenuOptions} options - FileMenu configuration options\n         */\n        constructor(element, options) {\n            super(element, extend(true, {}, ChatFileMenu.options, options));\n\n            this.setCommandAttributes();\n            this.createDropdownButton();\n        }\n\n        /**\n         * Creates a dropdown button on the element\n         */\n        createDropdownButton() {\n            this.dropdownButton = new kendo.ui.DropDownButton(this.element, {\n                items: this.options.items,\n                fillMode: \"flat\",\n                icon: ICONS.attachmentMenu\n            });\n\n            this.dropdownButton.bind(\"click\", this.onClick.bind(this))\n                .bind(\"open\", this.onOpen.bind(this))\n                .bind(\"close\", this.onClose.bind(this));\n        }\n\n        /**\n         * Sets command attributes on menu items for identification\n         */\n        setCommandAttributes() {\n            this.options.items.forEach((item) => {\n                item.attributes = item.attributes || {};\n                item.attributes[\"data-command\"] = item.name.toLowerCase();\n                item.id = item.name.toLowerCase();\n            });\n        }\n\n        /**\n         * Destroys the ChatFileMenu and cleans up resources\n         */\n        destroy() {\n            if (this.dropdownButton) {\n                this.dropdownButton.destroy();\n                this.dropdownButton = null;\n            }\n\n            super.destroy();\n        }\n\n        /**\n         * Handles dropdown button item click\n         * @param {Object} e - Click event\n         */\n        onClick(e) {\n            const command = e.id;\n            const file = $(e.sender.element).closest(DOT + STYLES.file);\n            const message = $(e.sender.element).closest(DOT + STYLES.message);\n\n            if (command) {\n                this.executeCommand(command, $(e.sender.element), file, message);\n            }\n        }\n\n        /**\n         * Handles dropdown open event\n         * @param {Object} e - Open event\n         */\n        onOpen(e) {\n            let setActive = true;\n            const target = $(e.sender.element);\n\n            if (target.closest(DOT + STYLES.messageRemoved).length || target.find(DOT + STYLES.typingIndicator).length) {\n                e.preventDefault();\n                setActive = false;\n            }\n\n            this.setActive(target, setActive);\n        }\n\n        /**\n         * Handles dropdown close event\n         * @param {Object} e - Close event\n         */\n        onClose(e) {\n            const target = $(e.sender.element);\n            const message = target.closest(DOT + STYLES.message);\n            this.setActive(target, false);\n            this.trigger(\"close\", { message });\n        }\n\n        /**\n         * Executes a command from the file menu\n         * @param {string} command - Command to execute\n         * @param {jQuery} item - Menu item element\n         * @param {jQuery} file - File element\n         * @param {jQuery} message - Message element\n         */\n        executeCommand(command, item, file, message) {\n            this.trigger(\"execute\", { type: command, item, file, message });\n        }\n\n        /**\n         * Sets the active state for a target element\n         * @param {jQuery} target - Target element\n         * @param {boolean} active - Whether to set active state\n         */\n        setActive(target, active) {\n            const bubble = target.closest(DOT + STYLES.bubble);\n\n            if (active) {\n                bubble.addClass(STYLES.active);\n            } else {\n                bubble.removeClass(STYLES.active);\n            }\n        }\n    }\n\n    /**\n     * @typedef {import(\"../../typedefs/typedefs.js\").Chat.Message} Message\n     * @typedef {import(\"../../typedefs/typedefs.js\").Chat.ViewOptions} ChatViewOptions\n     * @typedef {import(\"../../typedefs/typedefs.js\").Chat.File} ChatFile\n     * @typedef {import(\"../../typedefs/typedefs.js\").Chat.DataManager} DataManager\n     */\n\n    /**\n     * ChatView handles the visual rendering and display of chat messages.\n     * Manages message grouping, scrolling, and user interactions within the chat interface.\n     *\n     * @extends {Widget<ChatViewOptions>}\n     */\n    class ChatView extends Widget {\n        /** @type {ChatViewOptions} */\n        static options = {\n            name: \"ChatView\"\n        };\n\n        /**\n         * Constructs a new ChatView instance\n         * @param {jQuery} element - jQuery element to attach the view to\n         * @param {ChatViewOptions} options - ChatView configuration options\n         */\n        constructor(element, options) {\n            super(element, extend(true, {}, ChatView.options, options));\n\n            this._dataManager = this.options.dataManager;\n            this._list();\n\n            this._attachEvents();\n        }\n\n        /**\n         * Gets the list of events supported by the ChatView\n         * @returns {string[]} Array of event names\n         */\n        get events() {\n            return [];\n        }\n\n        /**\n         * Destroys the ChatView and cleans up resources\n         */\n        destroy() {\n            super.destroy();\n\n            this.element.find(\"[data-role='chatfilemenu']\").each(function() {\n                const fileMenu = $(this).data(\"kendoChatFileMenu\");\n                if (fileMenu) {\n                    fileMenu.destroy();\n                }\n            });\n\n            this.element.empty();\n            this.element.off(NS);\n\n            this.list = null;\n        }\n\n        /**\n         * Initializes the message list element\n         */\n        _list() {\n            this.element\n                .addClass(STYLES.messageList)\n                .attr(\"role\", \"log\")\n                .attr(\"aria-label\", this.options.messages.messageListLabel);\n\n            this.list = $(\"<div>\")\n                .addClass(STYLES.messageListContent)\n                .appendTo(this.element);\n        }\n\n        /**\n         * Attaches event handlers to the chat view\n         */\n        _attachEvents() {\n            this.element\n                .on(CLICK + NS, this._listClick.bind(this))\n                .on(CLICK + NS, DOT + STYLES.message, this._messageClick.bind(this))\n                .on(CLICK + NS, DOT + STYLES.suggestion, this._suggestionClick.bind(this))\n                .on(CLICK + NS, `[${REFERENCES.leftScrollButton}]`, this._leftScrollButtonClick.bind(this))\n                .on(CLICK + NS, `[${REFERENCES.rightScrollButton}]`, this._rightScrollButtonClick.bind(this))\n                .on(CLICK + NS, DOT + STYLES.downloadButton, this._downloadAllClick.bind(this));\n        }\n\n        /**\n         * Render a message in the chat view with proper grouping and formatting\n         * @param {Message} message - Message to render\n         */\n        renderMessage(message) {\n            const componentMessages = this.options.messages;\n            const expandable = this.options.allowMessageCollapse;\n            const fullWidth = this.options.messageWidthMode === MESSAGE_WIDTH_MODE.FULL;\n            const author = {\n                id: message.authorId,\n                name: message.authorName,\n                imageUrl: message.authorImageUrl,\n                imageAltText: message.authorImageAltText\n            };\n            const isOwnMessage = author.id === this.options.authorId;\n            const replyMessage = this.getReplyMessage(message);\n            const messageTimeFormat = this.options.messageTimeFormat;\n            const skipSanitization = this.options.skipSanitization;\n\n            // Handle existing message updates\n            if (this._handleExistingMessageUpdate({ message, author, isOwnMessage, replyMessage, componentMessages, expandable, messageTimeFormat, skipSanitization })) {\n                return;\n            }\n\n            const targetGroupElement = this._findTargetMessageGroup();\n            const canGroup = this._canGroupWithLastMessage(targetGroupElement, author.id);\n\n            if (canGroup && targetGroupElement.length) {\n                this._addMessageToExistingGroup({ message, author, isOwnMessage, replyMessage, componentMessages, expandable, targetGroupElement, messageTimeFormat, skipSanitization });\n            } else {\n                const showTimestamp = this._shouldShowTimestamp(message);\n                this._createNewMessageGroup({ message, author, isOwnMessage, replyMessage, componentMessages, expandable, fullWidth, messageTimeFormat, showTimestamp, skipSanitization });\n            }\n        }\n\n        /**\n         * Determines whether a timebreak should be shown before this message\n         * @param {Message} message - The message being rendered\n         * @returns {boolean} True if a timebreak should be shown\n         */\n        _shouldShowTimestamp(message) {\n            if (!message.timestamp) {\n                return false;\n            }\n\n            // Find the last non-typing message in the chat\n            const lastNonTypingMessage = this.list.find(DOT + STYLES.message).filter(function() {\n                return $(this).find(DOT + STYLES.typingIndicator).length === 0;\n            }).last();\n\n            if (!lastNonTypingMessage.length) {\n                // This is the first message, show timebreak\n                return true;\n            }\n\n            const lastMessageData = this.dataItem(lastNonTypingMessage);\n            if (!lastMessageData || !lastMessageData.timestamp) {\n                return true;\n            }\n\n            // Parse dates and compare days\n            const currentMessageDate = kendo.parseDate(message.timestamp);\n            const lastMessageDate = kendo.parseDate(lastMessageData.timestamp);\n\n            if (!currentMessageDate || !lastMessageDate) {\n                return false;\n            }\n\n            // Compare dates at day level (ignore time)\n            const currentDay = new Date(currentMessageDate);\n            currentDay.setHours(0, 0, 0, 0);\n\n            const lastDay = new Date(lastMessageDate);\n            lastDay.setHours(0, 0, 0, 0);\n\n            return currentDay.getTime() !== lastDay.getTime();\n        }\n\n        /**\n         * Initializes the message toolbar for a message element\n         * @param {jQuery} element - Message element to attach toolbar to\n         */\n        _initMessageToolbar(element) {\n            const options = this.options;\n            const messageToolbarActions = options.messageToolbarActions;\n\n            if (!messageToolbarActions || !messageToolbarActions.length || !element.length) {\n                element.remove();\n                return;\n            }\n\n            const messageToolbar = new MessageToolbar(element, {\n                items: messageToolbarActions,\n                dir: options.dir,\n                messages: options.messages,\n                resizable: false\n            });\n\n            messageToolbar.bind(\"execute\", (e) => this.trigger(\"messageToolbarExecute\", e));\n        }\n\n        /**\n         * Initializes file menus for file menu buttons in the given element\n         * @param {jQuery} element - Element to search for file menu buttons\n         */\n        _initFileMenus(element) {\n            const options = this.options;\n            const fileActions = options.fileActions;\n            const fileMenuButtons = element.find(`[${REFERENCES.fileMenuButton}]`);\n\n            if (!fileActions || !fileActions.length || !element.length) {\n                fileMenuButtons.remove();\n                return;\n            }\n\n            fileMenuButtons.each((i, el) => {\n                const $el = $(el);\n                // Check if already initialized to avoid double initialization\n                if (!$el.data('kendoDropDownButton')) {\n                    const menu = new ChatFileMenu($el, { items: fileActions });\n                    menu.bind(\"execute\", (e) => this.trigger(\"fileMenuExecute\", e));\n                }\n            });\n        }\n\n        /**\n         * Handle updating an existing message if it already exists in the view\n         * @param {Message} message - Message to update\n         * @param {Object} author - Author information\n         * @param {boolean} isOwnMessage - Whether the message belongs to current user\n         * @param {Message|null} replyMessage - Message being replied to\n         * @param {Object} componentMessages - Localization messages\n         * @param {boolean} expandable - Whether message should be expandable\n         * @param {string} messageTimeFormat - Format for message timestamps\n         * @returns {boolean} True if an existing message was updated, false otherwise\n         */\n        _handleExistingMessageUpdate({ message, author, isOwnMessage, replyMessage, componentMessages, expandable, messageTimeFormat, skipSanitization }) {\n            const existingMessageElement = this.list.find(DOT + STYLES.message + `[data-uid=\"${htmlEncode(message.uid)}\"]`);\n            if (existingMessageElement.length) {\n                const messageTemplate = this.options.messageTemplate;\n                const updatedMessageElement = $(messageTemplate({\n                    ...message,\n                    isOwnMessage: isOwnMessage,\n                    author: author\n                }, replyMessage, true, componentMessages, expandable, messageTimeFormat, skipSanitization));\n                existingMessageElement.replaceWith(updatedMessageElement);\n                this._initMessageToolbar(updatedMessageElement.find(DOT + STYLES.messageToolbar));\n                this._initFileMenus(updatedMessageElement);\n                return true;\n            }\n            return false;\n        }\n\n        /**\n         * Find the appropriate target group for the new message\n         * @returns {jQuery} The target message group element\n         */\n        _findTargetMessageGroup() {\n            // 1. Get the last message group\n            let lastGroupElement = this.list.children(DOT + STYLES.messageGroup).last();\n            let targetGroupElement = lastGroupElement;\n\n            // 2. Check if it has only one message\n            const messagesInLastGroup = lastGroupElement.find(DOT + STYLES.message);\n            if (messagesInLastGroup.length === 1) {\n                // 3. Check if that only message is a typing indicator\n                const onlyMessage = messagesInLastGroup.first();\n                const isTypingIndicator = onlyMessage.find(DOT + STYLES.typingIndicator).length > 0;\n\n                if (isTypingIndicator) {\n                    // 4. If it is, get the previous group\n                    targetGroupElement = lastGroupElement.prev(DOT + STYLES.messageGroup);\n                }\n            }\n\n            return targetGroupElement;\n        }\n\n        /**\n         * Check if the new message can be grouped with the last message in the target group\n         * @param {jQuery} targetGroupElement - Target group element\n         * @param {string} authorId - Author ID of the new message\n         * @returns {boolean} True if messages can be grouped, false otherwise\n         */\n        _canGroupWithLastMessage(targetGroupElement, authorId) {\n            // 5. Get the last message from the (possibly previous) group\n            const lastMessageInTargetGroup = targetGroupElement.find(DOT + STYLES.message).filter(function() {\n                // Exclude typing indicators\n                return $(this).find(DOT + STYLES.typingIndicator).length === 0;\n            }).last();\n\n            // 6. Get the message dataitem\n            const lastMessageData = this.dataItem(lastMessageInTargetGroup);\n\n            // 7. Compare the dataitem author id to the author.id coming from the function param.\n            return lastMessageData && lastMessageData.authorId === authorId;\n        }\n\n        /**\n         * Add a message to an existing message group\n         * @param {Object} params - Parameters object\n         * @param {Message} params.message - Message to add\n         * @param {Object} params.author - Author information\n         * @param {boolean} params.isOwnMessage - Whether message belongs to current user\n         * @param {Message|null} params.replyMessage - Message being replied to\n         * @param {Object} params.componentMessages - Localization messages\n         * @param {boolean} params.expandable - Whether message should be expandable\n         * @param {jQuery} params.targetGroupElement - Target group element\n         * @param {string} params.messageTimeFormat - Format for message timestamps\n         */\n        _addMessageToExistingGroup({ message, author, isOwnMessage, replyMessage, componentMessages, expandable, targetGroupElement, messageTimeFormat, skipSanitization }) {\n            const messageTemplate = this.options.messageTemplate;\n            const messageGroupContent = targetGroupElement.find(DOT + STYLES.messageGroupContent);\n            const messageElement = $(messageTemplate({\n                ...message,\n                isOwnMessage: isOwnMessage,\n                author: author\n            }, replyMessage, true, componentMessages, expandable, messageTimeFormat, skipSanitization));\n            messageGroupContent.append(messageElement);\n            this._initMessageToolbar(messageElement.find(DOT + STYLES.messageToolbar));\n            this._initFileMenus(messageElement);\n            this._moveTypingIndicatorsToEnd();\n        }\n\n        /**\n         * Create a new message group for the message\n         * @param {Object} params - Parameters object\n         * @param {Message} params.message - Message to add\n         * @param {Object} params.author - Author information\n         * @param {boolean} params.isOwnMessage - Whether message belongs to current user\n         * @param {Message|null} params.replyMessage - Message being replied to\n         * @param {Object} params.componentMessages - Localization messages\n         * @param {boolean} params.expandable - Whether message should be expandable\n         * @param {boolean} params.fullWidth - Whether to use full width layout\n         * @param {string} params.messageTimeFormat - Format for message timestamps\n         * @param {boolean} params.showTimestamp - Whether to show a timestamp before this message group\n         * @returns {jQuery} The created group element\n         */\n        _createNewMessageGroup({ message, author, isOwnMessage, replyMessage, componentMessages, expandable, fullWidth, messageTimeFormat, showTimestamp = false, skipSanitization }) {\n            const messageGroupTemplate = this.options.messageGroupTemplate;\n            const timestampTemplate = this.options.timestampTemplate;\n            const messageTemplate = this.options.messageTemplate;\n            const groupElement = $(messageGroupTemplate({\n                message: message,\n                author: author,\n                isOwnMessage: isOwnMessage,\n                replyMessage: replyMessage,\n                downloadAll: true,\n                messages: componentMessages,\n                expandable: expandable,\n                fullWidth: fullWidth,\n                messageTimeFormat: messageTimeFormat,\n                timestampTemplate: timestampTemplate,\n                showTimestamp: showTimestamp,\n                messageTemplate: messageTemplate,\n                skipSanitization: skipSanitization\n            }));\n            this.list.append(groupElement);\n            this._initMessageToolbar(groupElement.find(DOT + STYLES.messageToolbar));\n            this._initFileMenus(groupElement);\n            this._moveTypingIndicatorsToEnd();\n\n            return groupElement;\n        }\n\n        /**\n         * Moves typing indicator messages to the end of the message list\n         */\n        _moveTypingIndicatorsToEnd() {\n            const that = this;\n            const messageGroupTemplate = this.options.messageGroupTemplate;\n            const fullWidth = this.options.messageWidthMode === MESSAGE_WIDTH_MODE.FULL;\n            // Find all typing indicator messages\n            const typingMessages = that.list.find(DOT + STYLES.message).filter(function() {\n                return $(this).find(DOT + STYLES.typingIndicator).length > 0;\n            });\n\n            typingMessages.each(function() {\n                const typingMessage = $(this);\n                const messageGroup = typingMessage.closest(DOT + STYLES.messageGroup);\n                const messagesInGroup = messageGroup.find(DOT + STYLES.message);\n\n                if (messagesInGroup.length === 1) {\n                    // Only typing message in group, move entire group\n                    messageGroup.detach().appendTo(that.list);\n                } else {\n                    // Multiple messages in group, remove typing message from group\n                    typingMessage.remove();\n\n                    // Create new group with just the typing message\n                    const message = that.dataItem(typingMessage);\n\n                    const author = {\n                        id: message.authorId,\n                        name: message.authorName,\n                        imageUrl: message.authorImageUrl,\n                        imageAltText: message.authorImageAltText\n                    };\n\n                    const typingGroupElement = $(messageGroupTemplate({\n                        message: message,\n                        author: author,\n                        isOwnMessage: author.id === that.options.authorId,\n                        fullWidth: fullWidth,\n                        messageTimeFormat: that.options.messageTimeFormat,\n                        showTimestamp: false, // Typing indicators should not show timestamps\n                        timestampTemplate: that.options.timestampTemplate,\n                        messageTemplate: that.options.messageTemplate\n                    }));\n\n                    that.list.append(typingGroupElement);\n                }\n            });\n        }\n\n        /**\n         * Gets the data item (Message) associated with a jQuery message element\n         * @param {jQuery} message - JQuery Element\n         * @returns {Message|null} - Message model or null if not found\n         */\n        dataItem(message) {\n            const uid = message && message.data(\"uid\");\n            if (uid) {\n                return this._dataManager.getMessageByUid(uid);\n            }\n            return null;\n        }\n\n        /**\n         * Gets a file data item from a message by its UID\n         * @param {Message} message - Message containing the file\n         * @param {jQuery} file - JQuery Element representing the file\n         * @returns {Object|null} - File data item or null if not found\n         */\n        fileDataItem(message, file) {\n            const uid = file && file.data(\"uid\");\n            if (uid) {\n                return this._dataManager.getFileByUid(message, uid);\n            }\n            return null;\n        }\n\n        /**\n         * Gets a reply message for a given message\n         * @param {Message} message - Message to get the reply for\n         * @returns {Message|null} - Reply message model or null if not found\n         */\n        getReplyMessage(message) {\n            if (!message?.replyToId) {\n                return null;\n            }\n\n            const replyMessage = this._dataManager.getMessageById(message.replyToId);\n            replyMessage.isOwnMessage = replyMessage?.authorId === this.options.authorId;\n\n            return replyMessage;\n        }\n\n        /**\n         * Renders suggested actions for the last message\n         */\n        renderSuggestedActions() {\n            const options = this.options;\n            const lastSuggestedActions = this._dataManager.getLastMessage()?.suggestedActions || [];\n            const suggestedActionsElement = options.suggestedActionsTemplate(lastSuggestedActions);\n            const suggestedActionsScrollableWrapper = options.suggestedActionsScrollable ?\n                SCROLLABLE_SUGGESTIONS_TEMPLATE(suggestedActionsElement, options.dir === \"rtl\") :\n                suggestedActionsElement;\n\n            this._removeSuggestedActions();\n\n            this.list.append(lastSuggestedActions.length ? suggestedActionsScrollableWrapper : '');\n\n            this.list.find(`[${REFERENCES.leftScrollButton}]`).addClass(STYLES.disabled);\n        }\n\n        /**\n         * Removes a message from the view by UID\n         * @param {string} uid - Message UID to remove\n         * @returns {boolean} True if message was removed, false if not found\n         */\n        removeMessage(uid) {\n            const messageElement = this.list.find(DOT + STYLES.message + `[data-uid=\"${htmlEncode(uid)}\"]`);\n\n            if (!messageElement.length) {\n                return false; // Message not found\n            }\n\n            const messageGroup = messageElement.closest(DOT + STYLES.messageGroup);\n            const messagesInGroup = messageGroup.find(DOT + STYLES.message);\n\n            if (messagesInGroup.length === 1) {\n                // Remove the entire group if it's the only message\n                messageGroup.remove();\n            } else {\n                // Remove just the message\n                messageElement.remove();\n            }\n\n            return true; // Message successfully removed\n        }\n\n        /**\n         * Clears all messages from the chat view\n         */\n        clearMessages() {\n            // Remove all message groups\n            this.list.find(DOT + STYLES.messageGroup).remove();\n\n            // Remove timestamps\n            this.list.find(DOT + STYLES.timestamp).remove();\n\n            // Remove suggested actions if any\n            this._removeSuggestedActions();\n        }\n\n        /**\n         * Scrolls the chat view to the bottom\n         */\n        scrollToBottom() {\n            this.element.scrollTop(this.element.prop(\"scrollHeight\"));\n        }\n\n        /**\n         * Scrolls to a specific message by its UID\n         * @param {string} uid - The UID of the message to scroll to\n         * @returns {boolean} True if message was found and scrolled to, false otherwise\n         */\n        scrollToMessage(uid) {\n            if (!uid) {\n                return false;\n            }\n\n            const messageElement = this.list.find(DOT + STYLES.message + `[data-uid=\"${htmlEncode(uid)}\"]`);\n\n            if (!messageElement.length) {\n                return false;\n            }\n\n            // Use the scrollToElement utility for smooth scrolling\n            return scrollToElement(this.element, messageElement, { position: \"top\" });\n        }\n\n        /**\n         * Handles left scroll button click for suggestions\n         * @param {Event} e - Click event\n         */\n        _leftScrollButtonClick(e) {\n            e.preventDefault();\n            const button = $(e.currentTarget);\n            const scrollableElement = this.element.find(`${DOT}${STYLES.suggestionGroup}`);\n            const isRtl = this.options.dir === RTL;\n\n            const position = scrollByDelta(scrollableElement, isRtl ? SCROLLING_DELTA : -SCROLLING_DELTA);\n\n            this.element.find(`[${REFERENCES.rightScrollButton}]`).removeClass(STYLES.disabled);\n\n            if (isRtl ? position.atEnd : position.atStart) {\n                button.addClass(STYLES.disabled);\n            }\n        }\n\n        /**\n         * Handles right scroll button click for suggestions\n         * @param {Event} e - Click event\n         */\n        _rightScrollButtonClick(e) {\n            e.preventDefault();\n            const button = $(e.currentTarget);\n            const scrollableElement = this.element.find(`${DOT}${STYLES.suggestionGroup}`);\n            const isRtl = this.options.dir === RTL;\n\n            const position = scrollByDelta(scrollableElement, isRtl ? -SCROLLING_DELTA : SCROLLING_DELTA);\n\n            this.element.find(`[${REFERENCES.leftScrollButton}]`).removeClass(STYLES.disabled);\n\n            if (isRtl ? position.atStart : position.atEnd) {\n                button.addClass(STYLES.disabled);\n            }\n        }\n\n        /**\n         * Removes suggested actions from the view\n         */\n        _removeSuggestedActions() {\n            this.list.find(DOT + STYLES.suggestionGroup).remove();\n            this.list.find(DOT + STYLES.suggestionScrollWrap).remove();\n        }\n\n        /**\n         * Handles click events on the message list\n         * @param {Event} e - Click event\n         */\n        _listClick(e) {\n            const targetElement = $(e.target);\n\n            if (targetElement.hasClass(STYLES.message) || targetElement.parents(DOT + STYLES.message).length) {\n                return;\n            }\n\n            this._clearSelection(targetElement);\n        }\n        /**\n         * Handles click events on suggestions\n         * @param {Event} e - Click event\n         */\n        _suggestionClick(e) {\n            const suggestionElement = $(e.currentTarget);\n\n            if (suggestionElement.length) {\n                this.trigger(\"suggestedActionClick\", { text: suggestionElement.text() });\n            }\n        }\n\n        /**\n         * Handles click events on messages\n         * @param {Event} e - Click event\n         */\n        _messageClick(e) {\n            const target = $(e.target);\n            const expandIcon = target.closest(`[${REFERENCES.bubbleExpandableIndicator}]`);\n\n            if (this._allowMessageClick(target)) {\n                return;\n            }\n\n            this._clearSelection(target);\n\n            if (expandIcon.length) {\n                const bubble = expandIcon.closest(DOT + STYLES.bubble);\n                const isExpanded = bubble.hasClass(STYLES.expanded);\n\n                bubble.toggleClass(STYLES.expanded, !isExpanded);\n                expandIcon.html(kendo.ui.icon({ icon: isExpanded ? ICONS.chevronDown : ICONS.chevronUp }));\n\n                // Trigger event for accessibility updates\n                this.trigger(\"expandableToggle\", { indicator: expandIcon, isExpanded: !isExpanded });\n                return;\n            }\n\n            const messageElement = $(e.currentTarget);\n            const bubble = messageElement.find(DOT + STYLES.bubble);\n            bubble.addClass(STYLES.selected);\n        }\n\n        /**\n         * Determines if a message click should be allowed based on the target element\n         * @param {jQuery} target - Target element that was clicked\n         * @returns {boolean} True if click should be allowed, false otherwise\n         */\n        _allowMessageClick(target) {\n            const disallowedSelectors = [\n                `[${REFERENCES.fileMenuButton}]`,\n                DOT + STYLES.messageToolbar,\n                DOT + STYLES.typingIndicator,\n                DOT + STYLES.downloadButton\n            ].join(\", \");\n\n            return target.closest(disallowedSelectors).length > 0 ||\n                    target.children(disallowedSelectors).length > 0 ||\n                    target.is(disallowedSelectors);\n        }\n\n        /**\n         * Clears message selection from the view\n         */\n        _clearSelection(target) {\n            const selectedMessages = this.element.find(DOT + STYLES.selected);\n\n            if (target.closest(`[${REFERENCES.bubbleExpandableIndicator}]`).length) {\n                return;\n            }\n\n            selectedMessages.each((_index, element) => {\n                const bubble = $(element);\n                bubble.removeClass(STYLES.selected);\n            });\n        }\n\n        /**\n         * Handles click events on download all button\n         * @param {Event} e - Click event\n         */\n        _downloadAllClick(e) {\n            const downloadButton = $(e.currentTarget);\n            const message = downloadButton.closest(DOT + STYLES.message);\n\n            if (message.length) {\n                this.trigger(\"downloadAllFiles\", {\n                    messageElement: message\n                });\n            }\n        }\n\n        /**\n         * Adds a new message to the data source\n         * @param {DataManager} dataManager - Data for the new message\n         * @returns {Promise<Message>} Promise resolving to the added message\n         */\n        _refreshDataManager(dataManager) {\n            this._dataManager = dataManager;\n        }\n    }\n\n    /**\n     * @typedef {import(\"../../typedefs/typedefs.js\").Chat.Message} Message\n     * @typedef {import(\"../../typedefs/typedefs.js\").Chat.DataManager} ChatDataManager\n     * @typedef {import(\"../../typedefs/typedefs.js\").Chat.File} ChatFile\n     * @typedef {import(\"../../typedefs/typedefs.js\").Chat.Options} ChatOptions\n     */\n\n    /**\n     * ChatDataManager handles all data operations for the Chat component.\n     * Manages message storage, retrieval, updates, and data source configuration.\n     *\n     * @class ChatDataManager\n     */\n    class ChatDataManager {\n        /**\n         * Default configuration options for the data manager\n         * @static\n         * @type {Object}\n         */\n        static options = {\n            autoSync: true,\n            schema: {\n                model: {\n                    id: \"id\",\n                    fields: {\n                        id: { type: \"string\" },\n                        text: { type: \"string\" },\n                        authorId: { type: \"string\" },\n                        authorName: { type: \"string\" },\n                        authorImageUrl: { type: \"string\" },\n                        authorImageAltText: { type: \"string\" },\n                        replyToId: { type: \"string\", defaultValue: null },\n                        isDeleted: { type: \"boolean\", defaultValue: false },\n                        isPinned: { type: \"boolean\", defaultValue: false },\n                        isTyping: { type: \"boolean\", defaultValue: false },\n                        timestamp: { type: \"date\" },\n                        files: { parse: (value) => value || [] }\n                    }\n                }\n            }\n        };\n\n        /**\n         * Constructs a new ChatDataManager instance\n         * @param {ChatOptions} options - Configuration options for the chat data manager\n         */\n        constructor(options) {\n            this.dataSource = this.createDataSource(options);\n        }\n\n        /**\n         * Creates and configures a data source for the chat component\n         * @param {Object} options - Chat options containing dataSource configuration\n         * @returns {kendo.data.DataSource} Configured data source\n         */\n        createDataSource(options) {\n            let dataSource;\n\n            if (options.dataSource instanceof kendo.data.DataSource) {\n                this.options = extend(true, {}, ChatDataManager.options, options.dataSource.options);\n            } else if (options.dataSource instanceof Array) {\n                this.options = extend(true, {}, ChatDataManager.options, { data: options.dataSource });\n            } else {\n                this.options = extend(true, {}, ChatDataManager.options, options.dataSource);\n            }\n\n            this.mapFields(this.options.schema.model.fields, options);\n\n            dataSource = kendo.data.DataSource.create(this.options);\n\n            return dataSource;\n        }\n\n        /**\n         * Maps field configuration from chat options to data source field definitions.\n         * This allows for flexible field mapping between the chat component and data source.\n         * @param {Object} fields - The data source field definitions\n         * @param {ChatOptions} options - Chat configuration options containing field mappings\n         */\n        mapFields(fields, options) {\n            const fieldMap = {\n                text: \"textField\",\n                authorId: \"authorIdField\",\n                authorName: \"authorNameField\",\n                authorImageUrl: \"authorImageUrlField\",\n                authorImageAltText: \"authorImageAltTextField\",\n                id: \"idField\",\n                timestamp: \"timestampField\",\n                files: \"filesField\",\n                replyToId: \"replyToIdField\",\n                isDeleted: \"isDeletedField\",\n                isPinned: \"isPinnedField\",\n                isTyping: \"isTypingField\"\n            };\n\n            for (const key in fields) {\n                if (fields.hasOwnProperty(key) && fieldMap[key]) {\n                    fields[key].from = options[fieldMap[key]];\n                }\n            }\n        }\n\n        /**\n         * Sets the status of the message to deleted\n         * @param {Message} message - Mark message as deleted\n         * @returns {boolean} Success status\n         */\n        removeMessage(message) {\n            if (!message) {\n                return false;\n            }\n\n            message.set(\"isDeleted\", true);\n            return true;\n        }\n\n        /**\n         * Updates a message in the data source\n         * @param {Message} message - Message to update\n         * @param {Message} newData - New data to apply\n         * @returns {Message} - updated message object\n         */\n        updateMessage(message, newData) {\n            if (!message) {\n                return null;\n            }\n\n            if (!(message instanceof kendo.data.ObservableObject)) {\n                message = this.getMessageById(message.id);\n            }\n\n            for (let key in newData) {\n                if (newData.hasOwnProperty(key)) {\n                    message.set(key, newData[key]);\n                }\n            }\n            return message;\n        }\n\n        /**\n         * Gets a message by ID from the data source\n         * @param {string|number} id - Message ID\n         * @returns {Message|null} Message model or null if not found\n         */\n        getMessageById(id) {\n            if (!id) {\n                return null;\n            }\n\n            return this.dataSource.get(id);\n        }\n\n        /**\n         * Gets a message by UID from the data source\n         * @param {string} uid - Message UID\n         * @returns {Message|null} Message model or null if not found\n         */\n        getMessageByUid(uid) {\n            return this.dataSource.getByUid(uid);\n        }\n\n        /**\n         * Gets a file by UID from a message's files array\n         * @param {Message} message - Message containing files\n         * @param {string} uid - File UID to search for\n         * @returns {ChatFile|null} File object or null if not found\n         */\n        getFileByUid(message, uid) {\n            if (!message || !uid) {\n                return null;\n            }\n\n            const files = message.files;\n            return files.find(file => file.uid === uid) || null;\n        }\n\n        /**\n         * Adds a new message to the data source\n         * @param {string|Message} message - Message text or message object\n         * @param {any} currentUserId - Current user ID information\n         * @returns {Message} - Updated message object\n         */\n        postMessage(message, currentUserId) {\n            let messageData;\n\n            if (typeof message === \"string\") {\n                message = { text: message };\n            }\n\n            messageData = {\n                timestamp: new Date(),\n                files: [],\n                ...message,\n                authorId: message.authorId?.toString() || currentUserId\n            };\n\n            return this.dataSource.add(messageData);\n        }\n\n        /**\n         * Updates the pinned status of a message\n         * @param {Message} message - Message to update\n         * @returns {Message|boolean} - Updated message object or false if message is invalid\n         */\n        pinMessage(message) {\n            if (!message) {\n                return false;\n            }\n\n            this.getPinnedMessage()?.set(\"isPinned\", false);\n\n            return message.set(\"isPinned\", true);\n        }\n\n        /**\n         * Sets the pinned status of the currently pinned message to false.\n         */\n        clearPinnedMessage() {\n            this.getPinnedMessage()?.set(\"isPinned\", false);\n        }\n\n        /**\n         * Gets the currently pinned message\n         * @returns {Message|null} The pinned message or null if no message is pinned\n         */\n        getPinnedMessage() {\n            return this.dataSource.data().find(m => m.isPinned) || null;\n        }\n\n        /**\n         * Gets the current data source view\n         * @returns {Array} Array of data items\n         */\n        getView() {\n            return this.dataSource.view();\n        }\n\n        /**\n         * Gets the data source instance\n         * @returns {kendo.data.DataSource} The data source\n         */\n        getDataSource() {\n            return this.dataSource;\n        }\n\n        /**\n         * Gets the last message in the data source view\n         * @returns {Message|null} The last message or null if no messages exist\n         */\n        getLastMessage() {\n            const view = this.getView();\n            return view.length ? view[view.length - 1] : null;\n        }\n    }\n\n    /**\n     * @typedef {import(\"../../typedefs/typedefs.js\").Chat.MessageMenuOptions} ChatMessageMenuOptions\n     * @typedef {import(\"../../typedefs/typedefs.js\").Chat.MenuAction} ChatMenuAction\n     */\n\n    /**\n     * ChatMessageMenu provides context menu functionality for chat messages.\n     * Handles actions like reply, copy, pin, and delete for individual messages.\n     *\n     * @extends {Widget<ChatMessageMenuOptions>}\n     */\n    class ChatMessageMenu extends Widget {\n        /** @type {ChatMessageMenuOptions} */\n        static options = {\n            name: \"ChatMessageMenu\",\n            filter: `${DOT}${STYLES.chatBubble}`,\n            dataSource: [],\n            keyboardAlignToAnchor: true\n        };\n\n        /**\n         * Constructs a new ChatMessageMenu instance\n         * @param {jQuery} element - jQuery element to attach the menu to\n         * @param {ChatMessageMenuOptions} options - ChatMessageMenu configuration options\n         */\n        constructor(element, options) {\n            super(element, extend(true, {}, ChatMessageMenu.options, options));\n\n            this.setCommandAttributes();\n            this.create();\n            this.attachEvents();\n        }\n\n        /**\n         * Creates the underlying Kendo UI ContextMenu\n         */\n        create() {\n            this.menu = new kendo.ui.ContextMenu(this.element, this.options);\n        }\n\n        /**\n         * Destroys the ChatMessageMenu and cleans up resources\n         */\n        destroy() {\n            if (this.menu) {\n                this.menu.destroy();\n                this.menu = null;\n                this.element.remove();\n            }\n        }\n\n        /**\n         * Attaches event handlers to the context menu\n         */\n        attachEvents() {\n            this.menu.bind(\"select\", this.onSelect.bind(this))\n                .bind(\"open\", this.onOpen.bind(this))\n                .bind(\"close\", this.onClose.bind(this));\n        }\n\n        /**\n         * Sets command attributes on menu items for identification\n         */\n        setCommandAttributes() {\n            this.options.dataSource.forEach((item) => {\n                item.attr = item.attr || {};\n                item.attr[\"data-command\"] = item.name.toLowerCase();\n            });\n        }\n\n        /**\n         * Handles menu item selection\n         * @param {Object} e - Selection event\n         */\n        onSelect(e) {\n            const item = $(e.item);\n            const message = $(e.target).closest(DOT + STYLES.message);\n            const command = item.data(\"command\");\n            if (command) {\n                this.executeCommand(command, item, message);\n            }\n        }\n\n        /**\n         * Handles menu open event\n         * @param {Object} e - Open event\n         */\n        onOpen(e) {\n            let setActive = true;\n            const target = $(e.target);\n            const originalTarget = $(e.event?.target).length ? $(e.event.target) : target;\n\n            const isMessageRemoved = target.closest(DOT + STYLES.messageRemoved).length > 0;\n            const hasTypingIndicator = target.find(DOT + STYLES.typingIndicator).length > 0;\n            const isAttachmentMenuButton = originalTarget.closest(`[${REFERENCES.fileMenuButton}]`).length > 0;\n            const message = target.closest(DOT + STYLES.message);\n\n            if (isMessageRemoved || hasTypingIndicator || isAttachmentMenuButton || !message.length) {\n                e.preventDefault();\n                setActive = false;\n            }\n\n            target.toggleClass(STYLES.active, setActive);\n            this.trigger(\"open\", { message });\n        }\n\n        /**\n         * Handles menu close event\n         * @param {Object} e - Close event\n         */\n        onClose(e) {\n            const target = $(e.target);\n            const message = target.closest(DOT + STYLES.message);\n            target.removeClass(STYLES.active);\n            this.trigger(\"close\", { message });\n        }\n\n        /**\n         * Executes a command from the menu\n         * @param {string} command - Command to execute\n         * @param {jQuery} item - Menu item element\n         * @param {jQuery} message - Message element\n         */\n        executeCommand(command, item, message) {\n            this.trigger(\"execute\", { type: command, item, message });\n        }\n\n        /**\n         * Toggles the visibility of the delete menu item\n         * @param {boolean} visible - Whether the delete item should be visible\n         */\n        toggleDeleteVisibility(visible) {\n            const deleteItem = this.element.find(\"[data-command='delete']\");\n            if (deleteItem.length) {\n                deleteItem.toggleClass(STYLES.hidden, !visible);\n            }\n        }\n    }\n\n    /**\n     * @typedef {import(\"../typedefs/typedefs.js\").Chat.Message} Message\n     * @typedef {import(\"../typedefs/typedefs.js\").Chat.Options} ChatOptions\n     * @typedef {import(\"../typedefs/typedefs.js\").Chat.File} ChatFile\n     * @typedef {import(\"../typedefs/typedefs.js\").Chat.MenuAction} ChatMenuAction\n     */\n\n    const __meta__ = {\n        id: \"chat\",\n        name: \"Chat\",\n        category: \"web\",\n        description: \"The Chat component.\",\n        depends: [\"data\", \"draganddrop\", \"html.button\", \"textarea\", \"menu\", \"avatar\", \"toolbar\", \"speechtotextbutton\"]\n    };\n\n    /**\n     * The Kendo UI Chat component provides a conversational UI for sending and receiving messages.\n     * It supports features like message grouping, file attachments, context menus, and real-time messaging.\n     *\n     * @extends {Widget<ChatOptions>}\n     */\n    class Chat extends Widget {\n        /** @type {ChatOptions} */\n        static options = {\n            name: \"Chat\",\n            autoBind: true,\n            allowMessageCollapse: false,\n            authorId: null,\n            suggestionsScrollable: false,\n            suggestedActionsScrollable: false,\n            speechToText: true,\n            fileAttachment: true,\n            messageToolbarActions: [],\n            messageActions: [\n                { name: COMMANDS.reply, text: \"Reply\", icon: ICONS.undo },\n                { name: COMMANDS.copy, text: \"Copy\", icon: ICONS.copy },\n                { name: COMMANDS.pin, text: \"Pin\", icon: ICONS.pin },\n                { name: COMMANDS.delete, text: \"Delete\", icon: ICONS.trash }\n            ],\n            fileActions: [\n                { name: COMMANDS.download, text: \"Download\", icon: ICONS.download }\n            ],\n            suggestions: [],\n            headerItems: [],\n            dir: LTR,\n            messageTimeFormat: \"ddd MMM dd yyyy\",\n            width: null,\n            height: null,\n            messages: {\n                messageListLabel: \"Message list\",\n                placeholder: \"Type a message...\",\n                sendButton: \"Send message\",\n                speechToTextButton: \"Toggle speech to text\",\n                fileButton: \"Attach file\",\n                downloadAll: \"Download all\",\n                selfMessageDeleted: \"You removed this message.\",\n                otherMessageDeleted: \"This message was removed by its sender.\",\n                stopGeneration: \"Stop generation\",\n                messageBoxLabel: \"Type your message here\",\n                pinnedMessageCloseButton: \"Unpin message\",\n                replyMessageCloseButton: \"Remove reply\",\n                fileMenuButton: \"File menu\"\n            },\n            messageWidthMode: MESSAGE_WIDTH_MODE.STANDARD,\n            messageTemplate: TEXT_MESSAGE_TEMPLATE,\n            messageGroupTemplate: MESSAGE_GROUP_TEMPLATE,\n            messageReferenceTemplate: MESSAGE_REFERENCE_TEMPLATE,\n            filesTemplate: FILES_TEMPLATE,\n            suggestionsTemplate: SUGGESTIONS_TEMPLATE,\n            suggestedActionsTemplate: SUGGESTIONS_TEMPLATE,\n            timestampTemplate: null,\n            textField: \"text\",\n            authorIdField: \"authorId\",\n            authorNameField: \"authorName\",\n            authorImageUrlField: \"authorImageUrl\",\n            authorImageAltTextField: \"authorImageAltText\",\n            idField: \"id\",\n            timestampField: \"timestamp\",\n            filesField: \"files\",\n            replyToIdField: \"replyToId\",\n            isDeletedField: \"isDeleted\",\n            isPinnedField: \"isPinned\",\n            isTypingField: \"isTyping\",\n            skipSanitization: false\n        };\n\n        /**\n         * Merges user and default context menu actions into the options object for a given property.\n         * User actions override defaults with the same name.\n         * @param {Object} options - User options object\n         * @param {Object} defaultOptions - Default options object\n         * @param {string} property - The property name to merge\n         */\n        static mergeContextMenuActions(options, defaultOptions, property) {\n            const userActions = options[property];\n\n            if (Array.isArray(userActions)) {\n                const defaultActions = defaultOptions[property] || [];\n                const defaultMap = {};\n                for (const action of defaultActions) {\n                    defaultMap[action.name] = { ...action };\n                }\n                options[property] = userActions.map(userAction => {\n                    if (userAction.name in defaultMap) {\n                        return { ...defaultMap[userAction.name], ...userAction };\n                    }\n                    return { ...userAction };\n                });\n            } else {\n                options[property] = defaultOptions[property] || [];\n            }\n        }\n\n        /**\n         * Constructs a new Chat widget instance\n         * @param {jQuery} element - jQuery element to attach the chat to\n         * @param {ChatOptions} options - Chat configuration options\n         * @param {Object} [events] - Event handlers\n         */\n        constructor(element, options, events) {\n            options = options || {};\n            Chat.mergeContextMenuActions(options, Chat.options, \"messageActions\");\n            Chat.mergeContextMenuActions(options, Chat.options, \"fileActions\");\n\n            super(element, extend(true, {}, Chat.options, options));\n\n            this.options.messageActions = options.messageActions;\n            this.options.fileActions = options.fileActions;\n\n            if (events) {\n                this._events = events;\n            }\n\n            this._init(options);\n\n            kendo.notify(this);\n        }\n\n        /**\n         * Gets the list of events supported by the Chat widget\n         * @returns {string[]} Array of event names\n         */\n        get events() {\n            return [\n                EVENTS.sendMessage,\n                EVENTS.suggestionClick,\n                EVENTS.unpin,\n                EVENTS.input,\n                EVENTS.toolbarAction,\n                EVENTS.fileMenuAction,\n                EVENTS.contextMenuAction,\n                EVENTS.download\n            ];\n        }\n\n        _init(options) {\n            this.currentMessageReplyId = null;\n\n            this._hasHeader = !!options.headerItems?.length;\n\n            this._user();\n            this._wrapper();\n            this._dataSource();\n            this._view();\n\n            if (this.options.autoBind) {\n                this.dataSource.fetch();\n            }\n\n            if (options?.toolbar) {\n                logToConsole(\"The 'toolbar' option has been deprecated.\", \"warn\");\n            }\n\n            this._messageBox();\n            this._createMenus();\n            this._attachEvents();\n\n            // Initialize accessibility features\n            setupChatAriaAttributes(this.wrapper, this.options);\n            setupBubbleTabNavigation(this.wrapper);\n\n            this.scrollToBottom();\n        }\n\n        /**\n         * Sets new options for the Chat widget and reinitializes components as needed\n         * @param {ChatOptions} options - New configuration options\n         */\n        setOptions(options) {\n            super.setOptions(options);\n\n            this.destroy();\n\n            this._init(options);\n        }\n\n        /**\n         * Destroys the Chat widget and cleans up all resources\n         */\n        destroy() {\n            if (this.dataSource) {\n                this._unbindDataSource();\n                // Clear data source reference\n                this.dataSource = null;\n            }\n\n            if (this.view) {\n                this.view.unbind();\n                this.view.destroy();\n                this.view = null;\n            }\n\n            if (this.messageBox) {\n                this.messageBox.unbind();\n                this.messageBox.destroy();\n                this.messageBox = null;\n            }\n\n            if (this.messageContextMenu) {\n                this.messageContextMenu.destroy();\n            }\n\n            // Clean up wrapper and element\n            if (this.wrapper) {\n                this.wrapper.off();\n                this.wrapper.empty();\n                this.wrapper = null;\n            }\n\n            super.destroy();\n        }\n\n        /**\n         * Attaches event handlers to chat components\n         */\n        _attachEvents() {\n            const that = this;\n\n            this.view\n                .bind(\"suggestedActionClick\", function(args) {\n                    const message = { text: args.text };\n                    that.trigger(EVENTS.sendMessage, { message });\n                    that.postMessage(message);\n                })\n                .bind(\"messageToolbarExecute\", function(args) {\n                    const message = that.dataItem(args.message);\n                    that.trigger(EVENTS.toolbarAction, { type: args.type, message: message });\n                })\n                .bind(\"fileMenuExecute\", function(args) {\n                    /* v8 ignore next */\n                    that.commandExecute(args);\n                })\n                .bind(\"downloadAllFiles\", function(args) {\n                    const message = that.dataItem(args.messageElement);\n                    that.trigger(EVENTS.download, { files: message.files, message: message });\n                })\n                .bind(\"expandableToggle\", function(args) {\n                    /* v8 ignore next */\n                    updateExpandableIndicatorAria(args.indicator, args.isExpanded);\n                });\n\n            this.messageBox\n                .bind(\"input\", function(args) {\n                    that.trigger(EVENTS.input, { value: args.value });\n                })\n                .bind(\"sendMessage\", function(args) {\n                    const generating = args.generating;\n\n                    if (generating) {\n                        that.trigger(EVENTS.sendMessage, { generating });\n                    } else {\n                        const message = { text: args.text, files: args.files };\n                        that.trigger(EVENTS.sendMessage, { message });\n                        that.postMessage(message);\n\n                        that.clearReplyState();\n                    }\n                })\n                .bind(\"suggestionClick\", function(args) {\n                    that.trigger(EVENTS.suggestionClick, { text: args.text });\n                })\n                .bind(\"fileButtonClick\", function() {\n                    that.messageBox.wrapper.find(`[${REFERENCES.fileUploadInput}]`).trigger(\"click\");\n                })\n                .bind(\"replyMessageCloseButtonClick\", function() {\n                    that.clearReplyState();\n                });\n\n            this.messageContextMenu\n                .bind(\"execute\", this.commandExecute.bind(this))\n                .bind(\"open\", this.messageContextMenuOpen.bind(this));\n\n            this.wrapper.on(CLICK + NS, `[${REFERENCES.pinnedMessageCloseButton}]`, () => {\n                this.trigger(EVENTS.unpin, { message: this._dataManager.getPinnedMessage() });\n                this.clearPinnedMessage();\n            });\n\n            this.wrapper.on(CLICK + NS, `[${REFERENCES.messageReferencePinWrapper}]`, (e) => {\n                if ($(e.target).closest(`[${REFERENCES.pinnedMessageCloseButton}]`).length) {\n                    return;\n                }\n\n                if ($(e.target).is(\"a\")) {\n                    return;\n                } else {\n                    e.preventDefault();\n                    e.stopPropagation();\n                }\n\n                const pinnedMessage = this._dataManager.getPinnedMessage();\n\n                if (pinnedMessage && pinnedMessage.uid) {\n                    this.scrollToMessage(pinnedMessage.uid);\n                }\n            });\n\n            this.wrapper.on(CLICK + NS, `[${REFERENCES.messageReferenceReplyWrapper}]`, (e) => {\n                if ($(e.target).is(\"a\")) {\n                    return;\n                } else {\n                    e.preventDefault();\n                    e.stopPropagation();\n                }\n\n                const messageElement = $(e.currentTarget).closest(DOT + STYLES.message);\n                const currentMessage = this.dataItem(messageElement);\n\n                if (currentMessage && currentMessage.replyToId) {\n                    // Find the original message that is being replied to\n                    const originalMessage = this._dataManager.getMessageById(currentMessage.replyToId);\n\n                    if (originalMessage && originalMessage.uid) {\n                        this.scrollToMessage(originalMessage.uid);\n                    }\n                }\n            });\n\n            this.wrapper.on(KEYDOWN + NS, (e) => {\n                /* v8 ignore next */\n                handleChatKeyDown(e, this.wrapper, this.messageBox);\n            });\n\n            this.wrapper.on(`focus${NS}`, `.${STYLES.bubble}`, (e) => {\n                /* v8 ignore next 14 */\n                const bubbleElement = $(e.target);\n\n                if (bubbleElement.find(`.${STYLES.typingIndicator}`).length > 0) {\n                    return;\n                }\n\n                if (bubbleElement.attr(\"data-keyboard-focus\") === \"true\") {\n                    const messageElement = bubbleElement.closest(`.${STYLES.message}`);\n                    const message = this.dataItem(messageElement);\n\n                    if (message && message.uid) {\n                        this.scrollToMessage(message.uid);\n                    }\n                }\n            });\n        }\n\n        /**\n         * Initializes the data source for the chat\n         */\n        _dataSource() {\n            const that = this;\n            const options = that.options;\n\n            that._refreshHandler = that.refresh.bind(that);\n\n            that._dataManager = new ChatDataManager(options);\n            that.dataSource = that._dataManager.getDataSource();\n\n            that.dataSource.bind(CHANGE, that._refreshHandler);\n        }\n\n        /**\n         * Unbinds event handlers from the data source\n         */\n        _unbindDataSource() {\n            const that = this;\n\n            that.dataSource.unbind(CHANGE, that._refreshHandler);\n            this._dataManager = null;\n        }\n\n        /**\n         * Sets a new data source for the Chat widget\n         * @param {kendo.data.DataSource|Object|Array} dataSource - New data source configuration\n         */\n        setDataSource(dataSource) {\n            const that = this;\n\n            // Unbind current data source\n            if (that.dataSource) {\n                that._unbindDataSource();\n            }\n\n            // Clear current messages from view\n            that.view.clearMessages();\n\n            // Update options with new data source\n            that.options.dataSource = dataSource;\n\n            // Reinitialize data source\n            that._dataSource();\n\n            // Fetch new data if autoBind is enabled\n            if (that.options.autoBind) {\n                that.dataSource.fetch();\n            }\n\n            if (this.view) {\n                this.view._refreshDataManager(that._dataManager);\n            }\n        }\n\n        /**\n         * Initializes the current user ID\n         */\n        _user() {\n            const options = this.options;\n\n            if (options.authorId) {\n                this.options.authorId = options.authorId.toString();\n                return;\n            }\n\n            this.options.authorId = guid();\n        }\n\n        /**\n         * Gets the current user's ID\n         * @returns {string} The current user's ID\n         */\n        getUserId() {\n            return this.options.authorId;\n        }\n\n        /**\n         * Creates the wrapper element for the chat widget\n         */\n        _wrapper() {\n            const options = this.options;\n            const height = options.height;\n            const width = options.width;\n            const headerItems = options.headerItems;\n            const uiElements = \"<div class='\" + STYLES.viewWrapper + \"'></div>\";\n\n            this.wrapper = this.element\n                .addClass(STYLES.wrapper)\n                .attr(\"dir\", options.dir)\n                .append(uiElements);\n\n            if (this._hasHeader) {\n                this.wrapper.prepend(HEADER_TEMPLATE(headerItems));\n            }\n\n            if (height) {\n                this.wrapper.css({\n                    height: height,\n                    minHeight: height\n                });\n            }\n\n            if (width) {\n                this.wrapper.css({\n                    width: width,\n                    minWidth: width\n                });\n            }\n        }\n\n        /**\n         * Creates the chat view component\n         */\n        _view() {\n            const options = extend(true, {}, this.options, {\n                dataManager: this._dataManager\n            });\n\n            const element = this.wrapper.find(DOT + STYLES.viewWrapper + \"\");\n\n            this.view = new ChatView(element, options);\n        }\n\n        /**\n         * Creates the message box component\n         */\n        _messageBox() {\n            const options = extend(true, {}, this.options, {\n                chatElement: this.wrapper\n            });\n\n            this.messageBox = new MessageBox($(\"<textarea></textarea>\"), options);\n        }\n\n        /**\n         * Creates the context menu components\n         */\n        _createMenus() {\n            const options = this.options;\n            const messageActions = options.messageActions;\n\n            this.messageContextMenu = new ChatMessageMenu($(\"<ul></ul>\"), { dataSource: messageActions });\n        }\n\n        /**\n         * Executes a command from context menus or toolbar actions\n         * @param {Object} e - Event arguments containing command details\n         * @param {string} e.type - Command type (reply, copy, pin, delete, etc.)\n         * @param {jQuery} e.message - Message element\n         * @param {jQuery} [e.file] - File element for file-specific commands\n         */\n        commandExecute(e) {\n            const message = this.dataItem(e.message);\n            const file = this.fileDataItem(message, e.file);\n            const type = e.type;\n\n            if (!file) {\n                switch (type) {\n                    case COMMANDS.reply:\n                        this.messageReply(message);\n                        break;\n                    case COMMANDS.copy:\n                        this.messageCopy(message);\n                        break;\n                    case COMMANDS.pin:\n                        this.messagePin(message);\n                        break;\n                    case COMMANDS.delete:\n                        this.messageDelete(message);\n                        break;\n                }\n                this.trigger(EVENTS.contextMenuAction, { type, message });\n            } else {\n                switch (type) { // NOSONAR\n                    case COMMANDS.download:\n                        this.trigger(EVENTS.download, { files: [file], message });\n                        break;\n                }\n                this.trigger(EVENTS.fileMenuAction, { type, file, message });\n            }\n        }\n\n        /**\n         * Sets up reply state for a message\n         * @param {Message} message - Message to reply to\n         */\n        messageReply(message) {\n            const isOwnMessage = message.authorId === this.getUserId();\n            this.currentMessageReplyId = message.id;\n            this.messageBox.setReplyMessage(message, isOwnMessage);\n            setReplyMessageAriaAttributes(this.wrapper, this.options);\n        }\n\n        /**\n         * Copies message text to clipboard\n         * @param {Message} message - Message to copy\n         */\n        messageCopy(message) {\n            if (navigator && navigator.clipboard) {\n                navigator.clipboard.writeText(message.text);\n            }\n        }\n\n        /**\n         * Pins a message to the top of the chat\n         * @param {Message} message - Message to pin\n         */\n        messagePin(message) {\n            this._dataManager.pinMessage(message);\n        }\n\n        /**\n         * Marks a message as deleted\n         * @param {Message} message - Message to delete\n         */\n        messageDelete(message) {\n            this.removeMessage(message);\n        }\n\n        messageContextMenuOpen(e) {\n            const message = this.dataItem(e.message);\n\n            if (!message) {\n                return;\n            }\n\n            const isAuthor = message.authorId === this.getUserId();\n\n            this.messageContextMenu.toggleDeleteVisibility(isAuthor);\n        }\n\n        /**\n         * Gets the data item (Message) associated with a jQuery message element\n         * @param {jQuery} message - Message element\n         * @returns {Message} - Message object\n         */\n        dataItem(message) {\n            return this.view.dataItem(message);\n        }\n\n        /**\n         * Gets the file data item associated with a jQuery file element\n         * @param {Message} message - Message containing the file\n         * @param {jQuery} file - File element\n         * @returns {ChatFile} - File object\n         */\n        fileDataItem(message, file) {\n            return this.view.fileDataItem(message, file);\n        }\n\n        /**\n         * Clears all messages from the view only (does not affect data source)\n         */\n        clearMessages() {\n            this.view.clearMessages();\n        }\n\n        /**\n         * Posts a new message to the chat and renders it.\n         * @param {string|Message} message - Message text or message object\n         */\n        postMessage(message) {\n            if (this.currentMessageReplyId) {\n                message.replyToId = this.currentMessageReplyId;\n            }\n\n            const messageData = this._dataManager.postMessage(message, this.getUserId());\n\n            return messageData;\n        }\n\n        /**\n         * Removes a message from the chat (marks as deleted)\n         * @param {Message} message - Message to remove\n         * @returns {boolean} - Success status\n         */\n        removeMessage(message) {\n            const success = this._dataManager.removeMessage(message);\n\n            return success;\n        }\n\n        /**\n         * Updates an existing message with new data\n         * @param {Message} message - Message to update\n         * @param {Object} newData - New data to apply to the message\n         * @returns {Message} - Updated message object\n         */\n        updateMessage(message, newData) {\n            const messageData = this._dataManager.updateMessage(message, newData);\n\n            return messageData;\n        }\n\n        /**\n         * Gets a message by its UID\n         * @param {string} uid - Message UID\n         * @returns {Message|null} - Message object or null if not found\n         */\n        getMessageByUid(uid) {\n            return this._dataManager.getMessageByUid(uid);\n        }\n\n\n        /**\n         * Renders a message in the chat view\n         * @param {Message} message - Message to render\n         */\n        renderMessage(message) {\n            this.view.renderMessage(message);\n\n            // Update bubble tabindex navigation after rendering new message\n            setupBubbleTabNavigation(this.wrapper);\n        }\n\n        /**\n         * Render a pinned message in the chat view\n         * @param {Message} message - Message to render as pinned\n         */\n        renderPinnedMessage(message) {\n            const isOwnMessage = message.authorId === this.getUserId();\n            const pinnedMessageElement = $(this.options.messageReferenceTemplate({\n                text: message.text,\n                files: message.files,\n                isDeleted: message.isDeleted,\n                isOwnMessage: isOwnMessage,\n                messages: this.options.messages,\n                isPinMessage: true,\n                renderCloseButton: true,\n                renderFileMenuButton: false\n            }));\n\n            // Remove any existing pinned messages\n            this.wrapper.find(`[${REFERENCES.messageReferencePinWrapper}]`).remove();\n\n            if (this._hasHeader) {\n                pinnedMessageElement.insertAfter(this.wrapper.find(DOT + STYLES.header));\n            } else {\n                this.wrapper.prepend(pinnedMessageElement);\n            }\n\n            this.view._initFileMenus(pinnedMessageElement);\n        }\n\n        /**\n         * Clears the currently pinned message\n         */\n        clearPinnedMessage() {\n            this._dataManager.clearPinnedMessage();\n            this.wrapper.find(DOT + STYLES.messagePinned).remove();\n        }\n\n        /**\n         * Clears the current reply state\n         */\n        clearReplyState() {\n            this.messageBox.removeReplyMessage();\n            this.currentMessageReplyId = null;\n        }\n\n        /**\n         * Scrolls the chat view to the bottom\n         */\n        scrollToBottom() {\n            this.view.scrollToBottom();\n        }\n\n        /**\n         * Scrolls to a specific message by its UID\n         * @param {string} uid - The UID of the message to scroll to\n         * @returns {boolean} True if message was found and scrolled to, false otherwise\n         */\n        scrollToMessage(uid) {\n            return this.view.scrollToMessage(uid);\n        }\n\n        /**\n         * Toggles the send button generating state (shows loading indicator)\n         * @param {boolean} generating - Whether to show generating state\n         */\n        toggleSendButtonGenerating(generating) {\n            this.messageBox.toggleSendButtonGenerating(generating);\n        }\n\n        /**\n         * Refreshes the chat view when data source changes\n         * @param {Object} e - Data source change event arguments\n         * @param {string} [e.action] - Type of change action\n         * @param {Array} [e.changedItems] - Items that were changed\n         */\n        refresh(e) {\n            const that = this;\n            const data = that.dataSource.view();\n            const pinnedMessage = data.find((item) => item.isPinned);\n            const changedItems = e.changedItems || [];\n\n            if (!e || !e.action) {\n                data.forEach((item) => {\n                    that.renderMessage(item);\n                });\n                that.scrollToBottom();\n            }\n\n            if (pinnedMessage) {\n                that.renderPinnedMessage(pinnedMessage);\n            }\n\n            if (e.action === \"sync\") {\n                // If a message is modified(deleted/edited), re-render that particular message.\n                // If this is a brand new message, render the last message in the data source.\n                const message = changedItems.length ? changedItems[0] : data[data.length - 1];\n                that.renderMessage(message);\n\n                if (!changedItems.length) {\n                    that.scrollToBottom();\n                }\n            }\n\n            that.view.renderSuggestedActions();\n\n            // Refresh accessibility attributes when content changes\n            setupChatAriaAttributes(that.wrapper, that.options);\n\n            // Refresh bubble tabindex navigation\n            setupBubbleTabNavigation(that.wrapper);\n        }\n    }\n\n    // Keep the chat namespace for a couple releases for backwards compatibility.\n    kendo.chat = {};\n    extend(kendo.chat, {\n        ChatView: {},\n        Component: {},\n        Components: {},\n        Templates: {},\n        getTemplate: () => logToConsole(\"The getTemplate method is deprecated. Use one of the built-in templates or append elements manually.\", \"warn\"),\n        getComponent: () => logToConsole(\"The getComponent method is deprecated. Use one of the built-in templates or append elements manually.\", \"warn\"),\n        registerTemplate: () => logToConsole(\"The registerTemplate method is deprecated. Use one of the built-in templates or append elements manually.\", \"warn\"),\n        registerComponent: () => logToConsole(\"The registerComponent method is deprecated. Use one of the built-in templates or append elements manually.\", \"warn\")\n    });\n\n    plugin(Chat);\n\n    var kendo$1 = kendo;\n\n    exports.Chat = Chat;\n    exports.__meta__ = __meta__;\n    exports.default = kendo$1;\n\n    Object.defineProperty(exports, '__esModule', { value: true });\n\n}));\n"]}