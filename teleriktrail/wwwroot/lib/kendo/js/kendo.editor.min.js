/**
 * Kendo UI v2025.3.1002 (http://www.telerik.com/kendo-ui)
 * Copyright 2025 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Kendo UI commercial licenses may be obtained at
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete
 * If you do not own a commercial license, this file shall be governed by the trial license terms.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("kendo.combobox.js"),require("kendo.dropdownlist.js"),require("kendo.resizable.js"),require("kendo.window.js"),require("kendo.colorpicker.js"),require("kendo.imagebrowser.js"),require("kendo.numerictextbox.js"),require("kendo.textarea.js"),require("kendo.core.js"),require("kendo.aiprompt.js"),require("kendo.buttongroup.js"),require("kendo.toolbar.js"),require("kendo.icons.js"),require("kendo.splitter.js"),require("kendo.html.input.js"),require("kendo.html.icon.js"),require("kendo.inlineaiprompt.js"),require("kendo.form.js"),require("kendo.filebrowser.js"),require("kendo.draganddrop.js"),require("kendo.html.button.js"),require("kendo.tabstrip.js")):"function"==typeof define&&define.amd?define(["exports","kendo.combobox.min","kendo.dropdownlist.min","kendo.resizable.min","kendo.window.min","kendo.colorpicker.min","kendo.imagebrowser.min","kendo.numerictextbox.min","kendo.textarea.min","kendo.core.min","kendo.aiprompt.min","kendo.buttongroup.min","kendo.toolbar.min","kendo.icons.min","kendo.splitter.min","kendo.html.input.min","kendo.html.icon.min","kendo.inlineaiprompt.min","kendo.form.min","kendo.filebrowser.min","kendo.draganddrop.min","kendo.html.button.min","kendo.tabstrip.min"],t):t(((e="undefined"!=typeof globalThis?globalThis:e||self).kendo=e.kendo||{},e.kendo._globals=e.kendo._globals||{},e.kendo._globals.Editor={}))}(this,(function(e){var t,n,i,r,o,a,s,l,d,c;!function(e){var t=e.Observable.extend({init:function(t){e.Observable.fn.init.call(this,t),this.clear()},events:["undo","redo"],push:function(e){this.stack=this.stack.slice(0,this.currentCommandIndex+1),this.currentCommandIndex=this.stack.push(e)-1},undo:function(){if(this.canUndo()){var e=this.stack[this.currentCommandIndex--];e.undo(),this.trigger("undo",{command:e})}},redo:function(){if(this.canRedo()){var e=this.stack[++this.currentCommandIndex];e.redo(),this.trigger("redo",{command:e})}},clear:function(){this.stack=[],this.currentCommandIndex=-1},canUndo:function(){return this.currentCommandIndex>=0},canRedo:function(){return this.currentCommandIndex!=this.stack.length-1}});e.deepExtend(e,{util:{UndoRedoStack:t}})}(kendo),function(e,t){var n=window.kendo,i=n.Class,r=n.ui.Widget,o=n.support.mobileOS,a=n.support.browser,s=e.extend,l=n.deepExtend,d=n.keys,c=n._outerWidth,u=n._outerHeight;const p="formatting-marks-style",f="formatting-marks-overlay",m="formatting-marks-overlay-wrapper";var h="select";var g="k-placeholder";var v="placeholder";var b=["insertLineBreak","insertParagraph","redo","undo","autoLink"];var y={editorWrapperTemplate:()=>'<div class="k-editor"><div class="k-editor-toolbar" role="toolbar"></div><div class="k-editable-area k-editor-content"></div></div>',formatByName:function(t,n){for(var i=0;i<n.length;i++)if(e.inArray(t,n[i].tags)>=0)return n[i]},getToolCssClass:function(e,t){var n={superscript:"supscript",subscript:"subscript",justifyLeft:"align-left",justifyCenter:"align-center",justifyRight:"align-right",justifyFull:"align-justify",insertUnorderedList:"list-unordered",insertOrderedList:"list-ordered",insertUpperRomanList:"list-roman-upper",insertLowerRomanList:"list-roman-lower",import:"import",indent:"indent",outdent:"outdent",createLink:"link",unlink:"unlink",insertImage:"image",insertFile:"file-add",viewHtml:"code",foreColor:"foreground-color",backColor:"droplet",createTable:"table-add",addColumnLeft:"table-column-insert-left",addColumnRight:"table-column-insert-right",addRowAbove:"table-row-insert-above",addRowBelow:"table-row-insert-below",deleteRow:"table-row-delete",deleteColumn:"table-column-delete",mergeCellsHorizontally:"cells-merge-horizontally",mergeCellsVertically:"cells-merge-vertically",splitCellHorizontally:"cell-split-horizontally",splitCellVertically:"cell-split-vertically",tableProperties:"table-properties",tableCellProperties:"table-cell-properties",tableWizardInsert:"table-wizard",tableAlignLeft:"table-position-start",tableAlignCenter:"table-position-center",tableAlignRight:"table-position-end",cleanFormatting:"clear-css",copyFormat:"copy-format",applyFormat:"apply-format",pdf:"file-pdf"}[e];return n||(t||y.nameToKebab(e))},nameToKebab:function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase()},registerTool:function(e,t){t.name||(t.options.name=e,t.name=e.toLowerCase()),t.options.ui||(t.options.ui={}),t.options.ui.command=e,k.defaultTools[e]=t},registerFormat:function(e,t){k.fn.options.formats[e]=t},cacheComments:function(e,t){for(var n in t)e=e.replace(t[n],"{"+n+"}");return e},retrieveComments:function(e,t){for(var n in t)e=e.replace("{"+n+"}",t[n]);return e}};var w=void 0!==document.documentElement.contentEditable;var C={basic:["bold","italic","underline","strikethrough"],undo:["undo","redo"],scripts:["subscript","superscript"],alignment:["justifyLeft","justifyCenter","justifyRight","justifyFull"],lines:["lineHeight"],symbols:["formattingMarks"],links:["insertImage","insertFile","createLink","unlink"],lists:["insertUnorderedList","insertOrderedList","insertUpperRomanList","insertLowerRomanList"],dent:["indent","outdent"],tablesWizard:["tableProperties","tableCellProperties"],tablesInsert:["createTable"],tablesAddDelete:["addColumnLeft","addColumnRight","addRowAbove","addRowBelow","deleteRow","deleteColumn"],tablesMerge:["mergeCellsHorizontally","mergeCellsVertically","splitCellHorizontally","splitCellVertically"],tablesPosition:["tableAlignLeft","tableAlignCenter","tableAlignRight"],formatPainter:["copyFormat","applyFormat"]};var k=r.extend({__suppressEditableCheck:!1,init:function(e,i){var o,a,s,d=this,c=n.ui.editor,u=c.Dom;(w||d.__suppressEditableCheck)&&(r.fn.init.call(d,e,i),d.options=l({},d.options,i),s=(e=d.element)[0],a=u.name(s),this._registerHandler(e.closest("form"),"submit",d.update.bind(d,t)),d._isAiPromptEnabled()&&d._addAIPromptElements(),o=d._setupType(e),d._initToolbar(o),d._setupHeight(a),d._resizable(),d._initializeContentElement(d),d._setupKeyboard(),d.clipboard=new c.Clipboard(this),d.undoRedoStack=new n.util.UndoRedoStack,d._populateValue(i,s),d._registerHandler(document,{mousedown:function(){d._endTyping()},mouseup:function(e){d._mouseup(e)}}),d._registerHandler(window,"resize",d._handleSpaceAndNewLines.bind(d)),d._initializeImmutables(),"textarea"==a&&d._ariaLabel(d.wrapper.find("iframe")),d.toolbar.resize(),d._initInlineOverflowWrapper(),n.notify(d),d._showWatermarkOverlay&&d._showWatermarkOverlay(d.wrapper&&d.wrapper[0]||d.element[0]),d._isAiPromptEnabled()&&d._initAIPrompt(),d._isInlineAIPromptEnabled()&&d._initInlineAIPrompt())},events:["select","change","execute","error","paste","keydown","keyup"],options:{name:"Editor",messages:{auto:"Auto",bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",superscript:"Superscript",subscript:"Subscript",fitToCell:"Fit to cell",justifyCenter:"Center text",justifyLeft:"Align text left",justifyRight:"Align text right",justifyFull:"Justify",insertUnorderedList:"Insert unordered list",insertOrderedList:"Insert ordered list",lineHeight:"Set line height",formattingMarks:"Toggle formatting marks",indent:"Indent",outdent:"Outdent",createLink:"Insert hyperlink",unlink:"Remove hyperlink",insertImage:"Insert image",insertFile:"Insert file",insertHtml:"Insert HTML",viewHtml:"View HTML",fontName:"Select font family",fontNameInherit:"(inherited font)",fontSize:"Select font size",fontSizeInherit:"(inherited size)",formatBlock:"Format",formatting:"Format",foreColor:"Color",backColor:"Background color",style:"Styles",emptyFolder:"Empty Folder",editAreaTitle:"Editable area. Press F10 for toolbar.",uploadFile:"Upload",overflowAnchor:"More tools",orderBy:"Arrange by:",orderBySize:"Size",orderByName:"Name",invalidFileType:"The selected file {0} is not valid. Supported file types are {1}.",deleteFile:"Are you sure you want to delete {0}?",overwriteFile:"A file with name {0} already exists in the current directory. Do you want to overwrite it?",directoryNotFound:"A directory with this name was not found.",imageWebAddress:"Web address",imageAltText:"Alternate text",imageWidth:"Width (px)",imageHeight:"Height (px)",fileWebAddress:"Web address",fileTitle:"Title",fileText:"Text",linkWebAddress:"Web address",linkText:"Text",linkToolTip:"ToolTip",linkOpenInNewWindow:"Open link in new window",dialogUpdate:"Update",dialogInsert:"Insert",dialogOk:"Confirm",dialogCancel:"Cancel",cleanFormatting:"Clean formatting",createTable:"Create a table",createTableHint:"Create a {0} x {1} table",addColumnLeft:"Add column on the left",addColumnRight:"Add column on the right",addRowAbove:"Add row above",addRowBelow:"Add row below",deleteRow:"Delete row",deleteColumn:"Delete column",mergeCellsHorizontally:"Merge cells horizontally",mergeCellsVertically:"Merge cells vertically",splitCellHorizontally:"Split cells horizontally",splitCellVertically:"Split cells vertically",tableAlignLeft:"Table Align Left",tableAlignCenter:"Table Align Center",tableAlignRight:"Table Align Right",tableWizard:"Table Wizard",tableProperties:"Table Properties",tableCellProperties:"Cell Properties",tableTab:"General",cellTab:"Cell",accessibilityTab:"Advanced",caption:"Caption",summary:"Summary",width:"Width",height:"Height",units:"Units",cellSpacing:"Cell Spacing",cellPadding:"Cell Padding",topPadding:"Top",leftPadding:"Left",bottomPadding:"Bottom",rightPadding:"Right",independentCellPaddings:"Independent Cell Paddings",cellMargin:"Cell Margin",alignment:"Alignment",captionAlignment:"Caption alignment",position:"Position",background:"Background",tableBackground:"Table background",cssClass:"CSS Class",id:"ID",border:"Border",borderStyle:"Border Style",borderWidth:"Border Width",borderColor:"Border Color",collapseBorders:"Collapse borders",wrapText:"Wrap text",associateCellsWithHeaders:"Associate headers",alignLeft:"Align Left",alignCenter:"Align Center",alignRight:"Align Right",alignLeftTop:"Align Left Top",alignCenterTop:"Align Center Top",alignRightTop:"Align Right Top",alignLeftMiddle:"Align Left Middle",alignCenterMiddle:"Align Center Middle",alignRightMiddle:"Align Right Middle",alignLeftBottom:"Align Left Bottom",alignCenterBottom:"Align Center Bottom",alignRightBottom:"Align Right Bottom",alignRemove:"Remove Alignment",columns:"Columns",rows:"Rows",selectAllCells:"Apply to all cells",applyToColumn:"apply to column",applyToRow:"apply to row",exportAs:"Export As",import:"Import",print:"Print",headerRows:"Header Rows",headerColumns:"Header Cols",tableSummaryPlaceholder:"Summary attribute is not HTML5 compatible.",associateNone:"None",associateScope:"Associate using 'scope' attribute",associateIds:"Associate using Ids",copyFormat:"Copy format",applyFormat:"Apply format",borderNone:"None",undo:"Undo",redo:"Redo"},placeholder:"",nonce:"",unsafeInline:!0,formats:{},encoded:!0,formattingMarksRefreshDelay:250,domain:null,resizable:!1,deserialization:{custom:null},serialization:{entities:!0,semantic:!0,scripts:!1,optimizeTags:!1,keepEOL:!1},pasteCleanup:{all:!1,css:!1,custom:null,keepNewLines:!1,msAllFormatting:!1,msConvertLists:!0,msTags:!0,none:!1,span:!1},stylesheets:[],dialogOptions:{modal:!0,resizable:!1,draggable:!0,animation:!1},imageBrowser:null,fileBrowser:null,navigateOnTab:!1,fontName:[{text:"Arial",value:"Arial, Helvetica, sans-serif"},{text:"Courier New",value:'"Courier New", Courier, monospace'},{text:"Georgia",value:"Georgia, serif"},{text:"Impact",value:"Impact, Charcoal, sans-serif"},{text:"Lucida Console",value:'"Lucida Console", Monaco, monospace'},{text:"Tahoma",value:"Tahoma, Geneva, sans-serif"},{text:"Times New Roman",value:'"Times New Roman", Times, serif'},{text:"Trebuchet MS",value:'"Trebuchet MS", Helvetica, sans-serif'},{text:"Verdana",value:"Verdana, Geneva, sans-serif"}],fontSize:[{text:"1 (8pt)",value:"xx-small"},{text:"2 (10pt)",value:"x-small"},{text:"3 (12pt)",value:"small"},{text:"4 (14pt)",value:"medium"},{text:"5 (18pt)",value:"large"},{text:"6 (24pt)",value:"x-large"},{text:"7 (36pt)",value:"xx-large"}],formatBlock:[{text:"Paragraph",value:"p"},{text:"Quotation",value:"blockquote"},{text:"Heading 1",value:"h1"},{text:"Heading 2",value:"h2"},{text:"Heading 3",value:"h3"},{text:"Heading 4",value:"h4"},{text:"Heading 5",value:"h5"},{text:"Heading 6",value:"h6"}],tools:["formatting","bold","italic","underline","undo","redo","justifyLeft","justifyCenter","justifyRight","copyFormat","applyFormat","insertUnorderedList","insertOrderedList","indent","outdent","createLink","unlink","insertImage","tableProperties","tableCellProperties","createTable","addRowAbove","addRowBelow","addColumnLeft","addColumnRight","deleteRow","deleteColumn","mergeCellsHorizontally","mergeCellsVertically","splitCellHorizontally","splitCellVertically","tableAlignLeft","tableAlignCenter","tableAlignRight"],ai:!1},destroy:function(){var e=this;r.fn.destroy.call(this),this._endTyping(!0),this._deregisterHandlers(),clearTimeout(this._spellCorrectTimeout),this._focusOutside(),this.toolbar.destroy(),this.windowInstance&&this.windowInstance.destroy(),this.tablePopup&&this.tablePopup.destroy(),e._destroyUploadWidget(),this.interSectionObserver&&(this.interSectionObserver.disconnect(),this.interSectionObserver=null),this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null,this.wrapper.css("min-height",""),this.wrapper.css("max-height","")),e._destroyResizings(),e._destroyFormattingMarksOverlay(),n.destroy(this.wrapper)},setOptions:function(e){r.fn.setOptions.call(this,e),e.tools&&this._setOptionsTools(e.tools),this._initializePlaceholder()},createRange:function(e){return n.ui.editor.RangeUtils.createRange(e||this.document)},encodedValue:function(){return n.ui.editor.Dom.encode(this.value())},exec:function(e,t){var i=this;var r=null;var o=n.ui.Editor.defaultTools;var a,l;if(!e)throw new Error("kendoEditor.exec(): `name` parameter cannot be empty");if("true"!==i.body.getAttribute("contenteditable")&&"print"!==e&&"pdf"!==e&&"exportAs"!==e)return!1;if(i.keyboard.isTypingInProgress()||(i._focusBody(),i.selectRange(i._range||i.getRange())),(l=i.tools[e]||o[e])||Object.keys(o).map((t=>{t.toLowerCase()===e&&(l=o[t])})),l){if(a=i.getRange(),l.command&&(r=l.command(s({range:a,body:i.body,immutables:!!i.immutables},t))),i.trigger("execute",{name:e,command:r}))return;if(/^(undo|redo)$/i.test(e))i.undoRedoStack[e]();else if(r&&(i.execCommand(r),r.async))return void(r.change=i._commandChange.bind(i));"formattingMarks"!==e&&i._handleSpaceAndNewLines(),i._selectionChange()}},_commandChange:function(){this._selectionChange(),this._handleSpaceAndNewLines()},execCommand:function(e){e.managesUndoRedo||this.undoRedoStack.push(e),e.editor=this,e.exec()},focus:function(){this.restoreSelection()},getRange:function(){var e=this.getSelection(),t=e&&e.rangeCount>0?e.getRangeAt(0):this.createRange(),n=this.document;return t.startContainer!=n||t.endContainer!=n||t.startOffset||t.endOffset||(t.setStart(this.body,0),t.collapse(!0)),t},getSelection:function(){return n.ui.editor.SelectionUtils.selectionFromDocument(this.document)},paste:function(t,i){this.focus();var r=new n.ui.editor.InsertHtmlCommand(e.extend({range:this.getRange(),html:t},i));r.editor=this,r.exec()},insertAfterSelection:function(t,i){this.focus();const r=this.getRange();r.collapse(!1);var o=new n.ui.editor.InsertHtmlCommand(e.extend({range:r,html:t},i));o.editor=this,o.exec()},refresh:function(){var e=this;if(e.textarea){e._destroyResizings();var t=e.value();e.textarea.val(t),e.wrapper.find("iframe").remove(),e._initializeContentElement(e),e.value(t)}},restoreSelection:function(){this._focusBody(),this.selectionRestorePoint&&this.selectRange(this.selectionRestorePoint.toRange())},saveSelection:function(t){var i=(t=t||this.getRange()).commonAncestorContainer,r=this.body;(i==r||e.contains(r,i))&&(this.selectionRestorePoint=new n.ui.editor.RestorePoint(t,r))},selectedHtml:function(){return n.ui.editor.Serializer.domToXhtml(this.getRange().cloneContents())},selectRange:function(e){this._focusBody();var t=this.getSelection();t.removeAllRanges(),t.addRange(e),this.saveSelection(e)},state:function(e){var t=n.ui.Editor.defaultTools[e];var i=t&&(t.options.finder||t.finder);var r=n.ui.editor.RangeUtils;var o,a;return!!i&&(o=this.getRange(),!(a=r.textNodes(o)).length&&o.collapsed&&(a=[o.startContainer]),i.getFormat?i.getFormat(a):i.isFormatted(a))},update:function(e){e=e||this.options.encoded?this.encodedValue():this.value(),this.textarea?(this.textarea.val(e),this._togglePlaceholder(!e.trim())):this._oldValue=e},value:function(e){var i=this.body,r=n.ui.editor,o=this.options,a=r.Serializer.domToXhtml(i,o.serialization);if(e===t)return a;e!=a&&(r.Serializer.htmlToDom(e,i,o.deserialization),this.selectionRestorePoint=null,this.update(),this._refreshTools())},_bindTools:function(){var t=this,n=this.tools;t.unbind("select",t.toolbar.resize.bind(t.toolbar)),t.toolbar.element.find("[data-command]").filter(((t,n)=>0===e(n).find("[data-command]").length)).each(((i,r)=>{var o=r.getAttribute("data-command"),a=n[o];a&&a.initialize&&a.initialize(e(r),t)})),t.bind("select",t.toolbar.resize.bind(t.toolbar))},_blur:function(){var e=this.textarea;var t=e?e.val():this._oldValue;var n=this.options.encoded?this.encodedValue():this.value();this.update(),e&&e.trigger("blur"),n!=t&&(this.trigger("change"),e&&e.trigger("change"))},_containsRange:function(e){var t=n.ui.editor.Dom;var i=this.body;return e&&t.isAncestorOrSelf(i,e.startContainer)&&t.isAncestorOrSelf(i,e.endContainer)},_createContentElement:function(t){var i=this;var r,s,l;var d=i.textarea;var c=i.options.domain;var u=c||document.domain;var p="";var f='javascript:""';var m;d.hide(),r=e("<iframe />",{title:i.options.messages.editAreaTitle,frameBorder:"0"})[0],e(r).css("display","").addClass("k-content k-iframe").attr("tabindex",d[0].tabIndex).insertBefore(d),(c||u!=location.hostname)&&(f="javascript:document.write('"+(p=`<script ${i.options.nonce?`nonce="${i.options.nonce}"`:""}>document.domain="${u}"<\/script>`)+"')",r.src=f),r.src||(r.src=""),s=r.contentWindow||r,l=s.document||r.contentDocument;const h=i.interSectionObserver=new IntersectionObserver((e=>{for(const t of e)t.isIntersecting&&(i._decorateFormatting(l.body),h.unobserve(r))}));return h.observe(r),m=document.getElementsByTagName("html")[0].getAttribute("lang")||"en",l.open(),l.write("<!DOCTYPE html><html lang='"+m+"'><head><meta charset='utf-8' /><title>Kendo UI Editor content</title>"+`<style ${i.options.nonce?`nonce="${i.options.nonce}"`:""}>html{padding:0;margin:0;height:100%;min-height:100%;cursor:text;}body{padding:0;margin:0;}body{box-sizing:border-box;font-size:12px;font-family:Verdana,Geneva,sans-serif;margin-top:-1px;padding:5px .4em 0;word-wrap: break-word;-webkit-nbsp-mode: space;-webkit-line-break: after-white-space;`+(n.support.isRtl(d)?"direction:rtl;":"")+(o.ios?"word-break:keep-all;":"")+(a.edge||a.chrome?"height:100%;":"")+"}h1{font-size:2em;margin:.67em 0}h2{font-size:1.5em}h3{font-size:1.16em}h4{font-size:1em}h5{font-size:.83em}h6{font-size:.7em}p{margin:0 0 1em;}.k-marker{display:none;}.k-paste-container,.Apple-style-span{position:absolute;left:-10000px;width:1px;height:1px;overflow:hidden}ul,ol{padding-left:2.5em}span{-ms-high-contrast-adjust:none;}a{color:#00a}code{font-size:1.23em}telerik\\3Ascript{display: none;}.k-table{width:100%;border-spacing:0;margin: 0 0 1em;}.k-table td{min-width:1px;padding:.2em .3em;}.k-table,.k-table td{outline:0;border: 1px dotted #ccc;}.k-table th{outline:0;border: 1px dotted #999;}.k-table p{margin:0;padding:0;}.k-column-resize-handle-wrapper {position: absolute; height: 10px; width:10px; cursor: col-resize; z-index: 2;}.k-column-resize-handle {width: 100%; height: 100%;}.k-column-resize-handle > .k-column-resize-marker {width:2px; height:100%; margin:0 auto; background-color:#00b0ff; display:none; opacity:0.8;}.k-row-resize-handle-wrapper {position: absolute; cursor: row-resize; z-index:2; width: 10px; height: 10px;}.k-row-resize-handle {display: table; width: 100%; height: 100%;}.k-row-resize-marker-wrapper{display: table-cell; height:100%; width:100%; margin:0; padding:0; vertical-align: middle;}.k-row-resize-marker{margin: 0; padding:0; width:100%; height:2px; background-color: #00b0ff; opacity:0.8; display:none;}.k-element-resize-handle-wrapper {position: absolute; background-color: #fff; border: 1px solid #000; z-index: 100; width: 5px; height: 5px;}.k-element-resize-handle {width: 100%; height: 100%;}.k-element-resize-handle.k-resize-east{cursor:e-resize;}.k-element-resize-handle.k-resize-north{cursor:n-resize;}.k-element-resize-handle.k-resize-northeast{cursor:ne-resize;}.k-element-resize-handle.k-resize-northwest{cursor:nw-resize;}.k-element-resize-handle.k-resize-south{cursor:s-resize;}.k-element-resize-handle.k-resize-southeast{cursor:se-resize;}.k-element-resize-handle.k-resize-southwest{cursor:sw-resize;}.k-element-resize-handle.k-resize-west{cursor:w-resize;}.k-table.k-element-resizing{opacity:0.6;}.k-placeholder{color:grey}k\\:script{display:none;}</style>"+p+e.map(t,(function(e){return`<link rel='stylesheet' href='${e}' ${i.options.nonce?`nonce="${i.options.nonce}"`:""}>`})).join("")+`</head><body id='${i.element.attr("id")}' autocorrect='off' contenteditable='true'></body></html>`),l.close(),s},_deleteSavedRange:function(){"_range"in this&&delete this._range},_decorateFormatting:function(t){var i,r,o,a,s,l,d,c=this.toolbar.element.find("input[data-command=formatting]"),u=n.ui.editor.Dom;if(c.length){if(!(i=c.getKendoDropDownList()))return;if(o=(r=i.dataSource).data(),t&&i.list.css("background-color",u.getEffectiveBackground(e(t))),!1!==this.options.unsafeInline)for(a=0;a<o.length;a++)s=o[a].tag||"span",l=o[a].className,d=(d=u.inlineStyle(t,s,{className:l})).replace(/"/g,"'"),o[a].style=d+";display:inline-block";r.trigger("change")}},_appendFormattingMarksStyles:function(){const t=this,n=t.element.attr("id");let i,r;i=`<style id='${p+"-"+n}' ${t.options.nonce?`nonce="${t.options.nonce}"`:""} >\n                #${n} p::after,\n                #${n} li::after,\n                #${n} h1::after,\n                #${n} h2::after,\n                #${n} h3::after,\n                #${n} h4::after,\n                #${n} h5::after,\n                #${n} h6::after {content: '\\00B6'; color: #6098f2;}\n                #${m+"-"+n} {\n                    position: absolute;\n                    top: 0;\n                    left: 0;\n                    width: 100%;\n                    z-index: 9999;\n                    pointer-events: none;\n                }\n                #${f+"-"+n} {\n                    width: 100%;\n                    height: 100%;\n                  }\n            </style>`,r=e(t.document.head),r.find("#"+p+"-"+n).remove(),r.append(i)},_appendFormattingMarksOverlay:function(){const t=this,n=t.element.attr("id");t._formattingMarksOverlayWrapper=e(`<div id='${m+"-"+n}'></div>`),t._formattingMarksOverlay=e(`<svg id='${f+"-"+n}'></svg>`).appendTo(t._formattingMarksOverlayWrapper),t._bodyTopBottomPaddings=parseFloat(e(t.body).css("padding-top"))+parseFloat(e(t.body).css("padding-bottom")),t._isInlineEditor()?t._formattingMarksOverlayWrapper.insertAfter(t.element):t._formattingMarksOverlayWrapper.appendTo(e(t.document).find("html"))},_destroyFormattingMarksOverlay:function(){const t=this,n=t.element.attr("id");e(t.document).find("#"+m+"-"+n).remove(),e(t.document.head).find("#"+p+"-"+n).remove()},_updateFormattingMarksOverlayHeight:function(){const t=this;t._isInlineEditor()?t._formattingMarksOverlayWrapper.height(e(t.body).outerHeight()):t._formattingMarksOverlayWrapper.height(t.body.scrollHeight-t._bodyTopBottomPaddings)},_initInlineOverflowWrapper:function(){const e=this,t=e.options.inlineHeight;e._isInlineEditor()&&t>-1&&(e._inlineOverflowWrapper=e.element.wrap("<div class='k-inline-editor-overflow-wrapper k-pos-relative k-overflow-auto'></div>").parent(),e._inlineOverflowWrapper.height(t))},_addAIPromptElements:function(){const t=this;const n=e("<div/>");const i=e("<div/>");t.splitterElement=n,t.aiPromptElement=i,n.insertBefore(t.element),i.appendTo(n),t.element.appendTo(n)},_initInlineAIPrompt:function(){const t=this;const i=e("<div/>").insertAfter(t.element);const r=t._mapCommands(t.options.ai?.inlineAIPrompt?.commands||t.options.ai?.commands||n.ui.InlineAIPrompt.fn.options.commands);t.inlineAIPrompt=i.kendoInlineAIPrompt({popup:{width:"768px"},service:t.options.ai?.service,commands:r,_isEditor:!0,systemPrompt:t.options.ai?.inlineAIPrompt?.systemPrompt,commandExecute:e=>{e.context=t.getRange().toString()},outputAction:e=>{"insert"===e.action&&t.insertAfterSelection(e.content),"replace"===e.action&&t.paste(e.content)}}).data("kendoInlineAIPrompt")},_mapCommands:function(e,t=null){const n=this;return e.map(((e,i)=>{const r=t?`${t}-${i}`:`${i}`;const o={id:r,text:e.text,icon:e.icon};return e.prompt&&(o.prompt=e.prompt),e.items&&(o.items=n._mapCommands(e.items,r)),o}))},_isAiPromptEnabled(){return this.options.ai&&0!=this.options.ai.aiPrompt},_isInlineAIPromptEnabled(){return this.options.ai&&0!=this.options.ai.inlineAIPrompt},_initAIPrompt:function(){const t=this;const i=t.options.ai?.aiPrompt?.commands||t.options.ai?.commands||t._mapCommands(n.ui.InlineAIPrompt.fn.options.commands);t.aiPrompt=t.aiPromptElement.kendoAIPrompt(e.extend({service:t.options.ai?.service,speechToText:!1,promptTextArea:{rows:5,suffixOptions:{template:()=>"<div ref-select-context-buttongroup></div>"}},views:[{type:"prompt",buttonIcon:"",themeColor:"base",initializeComponents:e=>{e.view.contentElement.find("[ref-select-context-buttongroup]").kendoButtonGroup({index:t._contextSelection,items:[{text:"Use with selection",icon:"box-sizing"},{text:"Use full content",icon:"form-element"}],selection:"multiple",fillMode:"flat",select:e=>{let n=e.sender._buttons[0];let i=e.sender._buttons[1];e.indices.length>1&&(e.target[0]==n.element[0]?(i.toggle(!1),e.sender._toggleIndex(1)):(n.toggle(!1),e.sender._toggleIndex(0))),t._contextSelection=e.indices[0]}})}},{type:"output",themeColor:"base"},{type:"commands",themeColor:"base",promptCommands:i}],promptRequest:e=>{const n=t._contextSelection;let i=e.prompt;i=0===n?t._contextTemplate(i,t.getRange().toString()):1===n?t._contextTemplate(i,t.value()):t._contextTemplate(i,""),e.prompt!=i&&(e.prompt=i)},commandExecute:e=>{const n=e.item.prompt;n&&t.aiPrompt.transport.read({prompt:n(t.value()),history:[],isRetry:!1})}},t.options.ai?.aiPrompt)).data("kendoAIPrompt"),t.aiPromptSplitter=t.splitterElement.kendoSplitter({panes:[e.extend({size:"50%",collapsible:!0,collapsed:!0,min:"360px"},t.options.ai?.pane),{}]}).data("kendoSplitter"),t._isInlineAIPromptEnabled()&&t.bind("select",t._selectionChangeHandler.bind(t))},_contextTemplate:function(e,t){const n=`You are an advanced AI language assistant.\n            A user has selected a portion of their text and provided a query regarding how they want it modified.\n            Your task is to accurately respond to their request while preserving the original intent of the text.\n            Follow the instructions strictly and provide only the requested output unless explicitly asked to explain your changes.\n\n            ${t?"Selected Text:":""}\n            ${t}\n\n            User's Request:\n            ${e}\n\n            Response:`;return this.options.ai?.aiPrompt?.systemPrompt?this.options.ai?.aiPrompt?.systemPrompt(e,t):n},_selectionChangeHandler:function(){const e=this,t=e.getRange(),i=t.getBoundingClientRect(),r=e.wrapper[0].getBoundingClientRect();if(0===n.ui.editor.RangeUtils.textNodes(t).length)return void e.inlineAIPrompt._popup.close();e.inlineAIPrompt._popup.open();const o=e.inlineAIPrompt._popup.element.outerHeight();const a=e.inlineAIPrompt._popup.element.outerWidth();let s=window.scrollY+r.top+i.top+i.height;let l=window.scrollX+r.left+i.left+i.width/2-a/2;e.inlineAIPrompt._popup.close(!0),window.innerHeight-i.bottom<o?s-=o:s+=o,l+a>window.innerWidth+window.scrollX&&(l=window.innerWidth+window.scrollX-a),e.inlineAIPrompt._popup.open(l,s)},_getSelectionPosition:function(){this.getRange().getBoundingClientRect()},_initContextMenu:function(){const t=e(`<ul>\n                            <li>${n.html.renderIcon({icon:"arrow-rotate-cw"})} Rewrite</li>\n                            <li>${n.html.renderIcon({icon:"spell-checker"})} Fix mistakes</li>\n                            <li>${n.html.renderIcon({icon:"tell-a-friend"})} Change tone\n                                <ul>\n                                    <li>Neutral</li>\n                                    <li>Friendly</li>\n                                    <li>Casual</li>\n                                    <li>Formal</li>\n                                </ul>\n                            </li>\n                            <li>${n.html.renderIcon({icon:"apply-format"})} Polish formatting\n                            <li>${n.html.renderIcon({icon:"col-resize"})} Adjust length\n                            <li>${n.html.renderIcon({icon:"edit-tools"})} Translate\n                        </ul>`);e("body").append(t),this._aiContextMenu=t.kendoContextMenu({targe:"imposibru"}).data("kendoContextMenu")},_insertAIResult:function(){this.paste("Test ai result")},_deregisterHandlers:function(){var e=this._handlers;for(var t=0;t<e.length;t++){var n=e[t];n.element.off(n.type,n.handler)}this._handlers=[]},_destroyUploadWidget:function(){var e=this;e._uploadWidget&&(e._uploadWidget.destroy(),e._uploadWidget=null)},_endTyping:function(){var e=this.keyboard;try{e.isTypingInProgress()&&(e.endTyping(!0),this.saveSelection())}catch(e){}},_focusBody:function(){var e=this.body;var t=this.wrapper&&this.wrapper.find("iframe")[0];var i=this.document.documentElement;var r=n._activeElement();var o;!t&&e.scrollHeight>e.clientHeight?(o=e.scrollTop,e.focus(),e.scrollTop=o):r!=e&&r!=t&&(o=i.scrollTop,e.focus(),i.scrollTop=o)},_focusOutside:function(){n.support.browser.msie&&this.textarea&&e("<input />").css({position:"fixed",left:"1px",top:"1px",width:"1px",height:"1px","font-size":"0",border:"0",opacity:"0"}).appendTo(document.body).trigger("focus").trigger("blur").remove()},_handleToolbarClick:function(e){var t=e.target.data("command");t&&"createTable"!==t&&this.exec(t)},_immutablesContext:function(e){var t=n.ui.editor;if(this.options.immutables)return e.collapsed?t.Immutables.immutablesContext(e):0===t.RangeUtils.editableTextNodes(e).length},_initializeContentElement:function(){var i=this;var r;var o;var a;if(i.textarea){if(i.window=i._createContentElement(i.options.stylesheets),!(r=i.document=i.window.contentDocument||i.window.document).body){var s=r.createElement("body");s.setAttribute("contenteditable","true"),s.setAttribute("autocorrect","off"),r.getElementsByTagName("html")[0].appendChild(s);var l=setInterval((function(){e(i.document).find("body").length>1&&(e(i.document).find("body").last().remove(),window.clearInterval(l))}),10)}i.body=r.body,o=i.window,a=r,this._registerHandler(r,"mouseup",this._mouseup.bind(this))}else i.window=window,r=i.document=document,i.body=i.element[0],o=i.body,a=i.body,i._wrapSingleTextNodeInParagraph(),setTimeout((()=>{i._decorateFormatting(i.body)}));this._registerHandler(o,"blur",this._blur.bind(this)),i._registerHandler(a,"down",i._mousedown.bind(i));try{r.execCommand("enableInlineTableEditing",null,!1)}catch(e){}n.support.touch&&this._registerHandler(r,{keydown:function(){n._activeElement()!=r.body&&i.window.focus()}}),this._initializePlaceholder(),this._spellCorrect(i),this._registerHandler(i.document,{"mouseover dragenter":function(t){var n=e(i.body).height();e(i.body.parentElement).height()>n&&"html"===t.target.nodeName.toLowerCase()&&(i._cachedHeight=""+i.body.style.height,i.body.style.height="100%")},"mouseout dragleave drop contextmenu":function(e){var n=function(){i._cachedHeight!==t&&e.target===i.body&&(i.body.style.height=i._cachedHeight,delete i._cachedHeight)};"contextmenu"===e.type?setTimeout((function(){n()}),10):n()}}),this._registerHandler(i.body,{keydown:function(e){var t;if((e.keyCode===d.BACKSPACE||e.keyCode===d.DELETE)&&"true"!==i.body.getAttribute("contenteditable"))return!1;if(e.keyCode===d.F10)return i.toolbar.element.find("[tabindex=0]").first().trigger("focus"),i.toolbar.preventPopupHide=!0,void e.preventDefault();if(e.keyCode==d.LEFT||e.keyCode==d.RIGHT){t=i.getRange();var n=e.keyCode==d.LEFT;var r=t[n?"startContainer":"endContainer"];var o=t[n?"startOffset":"endOffset"];var a=o+(n?-1:1);var s=n?a:o;3==r.nodeType&&"\ufeff"==r.nodeValue[s]&&(t.setStart(r,a),t.collapse(!0),i.selectRange(t))}var l=i.tools;var c=i.keyboard.toolFromShortcut(l,e);var u=c?l[c].options:{};if(c&&!u.keyPressCommand)return e.preventDefault(),/^(undo|redo)$/.test(c)||i.keyboard.endTyping(!0),i.trigger("keydown",e),i.exec(c),i._runPostContentKeyCommands(e),!1;i.keyboard.clearTimeout(),i.keyboard.keydown(e)},keypress:function(e){setTimeout((function(){i._runPostContentKeyCommands(e),i._showElementResizeHandles()}),0)},keyup:function(t){var n=[d.BACKSPACE,d.TAB,d.PAGEUP,d.PAGEDOWN,d.END,d.HOME,d.LEFT,d.UP,d.RIGHT,d.DOWN,d.INSERT,d.DELETE];(e.inArray(t.keyCode,n)>-1||65==t.keyCode&&t.ctrlKey&&!t.altKey&&!t.shiftKey)&&(window.clearTimeout(this._refreshInterval),this._refreshInterval=window.setTimeout((function(){i._selectionChange()}),200)),t.keyCode!==d.BACKSPACE&&t.keyCode!==d.DELETE||i._handleSpaceAndNewLines(),i.keyboard.keyup(t)},click:function(e){var t;"img"===n.ui.editor.Dom.name(e.target)&&((t=i.createRange()).selectNode(e.target),i.selectRange(t))},"cut copy paste drop dragover":function(e){i.clipboard["on"+e.type](e),i._handleSpaceAndNewLines()},focusin:function(){i.body.hasAttribute("contenteditable")&&(e(this).addClass("k-active"),i._showWindow(),i._togglePlaceholder(!1))},focusout:function(){setTimeout((function(){var t=n._activeElement();var r=i.body;var o=i.toolbar;if(o.options.popup){var a=i.windowInstance.element.get(0);a&&!e.contains(a,t)&&a!=t&&(o.preventPopupHide=!1)}t==r||e.contains(r,t)||i._toolbarFocused()||o.preventPopupHide||e(t).hasClass("k-context-menu")||e(t).hasClass("k-colorpalette")||(e(r).removeClass("k-active"),i._hideWindow()),i._togglePlaceholder(!i.value().trim())}),10)}}),i._initializeColumnResizing(),i._initializeRowResizing(),i._initializeElementResizing()},_initializeImmutables:function(){var e=this,t=n.ui.editor;e.options.immutables&&(e.immutables=new t.Immutables(e))},_initializePlaceholder:function(){var t,n,i=this,r=i.options.placeholder;i.textarea&&r&&(t=`<style id='${v}' ${i.options.nonce?`nonce="${i.options.nonce}"`:""} >.`+g+":before { content: '"+r+"'; }</style>",(n=e(i.document.head)).find("#"+v).remove(),n.append(t),i._togglePlaceholder(!i.value().trim()))},_initToolbar:function(i){var r,o,a,s=this;if(s.tools=[],[r,o]=s._processToolbarItems(s.options.tools),s._setNativeTools(),a={tools:r,defaultTools:o,parentMessages:s.options.messages,resizable:!0===s.options.resizable||Boolean(s.options.resizable&&s.options.resizable.toolbar&&"none"!==s.options.resizable.toolbar?.mode),toggle:s._handleToolbarClick.bind(this),click:s._handleToolbarClick.bind(this),navigateOnTab:s.options.navigateOnTab,evaluateTemplates:!0,overflow:e.isPlainObject(s.options.resizable?.toolbar)?s.options.resizable.toolbar:t},s.toolbar=new n.ui.ToolBar(i,a),s._bindTools(),s.bind("select",s._refreshTools.bind(s)),i.on("mousedown.kendoEditor",(function(t){const n=e(t.target);const i=n.closest("[ref-toolbar-tool]");i.length&&i.data("command")&&(i.length&&n.is("input")||t.preventDefault())})),!s.textarea){const e=i.width();e&&e>0&&i.width(e),s._initToolbarWindow(i)}},_initToolbarWindow:function(t){var i=this;this.windowInstance=t.wrap("<div class='editorToolbarWindow k-editor-window' />").parent().prepend("<span class='k-editortoolbar-dragHandle'>"+n.ui.icon("handle-drag")+"</span>").kendoWindow({title:!1,resizable:!1,draggable:{dragHandle:".k-editortoolbar-dragHandle"},animation:{open:{effects:"fade:in"},close:{effects:"fade:out"}},minHeight:42,visible:!1,autoFocus:!1,actions:[],dragend:function(){this._moved=!0}}).on("mousedown",(function(t){e(t.target).is(".k-icon,.k-svg-icon,svg,path,.k-editor-window,.k-editor-toolbar,.k-editortoolbar-dragHandle,[ref-toolbar-tool],[ref-toolbar-tool] *")||(i.toolbar.preventPopupHide=!0)})).on("focusout",(function(){i.element.focusout()})).data("kendoWindow")},_mousedown:function(t){var n=this;if(n._selectionStarted=!0,e(n.body).parents(".k-window").length&&t.stopPropagation(),!a.gecko){var i=e(t.target).closest("a[href]");(2==t.which||1==t.which&&t.ctrlKey)&&i&&i.is("a[href]")&&window.open(i.attr("href"),"_new"),t.target.tagName&&"html"===t.target.tagName.toLowerCase()&&setTimeout((function(){n.body.focus()}),0)}},_mouseup:function(t){var i=this;n.support.mobileOS.ios&&t&&e(t.target).is("select.k-select-overlay")||i._selectionStarted&&setTimeout((function(){i._selectionChange()}),1)},_populateValue:function(t,i){var r,o,a=this,s=n.ui.editor,l=s.Dom;if(t&&t.value)r=t.value;else if(a.textarea){(r=i.value).replace(/\s/g,"").length||(r=r.replace(/\s/g,"")),a.options.encoded&&i.defaultValue&&i.defaultValue.trim().length&&(r=i.defaultValue);var d=s.Serializer.htmlToDom(r,e("<div></div>")[0],a.options.deserialization);o=l.getAllComments(d),r=(r=y.cacheComments(r,o)).replace(/[\r\n\v\f\t ]+/gi," "),r=y.retrieveComments(r,o)}else r=i.innerHTML;a.value(r||"\ufeff")},_resetGroups:function(e){var t={};return Object.keys(e).map((n=>{t[n+"_"]=e[n]})),t},_processToolbarItems:function(i){var r,o,a,s,l,d={},c={},u=e.extend(!0,{},C);for(r=0;r<i.length;r++)if(a=i[r],Array.isArray(a))for(l=n.guid(),o=0;o<a.length;o++)[d,s]=this._processToolOptions(a[o],d),s&&(d[s].gr=l);else{if([d,s]=this._processToolOptions(a,d),!s)continue;"separator"===s&&(u=this._resetGroups(u)),Object.keys(u).map((e=>{u[e].includes(s)&&(d[s].gr=e)}))}return Object.values(d).map((e=>{var n=e.gr;delete e.gr,n===t?c[e.name]=e:(c[n]||(c[n]=[]),c[n].push(e))})),[Object.values(c).map((e=>{var t;return 1===(t=e.length?e.map((e=>e.name)):e.name).length&&(t=t[0]),t})),d]},_processDefaultTool:function(t,n){var i,r=t.name,o={};if(e.isPlainObject(t))r&&n[r]?(o=s({},n[r]),s(o.options,t)):((i=s({icon:"gear",type:"button"},t)).name||(i.name="custom"),i.cssClass="k-"+i.name,o={options:i},r=i.name);else{if(!n[t])return null;o=n[r=t]}return this.tools[r]=o,o},_processToolOptions:function(i,r){var o,a,s,l,d,c,u,p,f,m,h=this,g=n.deepExtend({},n.ui.Editor.defaultTools);return(o=this._processDefaultTool(i,g))?(a=(d=o.options).name,c=d.ui||{},u=y.getToolCssClass(d.name,d.icon),delete(f=e.isPlainObject(i)?e.extend({},i):{}).items,p=e.extend({name:d.name,command:d.command,template:d.template,attributes:{class:d.cssClass},type:"button",icon:u,showText:"overflow",showIcon:"both"},c,f),d.tooltip&&(p.attributes||(p.attributes={}),p.attributes.title=d.tooltip),d.exec&&(p.click=d.exec.bind(h),delete p.exec),"ColorPicker"===p.component&&(d.palette===t&&c.palette===n.ui.editor.ColorTool.fn.options.palette||(m=d.palette||n.ui.editor.ColorTool.fn.options.palette,s=d.palette===t||d.palette?"palette":"gradient",p.componentOptions.palette="palette"===s?m:t,p.componentOptions.views=[s],p.componentOptions.preview="gradient"===s,p.componentOptions.input="gradient"===s,p.componentOptions.buttons="gradient"===s,"gradient"===s&&delete p.componentOptions.columns),"palette"===s&&d.columns&&(p.componentOptions.columns=d.columns)),"DropDownList"!==p.component&&"ComboBox"!==p.component||(p.componentOptions||(p.componentOptions={}),p.componentOptions.dataSource||(h.options[a]&&Array.isArray(h.options[a])?p.componentOptions.dataSource=h.options[a]:p.componentOptions.dataSource=d.items)),p.template&&delete p.type,""!==(l=this._shortcutSequence(a))&&(p.attributes||(p.attributes={}),p.attributes["aria-keyshortcuts"]=l),r[a]=p,[r,a]):[r,null]},_refreshTools:function(){var t=this,i=t.getRange(),r=n.ui.editor,o=r.RangeUtils.textNodes(i),a=t.options.immutables,s=t._immutablesContext(i),l=t.tools;(o=r.Dom.filterBy(o,r.Dom.htmlIndentSpace,!0)).length||(o=[i.startContainer]),t.toolbar.element.find("[data-command]").filter(((t,n)=>0===e(n).find("[data-command]").length)).each((function(){var n,i=this.getAttribute("data-command"),r=l[i];r&&(n=e(this),r.update&&r.update(n,o,t.undoRedoStack),a&&t._updateImmutablesState(r,n,s))}))},_registerHandler:function(t,i,r){var o=".kendoEditor";var a;var s;if(t=e(t),this._handlers||(this._handlers=[]),t.length)if(e.isPlainObject(i))for(var l in i)i.hasOwnProperty(l)&&this._registerHandler(t,l,i[l]);else for(a=n.applyEventMap(i).split(" "),s=0;s<a.length;s++)this._handlers.push({element:t,type:a[s]+o,handler:r}),t.on(a[s]+o,r)},_runPostContentKeyCommands:function(e){const t=this.getRange();const n=this.keyboard.toolsFromShortcut(this.tools,e);for(var i=0;i<n.length;i++){var r=n[i];var o=r.options;if(o.keyPressCommand)new o.command({range:t}).changesContent()&&(this.keyboard.endTyping(!0),this.exec(r.name))}this._wrapSingleTextNodeInParagraph(),this._handleSpaceAndNewLines()},_wrapSingleTextNodeInParagraph:function(){const e=this.body.childNodes;const t=n.ui.editor.Dom;this.textarea||1===e.length&&e[0].nodeType===t.nodeTypes.TEXT_NODE&&t.wrap(e[0],this.document.createElement("p"))},_handleSpaceAndNewLines:function(){const e=this,t=e.options.formattingMarksRefreshDelay,i=n.ui.editor,r=i.applyFormattingMarks,o=i.clearFormattingMarksOverlay;e._toggledFormattingMarks&&(e._formattingMarksOverlay.children().length&&o(e),t?(clearTimeout(e._formattingMarksTimeout),e._formattingMarksTimeout=setTimeout((()=>r(e)),t)):r(e))},_selectionChange:function(){this._selectionStarted=!1,this.saveSelection(),this.trigger("select",{})},_setOptionsTools:function(i){var r,o,a,s=this,l=s.toolbar,d=l.element;l.destroy(),d.empty(),s.tools=[],[r,o]=s._processToolbarItems(i),s._setNativeTools(),a={tools:r,defaultTools:o,parentMessages:s.options.messages,resizable:!0===s.options.resizable||Boolean(s.options.resizable&&s.options.resizable.toolbar&&"none"!==s.options.resizable.toolbar?.mode),toggle:s._handleToolbarClick.bind(this),click:s._handleToolbarClick.bind(this),overflow:e.isPlainObject(s.options.resizable?.toolbar)?s.options.resizable.toolbar:t},s.toolbar=new n.ui.ToolBar(d,a),s._bindTools()},_setNativeTools:function(){var e,t=n.deepExtend({},n.ui.Editor.defaultTools);for(e=0;e<b.length;e++)this.tools[b[e]]||(this.tools[b[e]]=t[b[e]])},_setupHeight:function(e){var t=this;"textarea"==e&&setTimeout((function(){var e=t.wrapper[0].style.height;var n=parseInt(e,10);var i=t.wrapper.height();e.indexOf("px")>0&&!isNaN(n)&&i>n&&t.wrapper.height(n-(i-n))}))},_setupKeyboard:function(){var e=this,t=n.ui.editor;e.keyboard=new t.Keyboard([new t.BackspaceHandler(e),new t.TypingHandler(e),new t.SystemHandler(e),new t.SelectAllHandler(e)])},_setupType:function(t){var i,r=t[0],o=n.ui.editor.Dom.name(r),a=r.id;return a||(a=n.guid(),r.setAttribute("id",a)),"textarea"==o?(this._wrapTextarea(),(i=this.wrapper.find(".k-editor-toolbar")).attr("aria-controls",a)):(e(r).attr("contenteditable",!0).addClass("k-editor k-editor-inline"),i=e('<div class="k-editor-toolbar"/>').insertBefore(t)),i},_isInlineEditor:function(){return this.element.hasClass("k-editor-inline")},_shortcutSequence:function(e){var t,i=n.ui.Editor.defaultTools[e],r="";return i&&i.options?((t=i.options).ctrl&&(r+="Ctrl+"),t.shift&&(r+="Shift+"),t.alt&&(r+="Alt+"),t.key&&(r+=t.key),r):r},_spellCorrect:function(e){var t;var i=!1;this._registerHandler(e.body,{contextmenu:function(){e.one("select",(function(){t=null})),e._spellCorrectTimeout=setTimeout((function(){t=new n.ui.editor.RestorePoint(e.getRange(),e.body),i=!1}),10)},input:function(){t&&(!n.support.browser.mozilla||i?n.ui.editor._finishUpdate(e,t):i=!0)}})},_togglePlaceholder:function(t){var n=this,i=n.body,r=e(i),o=n.options.placeholder;n.textarea&&o&&(r.attr("aria-label",(function(){return t?o:""})),r.toggleClass(g,t))},_toolbarFocused:function(){var t=n._activeElement(),i=this.windowInstance,r=this.overflowPopup;return i&&e(t).closest(i.wrapper).length||r&&r.visible()},_updateImmutablesState:function(i,r,o){let a=this.toolbar,s=i.name,l=a.overflowAnchor,d=r.closest("[ref-toolbar-tool]"),c=i.options.trackImmutables,u=!0,p=n.ui.editor;if(c===t&&(c=e.inArray(s,p.Immutables.toolsToBeUpdated)>-1),l&&!l.hasClass("k-hidden")){const e=a.overflowMenu,t=e?.element.find(`[data-command="${i.options.name}"]`);u=t?.hasClass("k-hidden")}c&&(o?a.hide(d):u&&a.show(d))},_wrapTextarea:function(){var t=this,n=t.element,i=n[0].style.width,r=n[0].style.height,o=y.editorWrapperTemplate(),a=e(o).insertBefore(n),s=a.find(".k-editable-area");a.css({width:i,height:r}),n.attr("autocomplete","off").appendTo(s).addClass("k-content k-raw-content").css("display","none"),t.textarea=n,t.wrapper=a},_resizable:function(){let n=this;let i=this.options.resizable;let r=e.isPlainObject(i)?i.content===t||!0===i.content:i;let o=e.isPlainObject(i.min)?i.min:{minHeight:i.min};let a=e.isPlainObject(i.max)?i.max:{maxHeight:i.max};r&&this.textarea&&(n.wrapper.addClass("k-editor-resizable"),o.minHeight&&n.wrapper.css("min-height",o.minHeight),a.maxHeight&&n.wrapper.css("max-height",a.maxHeight),o.minWidth&&n.wrapper.css("min-width",o.minWidth),a.maxWidth&&n.wrapper.css("max-width",a.maxWidth),n.resizeObserver=new ResizeObserver((()=>{clearTimeout(n._resizeTimeOut),n._resizeTimeOut=setTimeout((function(){n.toolbar.resize(),n._handleSpaceAndNewLines()}),50)})),n.resizeObserver.observe(n.wrapper[0]))},_destroyResizings:function(){var e=this;e._destroyElementResizing(),n.ui.editor.ElementResizingFactory.current.dispose(e),e._destroyRowResizing(),n.ui.editor.RowResizing.dispose(e),e._destroyColumnResizing(),n.ui.editor.ColumnResizing.dispose(e)},_initializeElementResizing:function(){var e=this;n.ui.editor.ElementResizingFactory.current.create(e),e._showElementResizeHandlesProxy=e._showElementResizeHandles.bind(e),e.bind(h,e._showElementResizeHandlesProxy)},_destroyElementResizing:function(){var e=this;var t=e.elementResizing;t&&(t.destroy(),e.elementResizing=null),e._showElementResizeHandlesProxy&&e.unbind(h,e._showElementResizeHandlesProxy)},_showElementResizeHandles:function(){var e=this.elementResizing;e&&e.element&&e.element.parentNode?e.showResizeHandles():!e||e.element&&e.element.parentNode||this._destroyElementResizing()},_initializeColumnResizing:function(){n.ui.editor.ColumnResizing.create(this)},_destroyColumnResizing:function(){var e=this;e.columnResizing&&(e.columnResizing.destroy(),e.columnResizing=null)},_initializeRowResizing:function(){n.ui.editor.RowResizing.create(this)},_destroyRowResizing:function(){var e=this;e.rowResizing&&(e.rowResizing.destroy(),e.rowResizing=null)},_getWindowWidth:function(){var e=this.windowInstance.wrapper,t=this.element;return c(t)-parseInt(e.css("border-left-width"),10)-parseInt(e.css("border-right-width"),10)},_hideWindow:function(){this.windowInstance&&this.windowInstance.close()},_overlapsWindow:function(e){var t=this.windowInstance.wrapper,n=t.offset(),i=n.left,r=n.top,o=e.offset(),a=o.left,s=o.top;return!(a+e.width()<i||a>i+t.width()||s+e.height()<r||s>r+t.height())},_showWindow:function(){var e,t,i,r=this,o=r.windowInstance,a=n.support.browser;o&&(e=o.wrapper,t=r.element,e.is(":visible")&&r.windowInstance.options.visible||(e[0].style.width||e.width(this._getWindowWidth()),o._moved||(i=t.offset(),e.css({top:Math.max(0,parseInt(i.top,10)-u(e)-parseInt(r.windowInstance.element.css("padding-bottom"),10)),left:Math.max(0,parseInt(i.left,10))})),(a.msie||a.edge)&&r._overlapsWindow(t)?setTimeout((function(){o.open()}),0):o.open()))}});k.defaultTools={},n.ui.plugin(k);var x=i.extend({init:function(e){this.options=e},command:function(e){return new this.options.command(e)},update:e.noop});x.exec=function(e,t,n){e.exec(t,{value:n})};var _=x.extend({command:e.noop,update:function(e,t,n){var i=this.options.name,r=e.closest(".k-toolbar").data("kendoToolBar");switch(i){case"undo":r.enable(e,n.canUndo());break;case"redo":r.enable(e,n.canRedo())}e.removeAttr("disabled")}});y.registerTool("separator",new x({ui:{type:"separator"}})),y.registerTool("undo",new _({key:"Z",ctrl:!0})),y.registerTool("redo",new _({key:"Y",ctrl:!0}));var T="\ufeff";var N=T;(a.msie||a.edge)&&(N=T="&nbsp;"),s(n.ui,{editor:{EditorUtils:y,Tool:x,emptyElementContent:T,emptyTableCellContent:N}}),n.PDFMixin&&(n.PDFMixin.extend(k.prototype),k.prototype._drawPDF=function(){return n.drawing.drawDOM(this.body,this.options.pdf)},k.prototype.saveAsPDF=function(){var t=new e.Deferred;var i=t.promise();var r={promise:i};if(!this.trigger("pdfExport",r)){var o=this.options.pdf;return this._drawPDF(t).then((function(e){return n.drawing.exportPDF(e,o)})).done((function(e){n.saveAs({dataURI:e,fileName:o.fileName,proxyURL:o.proxyURL,proxyTarget:o.proxyTarget,forceProxy:o.forceProxy}),t.resolve()})).fail((function(e){t.reject(e)})),i}})}(window.kendo.jQuery),function(e){var t=window.kendo,n=e.map,i=e.extend,r=t.support.browser,o="style",a="float",s="cssFloat",l="styleFloat",d="class",c="k-marker";function u(e){var t,n,i={};for(t=0,n=e.length;t<n;t++)i[e[t]]=!0;return i}var p=u("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed".split(",")),f="p,div,h1,h2,h3,h4,h5,h6,address,applet,blockquote,button,center,dd,dir,dl,dt,fieldset,form,frameset,hr,iframe,isindex,map,menu,noframes,noscript,object,pre,script,table,tbody,td,tfoot,th,thead,tr,header,article,nav,footer,section,aside,main,figure,figcaption".split(","),m=f.concat(["ul","ol","li"]),h=u(m),g=u("area,base,br,col,command,embed,hr,img,input,keygen,link,menuitem,meta,param,source,track,wbr".split(",")),v="span,em,a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,strike,strong,sub,sup,textarea,tt,u,var,data,time,mark,ruby".split(","),b=u(v),y=u("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected".split(",")),w=["hgroup","ol","ul","dl","object","video","audio","table","colgroup","tbody","thead","tfoot","tr","select","optgroup"];var C=function(e){1==e.nodeType&&e.normalize()};r.msie&&r.version>=8&&(C=function(e){if(1==e.nodeType&&e.firstChild){var t=e.firstChild,n=t;for(C(n);n=n.nextSibling;)C(n),3==n.nodeType&&3==t.nodeType&&(n.nodeValue=t.nodeValue+n.nodeValue,P.remove(t)),t=n}});var k,x=/^\s+$/,_=/^[\n\r\t]+$/,T=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/i,N=/\ufeff/g,S=/^(\s+|\ufeff)$/,R="color,padding-left,padding-right,padding-top,padding-bottom,background-color,background-attachment,background-image,background-position,background-repeat,border-top-style,border-top-width,border-top-color,border-bottom-style,border-bottom-width,border-bottom-color,border-left-style,border-left-width,border-left-color,border-right-style,border-right-width,border-right-color,font-family,font-size,font-style,font-variant,font-weight,line-height".split(","),A=/[<>&]/g,E=/[\u00A0-\u2666<>&]/g,z={34:"quot",38:"amp",39:"apos",60:"lt",62:"gt",160:"nbsp",161:"iexcl",162:"cent",163:"pound",164:"curren",165:"yen",166:"brvbar",167:"sect",168:"uml",169:"copy",170:"ordf",171:"laquo",172:"not",173:"shy",174:"reg",175:"macr",176:"deg",177:"plusmn",178:"sup2",179:"sup3",180:"acute",181:"micro",182:"para",183:"middot",184:"cedil",185:"sup1",186:"ordm",187:"raquo",188:"frac14",189:"frac12",190:"frac34",191:"iquest",192:"Agrave",193:"Aacute",194:"Acirc",195:"Atilde",196:"Auml",197:"Aring",198:"AElig",199:"Ccedil",200:"Egrave",201:"Eacute",202:"Ecirc",203:"Euml",204:"Igrave",205:"Iacute",206:"Icirc",207:"Iuml",208:"ETH",209:"Ntilde",210:"Ograve",211:"Oacute",212:"Ocirc",213:"Otilde",214:"Ouml",215:"times",216:"Oslash",217:"Ugrave",218:"Uacute",219:"Ucirc",220:"Uuml",221:"Yacute",222:"THORN",223:"szlig",224:"agrave",225:"aacute",226:"acirc",227:"atilde",228:"auml",229:"aring",230:"aelig",231:"ccedil",232:"egrave",233:"eacute",234:"ecirc",235:"euml",236:"igrave",237:"iacute",238:"icirc",239:"iuml",240:"eth",241:"ntilde",242:"ograve",243:"oacute",244:"ocirc",245:"otilde",246:"ouml",247:"divide",248:"oslash",249:"ugrave",250:"uacute",251:"ucirc",252:"uuml",253:"yacute",254:"thorn",255:"yuml",402:"fnof",913:"Alpha",914:"Beta",915:"Gamma",916:"Delta",917:"Epsilon",918:"Zeta",919:"Eta",920:"Theta",921:"Iota",922:"Kappa",923:"Lambda",924:"Mu",925:"Nu",926:"Xi",927:"Omicron",928:"Pi",929:"Rho",931:"Sigma",932:"Tau",933:"Upsilon",934:"Phi",935:"Chi",936:"Psi",937:"Omega",945:"alpha",946:"beta",947:"gamma",948:"delta",949:"epsilon",950:"zeta",951:"eta",952:"theta",953:"iota",954:"kappa",955:"lambda",956:"mu",957:"nu",958:"xi",959:"omicron",960:"pi",961:"rho",962:"sigmaf",963:"sigma",964:"tau",965:"upsilon",966:"phi",967:"chi",968:"psi",969:"omega",977:"thetasym",978:"upsih",982:"piv",8226:"bull",8230:"hellip",8242:"prime",8243:"Prime",8254:"oline",8260:"frasl",8472:"weierp",8465:"image",8476:"real",8482:"trade",8501:"alefsym",8592:"larr",8593:"uarr",8594:"rarr",8595:"darr",8596:"harr",8629:"crarr",8656:"lArr",8657:"uArr",8658:"rArr",8659:"dArr",8660:"hArr",8704:"forall",8706:"part",8707:"exist",8709:"empty",8711:"nabla",8712:"isin",8713:"notin",8715:"ni",8719:"prod",8721:"sum",8722:"minus",8727:"lowast",8730:"radic",8733:"prop",8734:"infin",8736:"ang",8743:"and",8744:"or",8745:"cap",8746:"cup",8747:"int",8756:"there4",8764:"sim",8773:"cong",8776:"asymp",8800:"ne",8801:"equiv",8804:"le",8805:"ge",8834:"sub",8835:"sup",8836:"nsub",8838:"sube",8839:"supe",8853:"oplus",8855:"otimes",8869:"perp",8901:"sdot",8968:"lceil",8969:"rceil",8970:"lfloor",8971:"rfloor",9001:"lang",9002:"rang",9674:"loz",9824:"spades",9827:"clubs",9829:"hearts",9830:"diams",338:"OElig",339:"oelig",352:"Scaron",353:"scaron",376:"Yuml",710:"circ",732:"tilde",8194:"ensp",8195:"emsp",8201:"thinsp",8204:"zwnj",8205:"zwj",8206:"lrm",8207:"rlm",8211:"ndash",8212:"mdash",8216:"lsquo",8217:"rsquo",8218:"sbquo",8220:"ldquo",8221:"rdquo",8222:"bdquo",8224:"dagger",8225:"Dagger",8240:"permil",8249:"lsaquo",8250:"rsaquo",8364:"euro"};var P={block:h,inline:b,findNodeIndex:function(e,t){var n=0;if(!e)return-1;for(;e=e.previousSibling;)t&&3==e.nodeType||n++;return n},isDataNode:function(e){return e&&null!==e.nodeValue&&null!==e.data},isAncestorOf:function(t,n){try{return!P.isDataNode(t)&&(e.contains(t,P.isDataNode(n)?n.parentNode:n)||n.parentNode==t)}catch(e){return!1}},isAncestorOrSelf:function(e,t){return P.isAncestorOf(e,t)||e==t},findClosestAncestor:function(e,t){if(P.isAncestorOf(e,t))for(;t&&t.parentNode!=e;)t=t.parentNode;return t},getAllComments:function(e){var t=[];var n=document.createNodeIterator(e,NodeFilter.SHOW_COMMENT,(function(){return NodeFilter.FILTER_ACCEPT}),!1);var i=n.nextNode();for(;i;)t.push(i.nodeValue),i=n.nextNode();return t},getNodeLength:function(e){return P.isDataNode(e)?e.length:e.childNodes.length},splitDataNode:function(e,t){var n=e.cloneNode(!1);var i="";var r=e.nextSibling;var o;for(;r&&3==r.nodeType&&r.nodeValue;)i+=r.nodeValue,o=r,r=r.nextSibling,P.remove(o);e.deleteData(t,e.length),n.deleteData(0,t),n.nodeValue+=i,P.insertAfter(n,e)},attrEquals:function(e,n){for(var i in n){var r=e[i];if(i==a&&(r=e[t.support.cssFloat?s:l]),"object"==typeof r){if(!P.attrEquals(r,n[i]))return!1}else if(r!=n[i])return!1}return!0},blockParentOrBody:function(e){return P.parentOfType(e,m)||e.ownerDocument.body},blockParents:function(t){var n,i,r=[];for(n=0,i=t.length;n<i;n++){var o=P.parentOfType(t[n],P.blockElements);o&&e.inArray(o,r)<0&&r.push(o)}return r},windowFromDocument:function(e){return e.defaultView||e.parentWindow},normalize:C,blockElements:m,nonListBlockElements:f,inlineElements:v,empty:p,fillAttrs:y,nodeTypes:{ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},toHex:function(e){var t=T.exec(e);return t?"#"+n(t.slice(1),(function(e){return(e=parseInt(e,10).toString(16)).length>1?e:"0"+e})).join(""):e},encode:function(e,t){var n=!t||t.entities?E:A;return e.replace(n,(function(e){var t=e.charCodeAt(0);var n=z[t];return n?"&"+n+";":e}))},isBom:function(e){return e&&3===e.nodeType&&/^[\ufeff]+$/.test(e.nodeValue)},stripBom:function(e){return(e||"").replace(N,"")},stripBomNode:function(e){P.isBom(e)&&e.parentNode.removeChild(e)},insignificant:function(e){var t=e.attributes;return"k-marker"==e.className||P.is(e,"br")&&("k-br"==e.className||t._moz_dirty||t._moz_editor_bogus_node)||P.is(e,"span")&&"k-br"==e.className},tableCell:function(e){return P.is(e,"td")||P.is(e,"th")},significantNodes:function(t){return e.grep(t,(function(e){var t=P.name(e);return!("br"==t||P.insignificant(e)||P.emptyTextNode(e)||1==e.nodeType&&!p[t]&&P.emptyNode(e))}))},emptyTextNode:function(e){return e&&3==e.nodeType&&S.test(e.nodeValue)},emptyNode:function(e){return 1==e.nodeType&&!P.significantNodes(e.childNodes).length},name:function(e){return e.nodeName.toLowerCase()},significantChildNodes:function(t){return e.grep(t.childNodes,(function(e){return 3!=e.nodeType||!P.isWhitespace(e)}))},getTextNodes:function(e,t){const n=e.childNodes;t=t||[];for(const i of n)i.nodeType===this.nodeTypes.TEXT_NODE&&(m.includes(P.name(i.parentNode))||v.includes(P.name(i.parentNode))||i.parentNode===e)?t.push(i):i.nodeType===this.nodeTypes.ELEMENT_NODE&&this.getTextNodes(i,t);return t},lastTextNode:function(e){var t=null;if(3==e.nodeType)return e;for(var n=e.lastChild;n;n=n.previousSibling)if(t=P.lastTextNode(n))return t;return t},is:function(e,t){return e&&P.name(e)==t},isMarker:function(e){return e.className==c},isWhitespace:function(e){return x.test(e.nodeValue)},allowsTextContent:function(e){var t=!0;return w.every((function(n){return!P.is(e,n)||(t=!1,!1)})),t},allWhitespaceContent:function(e){var t=e.firstChild;for(;t&&P.isWhitespace(t);)t=t.nextSibling;return!t},isEmptyspace:function(e){return _.test(e.nodeValue)},htmlIndentSpace:function(t){if(!P.isDataNode(t)||!P.isWhitespace(t))return!1;if(_.test(t.nodeValue))return!0;var n=function(e,t){for(;e[t];)if(e=e[t],P.significantNodes([e]).length>0)return e};var i=t.parentNode;var r=n(t,"previousSibling");var o=n(t,"nextSibling");if(N.test(t.nodeValue))return!(!r&&!o);if(e(i).is("tr,tbody,thead,tfoot,table,ol,ul"))return!0;if(P.isBlock(i)||P.is(i,"body")){var a=r&&P.isBlock(r);var s=o&&P.isBlock(o);if(!o&&a||!r&&s||a&&s)return!0}return!1},isBlock:function(e){return h[P.name(e)]},isSelfClosing:function(e){return g[P.name(e)]},isEmpty:function(e){return p[P.name(e)]},isInline:function(e){return b[P.name(e)]},isImg:function(e){return"img"==P.name(e)},isBr:function(e){return"br"==P.name(e)},list:function(e){var t=e?P.name(e):"";return"ul"==t||"ol"==t||"dl"==t},scrollContainer:function(e){var t=P.windowFromDocument(e),n=(t.contentWindow||t).document||t.ownerDocument||t;return n="BackCompat"==n.compatMode?n.body:n.scrollingElement||n.documentElement},scrollTo:function(t,n){var i=t.ownerDocument;var r=P.windowFromDocument(i).innerHeight;var o=P.scrollContainer(i);var a,s,l,d;P.isDataNode(t)?n?(d=P.create(i,"span",{innerHTML:"&#xfeff;"}),P.insertBefore(d,t),a=e(d)):a=e(t.parentNode):a=e(t),s=a.offset().top,l=a[0].offsetHeight,!n&&l||(l=parseInt(a.css("line-height"),10)||Math.ceil(1.2*parseInt(a.css("font-size"),10))||15),d&&P.remove(d),l+s>o.scrollTop+r&&(o.scrollTop=l+s-r)},persistScrollTop:function(e){k=P.scrollContainer(e).scrollTop},offset:function(e,t){var n={top:e.offsetTop,left:e.offsetLeft};var i=e.offsetParent;for(;i&&(!t||P.isAncestorOf(t,i));)n.top+=i.offsetTop,n.left+=i.offsetLeft,i=i.offsetParent;return n},restoreScrollTop:function(e){"number"==typeof k&&(P.scrollContainer(e).scrollTop=k,k=void 0)},insertAt:function(e,t,n){e.insertBefore(t,e.childNodes[n]||null)},insertBefore:function(e,t){return t.parentNode?t.parentNode.insertBefore(e,t):t},insertAfter:function(e,t){return t.parentNode.insertBefore(e,t.nextSibling)},remove:function(e){e.parentNode&&e.parentNode.removeChild(e)},removeChildren:function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},removeTextSiblings:function(e){var t=e.parentNode;for(;e.nextSibling&&3==e.nextSibling.nodeType;)t.removeChild(e.nextSibling);for(;e.previousSibling&&3==e.previousSibling.nodeType;)t.removeChild(e.previousSibling)},trim:function(e){for(var t=e.childNodes.length-1;t>=0;t--){var n=e.childNodes[t];P.isDataNode(n)?P.stripBom(n.nodeValue).length||P.remove(n):n.className!=c&&(P.trim(n),(!P.isEmpty(n)&&0===n.childNodes.length||P.isBlock(n)&&P.allWhitespaceContent(n))&&P.remove(n))}return e},closest:function(e,t){for("string"==typeof t&&(t=[t]);e&&t.indexOf(P.name(e))<0;)e=e.parentNode;return e},closestBy:function(e,t,n){for(;e&&!t(e);){if(n&&n(e))return null;e=e.parentNode}return e},sibling:function(e,t){do{e=e[t]}while(e&&1!=e.nodeType);return e},next:function(e){return P.sibling(e,"nextSibling")},prev:function(e){return P.sibling(e,"previousSibling")},parentOfType:function(e,t){do{e=e.parentNode}while(e&&!P.ofType(e,t));return e},ofType:function(t,n){return e.inArray(P.name(t),n)>=0},changeTag:function(e,t,n){var i,r,a,s,l,c=P.create(e.ownerDocument,t),u=e.attributes;if(!n)for(i=0,r=u.length;i<r;i++)(l=u[i]).specified&&(a=l.nodeName,s=l.nodeValue,a==d?c.className=s:a==o?c.style.cssText=e.style.cssText:c.setAttribute(a,s));for(;e.firstChild;)c.appendChild(e.firstChild);return P.insertBefore(c,e),P.remove(e),c},editableParent:function(e){for(;e&&(3==e.nodeType||"true"!==e.contentEditable);)e=e.parentNode;return e},wrap:function(e,t){return P.insertBefore(t,e),t.appendChild(e),t},unwrap:function(e){var t=e.parentNode;for(;e.firstChild;)t.insertBefore(e.firstChild,e);t.removeChild(e)},wrapper:function(t){var n=P.closestBy(t,(function(e){return e.parentNode&&P.significantNodes(e.parentNode.childNodes).length>1}));return e(n).is("body,.k-editor")?void 0:n},isChildOfBaseContainer:function(t){return e(t).parent().is("body,.k-editor")},create:function(e,t,n){return P.attr(e.createElement(t),n)},createEmptyNode:function(e,t,n){var i=P.attr(e.createElement(t),n);return i.innerHTML="\ufeff",i},attr:function(e,t){for(var n in(t=i({},t))&&o in t&&(P.style(e,t.style),delete t.style),t)null===t[n]?(e.removeAttribute(n),delete t[n]):"className"==n&&(e[n]=t[n]);return i(e,t)},mergeAttributes:function(t,n,i){t.attributes.length&&e.each(t.attributes,(function(){"contenteditable"===this.name||i&&this.name===o||e(n).attr(this.name,this.value),i&&this.name===o&&e.each(t.style,(function(){n.style[this]=t.style[this]}))}))},style:function(t,n){e(t).css(n||{})},unstyle:function(e,n){for(var i in n)i==a?e.style[t.support.cssFloat?s:l]="":e.style[i]="";""===e.style.cssText&&e.removeAttribute(o)},inlineStyle:function(t,i,o){var a,s=e(P.create(t.ownerDocument,i,o));return t.appendChild(s[0]),a=n(R,(function(e){return r.msie&&"line-height"==e&&"1px"==s.css(e)?"line-height:1.5":e+":"+s.css(e)})).join(";"),s.remove(),a},getEffectiveBackground:function(e){var t=e.css("background-color")||"";return t.indexOf("rgba(0, 0, 0, 0")<0&&"transparent"!==t?t:"html"===e[0].tagName.toLowerCase()?"Window":P.getEffectiveBackground(e.parent())},innerText:function(e){var t=e.innerHTML;return t=(t=t.replace(/<!--(.|\s)*?-->/gi,"")).replace(/<\/?[^>]+?\/?>/gm,"")},removeClass:function(e,n){var i,r,o=" "+e.className+" ",a=n.split(" ");for(i=0,r=a.length;i<r;i++)o=o.replace(" "+a[i]+" "," ");(o=t.trim(o)).length?e.className=o:e.removeAttribute(d)},commonAncestor:function(){var e,t,n,i,r,o=arguments.length,a=[],s=1/0,l=null;if(!o)return null;if(1==o)return arguments[0];for(e=0;e<o;e++){for(t=[],n=arguments[e];n;)t.push(n),n=n.parentNode;a.push(t.reverse()),s=Math.min(s,t.length)}if(1==o)return a[0][0];for(e=0;e<s;e++){for(i=a[0][e],r=1;r<o;r++)if(i!=a[r][e])return l;l=i}return l},closestSplittableParent:function(t){var i;(i=1==t.length?P.parentOfType(t[0],["ul","ol"]):P.commonAncestor.apply(null,t))||(i=P.parentOfType(t[0],["p","td"])||t[0].ownerDocument.body),P.isInline(i)&&(i=P.blockParentOrBody(i));var r=n(t,P.editableParent);var o=P.commonAncestor(r)[0];return e.contains(i,o)&&(i=o),i},closestEditable:function(t,n){var i;var r=P.editableParent(t);return((i=P.ofType(t,n)?t:P.parentOfType(t,n))&&r&&e.contains(i,r)||!i&&r)&&(i=r),i},closestEditableOfType:function(t,n){var i=P.closestEditable(t,n);if(i&&P.ofType(i,n)&&!e(i).is(".k-editor"))return i},filter:function(e,t,n){return P.filterBy(t,(function(t){return P.name(t)==e}),n)},filterBy:function(e,t,n){var i=0;var r=e.length;var o=[];var a;for(;i<r;i++)((a=t(e[i]))&&!n||!a&&n)&&o.push(e[i]);return o},ensureTrailingBreaks:function(t){var n=e(t).find("p,td,th");var i=n.length;var r=0;if(i)for(;r<i;r++)P.ensureTrailingBreak(n[r]);else P.ensureTrailingBreak(t)},removeTrailingBreak:function(t){e(t).find("br[type=_moz],.k-br").remove()},ensureTrailingBreak:function(e){P.removeTrailingBreak(e);var t=e.lastChild;var n=t&&P.name(t);var i;(!n||"br"!=n&&"img"!=n||"br"==n&&"k-br"!=t.className)&&((i=e.ownerDocument.createElement("br")).className="k-br",e.appendChild(i))},reMapTableColumns:function(e,t){P._mapColIndices(e,t)},clearTableMappings:function(t,n){e(t).find("["+n+"]").removeAttr(n)},_mapColIndices:function(e,t){var n={};for(var i=0;i<e.rows.length;i++){var r=e.rows[i].cells;var o=0;for(var a=0;a<r.length;a++){var s=r[a];if(s.rowSpan>1&&this._mapColspan(s,i,o,n),n[i])for(;n[i][o];)o++;s.setAttribute(t,o),s.colSpan>1&&(o=o+s.colSpan-1),o++}}},_mapColspan:function(e,t,n,i){var r,o=e.rowSpan,a=e.colSpan;for(var s=0;s<a;s++){r=n+s;for(var l=t+1;l<t+o;l++){if(i[l]||(i[l]={},i[l].length=0),i[t])for(;i[t][r];)r++;i[l][r]=!0,i[l].length++}}},associateWithIds:function(e){var t=this;var n=0;var i=e.rows;var r=i.length;var o=[];var a=[];var s,l;if(e.tHead)n=(s=e.tHead.rows).length;else for(n=t._getNumberOfHeaderRows(e),s=[],l=0;l<n;l++)s.push(i[l]);for(l=0;l<n;l++)o.push([]);for(l=0;l<r;l++)a.push([]);t._generateIdsForColumns(o,s),t._generateIdsForRows(o,a,n,i),t._assignIds(o,a,n,i)},_generateIdsForColumns:function(e,t){var n=(new Date).getTime();var i=t?t.length:0;var r,o,a,s,l,d,c,u,p,f;for(c=0;c<i;c++)for(r=t[c].cells,a=0,u=0;u<r.length;u++){for(s="table"+c+u+ ++n,(o=r[u]).setAttribute("id",s),l=o.getAttribute("colspan")||1,d=o.getAttribute("rowspan")||1;e[c][u+a];)a+=1;for(p=0;p<d;p++)for(f=0;f<l;f++)e[c+p][u+a+f]=s}},_generateIdsForRows:function(t,n,i,r){var o=(new Date).getTime();var a=r.length;var s,l,d,c,u,p,f,m,h,g,v,b,y;var w=function(e){y.push(e[b])};for(m=i;m<a;m++)for(s=r[m],l=e(s.cells).filter("th"),c=0,h=0;h<l.length;h++){for(u="table"+m+h+ ++o,(d=l[h]).setAttribute("id",u),p=d.getAttribute("colspan")||1,f=d.getAttribute("rowspan")||1;n[m][h+c];)c+=1;for(g=0;g<f;g++)for(v=0;v<p;v++)n[m+g][h+c+v]=u;b=d.getAttribute("col-index"),y=[],t.forEach(w),y=y.filter(this._onlyUnique),d.setAttribute("headers",y.join(" ").trim())}},_assignIds:function(t,n,i,r){var o=r.length;var a,s,l,d,c,u,p;var f=function(e){p.push(e[u])};for(d=i;d<o;d++)for(a=r[d],s=e(a.cells).filter("td"),c=0;c<s.length;c++)l=s[c],u=l.getAttribute("col-index"),p=n[d].slice(),t.forEach(f),p=p.filter(this._onlyUnique),l.setAttribute("headers",p.join(" ").trim())},_getNumberOfColumns:function(t){var n=e(t).find("th, td");var i=0;var r,o,a;for(o=0;o<n.length;o++)r=n[o],(a=Number(r.getAttribute("col-index"))+1)>i&&(i=a);return i},_getNumberOfHeaderColumns:function(e,t){var n=e.rows;var i=0;var r,o,a,s,l;for(a=t;a<n.length;a++)for(o=n[a],s=0;s<o.cells.length;s++)l=o.cells[s],this.is(l,"th")&&(r=Number(l.getAttribute("col-index"))+1)>i&&(i=r);return i},_getNumberOfHeaderRows:function(e){var t=e.rows;var n=e.tHead&&e.tHead.rows?e.tHead.rows.length:0;var i,r,o,a;if(0===n)for(a=(r=t[0]).cells&&r.cells.length;r&&a&&this.is(r.cells[0],"th");){for(i=0;i<a;i++)o=r?r.cells[i]:null,this.is(o,"th")||(r=null);r&&(n+=1,a=(r=this.next(r))&&r.cells&&r.cells.length)}return n},_onlyUnique:function(e,t,n){return n.indexOf(e)===t}};t.ui.editor.Dom=P}(window.kendo.jQuery),function(e,t){var n=window.kendo;var i=n.ui.editor;var r=i.Dom;var o=e.extend;var a="xx-small,x-small,small,medium,large,x-large,xx-large".split(",");var s=/"/g;var l=/<br[^>]*>/i;var d=/^\d+(\.\d*)?(px)?$/i;var c=/<p>(?:&nbsp;)?<\/p>/i;var u=/(\*?[-#\/\*\\\w]+(?:\[[0-9a-z_-]+\])?)\s*:\s*((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^\)]*?\)|[^};])+)/g;var p=/^sizzle-\d+/i;var f=/^k-script-/i;var m=/\s*onerror\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/i;var h='<br class="k-br">';var g="<span class='k-br'>\ufeff</span>";var v=document.createElement("div");v.innerHTML=" <hr>";var b=3===v.firstChild.nodeType;v=null;var y=n.isFunction;var w={toEditableHtml:function(e){return(e||"").replace(/<!\[CDATA\[(.*)?\]\]>/g,"\x3c!--[CDATA[$1]]--\x3e").replace(/<(\/?)script([^>]*)>/gi,"<$1k:script$2>").replace(/<img([^>]*)>/gi,(function(e){return e.replace(m,"")})).replace(/(<\/?img[^>]*>)[\r\n\v\f\t ]+/gi,"$1").replace(/^<(table|blockquote)/i,h+"<$1").replace(/^[\s]*(&nbsp;|\u00a0)/i,"$1").replace(/<\/(table|blockquote)>$/i,"</$1>"+h)},_toEditableImmutables:function(t){var n=i.Immutables.immutable,o=r.emptyTextNode,a=t.firstChild,s=t.lastChild;for(;o(a);)a=a.nextSibling;for(;o(s);)s=s.previousSibling;a&&n(a)&&e(g).prependTo(t),s&&n(s)&&e(g).appendTo(t)},_fillEmptyElements:function(t){e(t).find("p,td").each((function(){var t=e(this);if(/^\s*$/g.test(t.text())&&!t.find("img,input").length){var i=this;for(;i.children[0]&&3!=i.children[0].nodeType;)i=i.children[0];1!=i.nodeType||r.empty[r.name(i)]||(r.is(i,"td")?i.innerHTML=n.ui.editor.emptyTableCellContent:i.innerHTML=n.ui.editor.emptyElementContent)}}))},_removeSystemElements:function(t){e(".k-paste-container",t).remove()},_resetOrderedLists:function(e){var t,n,i,r=e.getElementsByTagName("ol");for(t=0;t<r.length;t++)i=(n=r[t]).getAttribute("start"),n.setAttribute("start",1),i?n.setAttribute("start",i):n.removeAttribute(i)},_preventScriptExecution:function(t){e(t).find("*").each((function(){var e=this.attributes;var t,n,i,r;var o=[];for(n=0,i=e.length;n<i;n++)r=(t=e[n]).nodeName,t.specified&&/^on/i.test(r)&&(this.setAttribute("k-script-"+r,t.value),o.push(r));for(n=0,i=o.length;n<i;n++)this.removeAttribute(o[n])}))},htmlToDom:function(t,i,o){var a=n.support.browser.msie;var s=o||{};var l=s.immutables;return t=w.toEditableHtml(t),y(s.custom)&&(t=s.custom(t)||t),i.innerHTML=t,l&&l.deserialize(i),a&&(r.normalize(i),w._resetOrderedLists(i)),w._preventScriptExecution(i),w._fillEmptyElements(i),w._removeSystemElements(i),w._toEditableImmutables(i),e("table",i).addClass("k-table"),i},domToXhtml:function(o,m){var h=[];var g=m&&m.immutables;function v(t){return e.grep(t,(function(e){return"style"!=e.name}))}function y(e,t){h.push("<"+t),x(e),h.push(">")}var w={iframe:{start:function(e){y(e,"iframe")},end:function(){h.push("</iframe>")}},"k:script":{start:function(e){y(e,"script")},end:function(){h.push("<\/script>")},skipEncoding:!0},span:{canOptimize:!0,semantic:!0,start:function(t){var n=t.style;var i=v(k(t));i.length&&(h.push("<span"),x(t,i),h.push(">")),"underline"==n.textDecoration&&h.push("<u>");var o=[];if(n.color&&o.push('color="'+r.toHex(n.color)+'"'),n.fontFamily&&o.push('face="'+n.fontFamily+'"'),n.fontSize){var s=e.inArray(n.fontSize,a);o.push('size="'+s+'"')}var l=[];var d=["text-decoration","color","font"];for(let e=0;e<n.length;e++){var c=n[e];d.filter((e=>c.startsWith(e))).length<=0&&l.push(`${c}: ${n[c]}`)}l.length&&o.push('style="'+l.join(";")+'"'),o.length&&h.push("<font "+o.join(" ")+">")},end:function(e){var t=e.style;(t.color||t.fontFamily||t.fontSize)&&h.push("</font>"),"underline"==t.textDecoration&&h.push("</u>"),v(k(e)).length&&h.push("</span>")}},strong:{semantic:!0,start:function(e){y(e,"b")},end:function(){h.push("</b>")}},em:{semantic:!0,start:function(e){y(e,"i")},end:function(){h.push("</i>")}},b:{semantic:!1,start:function(e){y(e,"strong")},end:function(){h.push("</strong>")}},i:{semantic:!1,start:function(e){y(e,"em")},end:function(){h.push("</em>")}},u:{semantic:!1,start:function(t){h.push("<span");var n=k(t);var i=e(n).filter((function(e,t){return"style"==t.name}))[0];var r={nodeName:"style",value:"text-decoration:underline;"};i&&(r.value=i.value,/text-decoration/i.test(r.value)||(r.value="text-decoration:underline;"+r.value),n.splice(e.inArray(i,n),1)),n.push(r),x(t,n),h.push(">")},end:function(){h.push("</span>")}},font:{canOptimize:!0,semantic:!1,start:function(e){h.push('<span style="');var t=e.getAttribute("color");var n=a[e.getAttribute("size")];var i=e.getAttribute("face");t&&(h.push("color:"),h.push(r.toHex(t)),h.push(";")),i&&(h.push("font-family:"),h.push(i),h.push(";")),n&&(h.push("font-size:"),h.push(n),h.push(";")),h.push('">')},end:function(){h.push("</span>")}}};function C(e){var t=function(e){var t=n.trim;var i=t(e);var o;var a,l;var d=[];for(u.lastIndex=0;o=u.exec(i);)a=t(o[1].toLowerCase()),l=t(o[2]),"font-size-adjust"!=a&&"font-stretch"!=a&&(a.indexOf("color")>=0?l=r.toHex(l):a.indexOf("font")>=0?l=l.replace(s,"'"):/\burl\(/g.test(l)&&(l=l.replace(s,"")),d.push({property:a,value:l}));return d}(e);var i;for(i=0;i<t.length;i++)h.push(t[i].property),h.push(":"),h.push(t[i].value),h.push(";")}function k(e){var t=[];var n=e.attributes;var i,o,a;var s,l,d;for(o=0,a=n.length;o<a;o++)s=(i=n[o]).nodeName,l=i.value,d=i.specified,"value"==s&&"value"in e&&e.value||"type"==s&&"text"==l?d=!0:"class"!=s||l?p.test(s)||"complete"==s||"altHtml"==s||"start"==s&&r.is(e,"ul")||"start"==s&&r.is(e,"ol")&&"1"==l||s.indexOf("_moz")>=0?d=!1:f.test(s)?d=!!m.scripts:"data-role"==s&&"resizable"==l&&(r.is(e,"tr")||r.is(e,"td"))&&(d=!1):d=!1,d&&t.push(i);return t}function x(i,o){var a,s,l,c,u;if(o=o||k(i),r.is(i,"img")){var p=i.style.width,m=i.style.height,g=e(i);p&&d.test(p)&&(g.attr("width",parseInt(p,10)),r.unstyle(i,{width:t})),m&&d.test(m)&&(g.attr("height",parseInt(m,10)),r.unstyle(i,{height:t}))}if(o.length)for(a=0,s=o.length;a<s;a++)c=(l=o[a]).nodeName,u=l.value,"class"==c&&"k-table"==u||(c=c.replace(f,""),h.push(" "),h.push(c),h.push('="'),"style"==c?C(u||i.style.cssText):"src"==c||"href"==c?h.push(n.htmlEncode(i.getAttribute(c,2))):h.push(r.fillAttrs[c]?c:u),h.push('"'))}function _(e,t,n){for(var i=e.firstChild;i;i=i.nextSibling)N(i,t,n)}function T(e){return e.nodeValue.replace(/\ufeff/g,"")}function N(t,n,o){var a,s,l,d,c,u,p=t.nodeType;if(g&&i.Immutables.immutable(t))h.push(g.serialize(t));else if(1==p){if(a=r.name(t),(u=e(t)).hasClass("k-element-resize-handle-wrapper")||u.hasClass("k-column-resize-handle-wrapper")||u.hasClass("k-row-resize-handle-wrapper"))return;if(!a||r.insignificant(t))return;if(!m.scripts&&("script"==a||"k:script"==a))return;if(s=w[a]){if(s.canOptimize&&m.optimizeTags&&function(e){return 0===e.attributes.length}(t))return void _(t,!1,s.skipEncoding);if(void 0===s.semantic||m.semantic^s.semantic)return s.start(t),_(t,!1,s.skipEncoding),void s.end(t)}h.push("<"),h.push(a),x(t),r.empty[a]?h.push(" />"):(h.push(">"),_(t,n||r.is(t,"pre")),h.push("</"),h.push(a),h.push(">"))}else if(3==p){if(function(e){if(r.isBom(e)){do{if(e=e.parentNode,r.is(e,"td")&&1===e.childNodes.length)return!0;if(1!==e.childNodes.length)return!1}while(!r.isBlock(e));return!0}return!1}(t))return void h.push("&nbsp;");d=T(t),!n&&b&&(l=t.parentNode,(c=t.previousSibling)||(c=(r.isInline(l)?l:t).previousSibling),c&&""!==c.innerHTML&&!r.isBlock(c)||(d=m.keepEOL?d.replace(/[\r\n\v\f\t ]+/," "):d.replace(/^[\r\n\v\f\t ]+/,"")),d=d.replace(/ +/," ")),h.push(o?d:r.encode(d,m))}else 4==p?(h.push("<![CDATA["),h.push(t.data),h.push("]]>")):8==p&&(t.data.indexOf("[CDATA[")<0?(h.push("\x3c!--"),h.push(t.data),h.push("--\x3e")):(h.push("<!"),h.push(t.data),h.push(">")))}function S(){n.isFunction(m.custom)&&(h=m.custom(h)||h)}return w.script=w["k:script"],void 0===(m=m||{}).semantic&&(m.semantic=!0),function(e){var t=e.childNodes.length;return t&&3==e.firstChild.nodeType&&(1==t||2==t&&r.insignificant(e.lastChild))}(o)?(h=r.encode(T(o.firstChild).replace(/[\r\n\v\f\t ]+/," "),m),S(),h):(_(o),h=h.join(""),S(),""===h.replace(l,"").replace(c,"")?"":h)}};o(i,{Serializer:w})}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.Class,i=e.extend,r=t.ui.editor,o=t.support.browser,a=r.Dom,s=a.findNodeIndex,l=a.isDataNode,d=a.findClosestAncestor,c=a.getNodeLength,u=a.normalize;var p={selectionFromWindow:function(e){if(e)return"getSelection"in e?e.getSelection():new v(e.document)},selectionFromRange:function(e){var t=N.documentFromRange(e);return p.selectionFromDocument(t)},selectionFromDocument:function(e){return p.selectionFromWindow(a.windowFromDocument(e))}};var f=n.extend({init:function(t){e.extend(this,{ownerDocument:t,startContainer:t,endContainer:t,commonAncestorContainer:t,startOffset:0,endOffset:0,collapsed:!0})},setStart:function(e,t){this.startContainer=e,this.startOffset=t,h(this),m(this,!0)},setEnd:function(e,t){this.endContainer=e,this.endOffset=t,h(this),m(this,!1)},setStartBefore:function(e){this.setStart(e.parentNode,s(e))},setStartAfter:function(e){this.setStart(e.parentNode,s(e)+1)},setEndBefore:function(e){this.setEnd(e.parentNode,s(e))},setEndAfter:function(e){this.setEnd(e.parentNode,s(e)+1)},selectNode:function(e){this.setStartBefore(e),this.setEndAfter(e)},selectNodeContents:function(e){this.setStart(e,0),this.setEnd(e,e[1===e.nodeType?"childNodes":"nodeValue"].length)},collapse:function(e){var t=this;e?t.setEnd(t.startContainer,t.startOffset):t.setStart(t.endContainer,t.endOffset)},deleteContents:function(){var e=this,t=e.cloneRange();e.startContainer!=e.commonAncestorContainer&&e.setStartAfter(d(e.commonAncestorContainer,e.startContainer)),e.collapse(!0),function e(t){for(;t.next();)t.hasPartialSubtree()?e(t.getSubtreeIterator()):t.remove()}(new g(t))},cloneContents:function(){var e=N.documentFromRange(this);return function t(n){var i,r=e.createDocumentFragment();for(;i=n.next();)i=i.cloneNode(!n.hasPartialSubtree()),n.hasPartialSubtree()&&i.appendChild(t(n.getSubtreeIterator())),r.appendChild(i);return r}(new g(this))},extractContents:function(){var e=this,t=e.cloneRange();e.startContainer!=e.commonAncestorContainer&&e.setStartAfter(d(e.commonAncestorContainer,e.startContainer)),e.collapse(!0);var n=N.documentFromRange(e);return function t(i){var r,o=n.createDocumentFragment();for(;r=i.next();)i.hasPartialSubtree()?(r=r.cloneNode(!1)).appendChild(t(i.getSubtreeIterator())):i.remove(e.originalRange),o.appendChild(r);return o}(new g(t))},insertNode:function(e){var t=this;l(t.startContainer)?(t.startOffset!=t.startContainer.nodeValue.length&&a.splitDataNode(t.startContainer,t.startOffset),a.insertAfter(e,t.startContainer)):a.insertAt(t.startContainer,e,t.startOffset),t.setStart(t.startContainer,t.startOffset)},cloneRange:function(){return e.extend(new f(this.ownerDocument),{startContainer:this.startContainer,endContainer:this.endContainer,commonAncestorContainer:this.commonAncestorContainer,startOffset:this.startOffset,endOffset:this.endOffset,collapsed:this.collapsed,originalRange:this})},toString:function(){var e=this.startContainer.nodeName,t=this.endContainer.nodeName;return["#text"==e?this.startContainer.nodeValue:e,"(",this.startOffset,") : ","#text"==t?this.endContainer.nodeValue:t,"(",this.endOffset,")"].join("")}});function m(e,t){(function(e){try{return function(e,t,n,i){if(e==t)return i-n;var r=t;for(;r&&r.parentNode!=e;)r=r.parentNode;if(r)return s(r)-n;for(r=e;r&&r.parentNode!=t;)r=r.parentNode;if(r)return i-s(r)-1;var o=a.commonAncestor(e,t);var l=e;for(;l&&l.parentNode!=o;)l=l.parentNode;l||(l=o);var d=t;for(;d&&d.parentNode!=o;)d=d.parentNode;return d||(d=o),l==d?0:s(d)-s(l)}(e.startContainer,e.endContainer,e.startOffset,e.endOffset)<0}catch(e){return!0}})(e)&&(t?(e.commonAncestorContainer=e.endContainer=e.startContainer,e.endOffset=e.startOffset):(e.commonAncestorContainer=e.startContainer=e.endContainer,e.startOffset=e.endOffset),e.collapsed=!0)}function h(e){e.collapsed=e.startContainer==e.endContainer&&e.startOffset==e.endOffset;var t=e.startContainer;for(;t&&t!=e.endContainer&&!a.isAncestorOf(t,e.endContainer);)t=t.parentNode;e.commonAncestorContainer=t}f.fromNode=function(e){return new f(e.ownerDocument)};var g=n.extend({init:function(t){if(e.extend(this,{range:t,_current:null,_next:null,_end:null}),!t.collapsed){var n=t.commonAncestorContainer;this._next=t.startContainer!=n||l(t.startContainer)?d(n,t.startContainer):t.startContainer.childNodes[t.startOffset],this._end=t.endContainer!=n||l(t.endContainer)?d(n,t.endContainer).nextSibling:t.endContainer.childNodes[t.endOffset]}},hasNext:function(){return!!this._next},next:function(){var e=this,t=e._current=e._next;return e._next=e._current&&e._current.nextSibling!=e._end?e._current.nextSibling:null,l(e._current)&&(e.range.endContainer==e._current&&(t=t.cloneNode(!0)).deleteData(e.range.endOffset,t.length-e.range.endOffset),e.range.startContainer==e._current&&(t=t.cloneNode(!0)).deleteData(0,e.range.startOffset)),t},traverse:function(e){var t,n=this;for(;n._current=n._next,n._next=n._current&&n._current.nextSibling!=n._end?n._current.nextSibling:null,t=n._current;)n.hasPartialSubtree()?n.getSubtreeIterator().traverse(e):e(t);return t},remove:function(e){var t,n,i,r=this,o=r.range.startContainer==r._current,d=r.range.endContainer==r._current;if(l(r._current)&&(o||d))t=o?r.range.startOffset:0,i=(n=d?r.range.endOffset:r._current.length)-t,e&&(o||d)&&(r._current==e.startContainer&&t<=e.startOffset&&(e.startOffset-=i),r._current==e.endContainer&&n<=e.endOffset&&(e.endOffset-=i)),r._current.deleteData(t,i);else{var c=r._current.parentNode;if(e&&(r.range.startContainer==c||r.range.endContainer==c)){var u=s(r._current);c==e.startContainer&&u<=e.startOffset&&(e.startOffset-=1),c==e.endContainer&&u<e.endOffset&&(e.endOffset-=1)}a.remove(r._current)}},hasPartialSubtree:function(){return!l(this._current)&&(a.isAncestorOrSelf(this._current,this.range.startContainer)||a.isAncestorOrSelf(this._current,this.range.endContainer))},getSubtreeIterator:function(){return new g(this.getSubRange())},getSubRange:function(){var e=this,t=e.range.cloneRange();return t.selectNodeContents(e._current),a.isAncestorOrSelf(e._current,e.range.startContainer)&&t.setStart(e.range.startContainer,e.range.startOffset),a.isAncestorOrSelf(e._current,e.range.endContainer)&&t.setEnd(e.range.endContainer,e.range.endOffset),t}});var v=n.extend({init:function(e){this.ownerDocument=e,this.rangeCount=1},addRange:function(e){var t=this.ownerDocument.body.createTextRange();b(t,e,!1),b(t,e,!0),t.select()},removeAllRanges:function(){var e=this.ownerDocument.selection;"None"!=e.type&&e.empty()},getRangeAt:function(){var e,t,n=new f(this.ownerDocument),i=this.ownerDocument.selection;try{if(((e=i.createRange()).item?e.item(0):e.parentElement()).ownerDocument!=this.ownerDocument)return n}catch(e){return n}if("Control"==i.type)n.selectNode(e.item(0));else{t=function(e){var t=e.duplicate(),n=e.duplicate();return t.collapse(!0),n.collapse(!1),a.commonAncestor(e.parentElement(),t.parentElement(),n.parentElement())}(e),y(e,n,t,!0),y(e,n,t,!1),9==n.startContainer.nodeType&&n.setStart(n.endContainer,n.startOffset),9==n.endContainer.nodeType&&n.setEnd(n.startContainer,n.endOffset),0===e.compareEndPoints("StartToEnd",e)&&n.collapse(!1);var r=n.startContainer,o=n.endContainer,d=this.ownerDocument.body;if(!(n.collapsed||0!==n.startOffset||n.endOffset!=c(n.endContainer)||r==o&&l(r)&&r.parentNode==d)){var u=!1,p=!1;for(;0===s(r)&&r==r.parentNode.firstChild&&r!=d;)r=r.parentNode,u=!0;for(;s(o)==c(o.parentNode)-1&&o==o.parentNode.lastChild&&o!=d;)o=o.parentNode,p=!0;r==d&&o==d&&u&&p&&(n.setStart(r,0),n.setEnd(o,c(d)))}}return n}});function b(e,t,n){var i,r=t[n?"startContainer":"endContainer"],o=t[n?"startOffset":"endOffset"],s=0,d=l(r),c=d?r:r.childNodes[o]||null,u=d?r.parentNode:r,p=t.ownerDocument,f=p.body.createTextRange();3!=r.nodeType&&4!=r.nodeType||(s=o),u||(u=p.body),"img"==u.nodeName.toLowerCase()?(f.moveToElementText(u),f.collapse(!1),e.setEndPoint(n?"StartToStart":"EndToStart",f)):(i=u.insertBefore(a.create(p,"a"),c),f.moveToElementText(i),a.remove(i),f[n?"moveStart":"moveEnd"]("character",s),f.collapse(!1),e.setEndPoint(n?"StartToStart":"EndToStart",f))}function y(e,t,n,i){var r,o,d,c,u,p,f,m=a.create(t.ownerDocument,"a"),h=e.duplicate(),g=i?"StartToStart":"StartToEnd",v=!1;m.innerHTML="\ufeff",h.collapse(i),o=h.parentElement(),a.isAncestorOrSelf(n,o)||(o=n);do{v?o.insertBefore(m,m.previousSibling):(o.appendChild(m),v=!0),h.moveToElementText(m)}while((r=h.compareEndPoints(g,e))>0&&m.previousSibling);d=m.nextSibling,-1==r&&l(d)?(h.setEndPoint(i?"EndToStart":"EndToEnd",e),a.remove(m),p=[d,h.text.length]):(c=!i&&m.previousSibling,u=i&&m.nextSibling,l(u)?p=[u,0]:l(c)?p=[c,c.length]:(f=s(m),p=o.nextSibling&&f==o.childNodes.length-1?[o.nextSibling,0]:[o,f]),a.remove(m)),t[i?"setStart":"setEnd"](...p)}var w=n.extend({init:function(e){this.enumerate=function(){var t=[];return new g(e).traverse((function e(n){if(a.is(n,"img")||3==n.nodeType&&(!a.isEmptyspace(n)||"\ufeff"==n.nodeValue))t.push(n);else for(n=n.firstChild;n;)e(n),n=n.nextSibling})),t}}});var C=g.extend({hasPartialSubtree:function(){var e=r.Immutables&&r.Immutables.immutable;return e&&!e(this._current)&&g.fn.hasPartialSubtree.call(this)},getSubtreeIterator:function(){return new C(this.getSubRange())}});var k=n.extend({init:function(e){this.enumerate=function(){var t=[];var n=r.Immutables&&r.Immutables.immutable;return new C(e).traverse((function e(i){if(n&&!n(i))if(a.is(i,"img")||3==i.nodeType&&(!a.isEmptyspace(i)||"\ufeff"==i.nodeValue))t.push(i);else for(i=i.firstChild;i;)e(i),i=i.nextSibling})),t}}});var x=n.extend({init:function(e,t,n){var i=this;i.range=e,i.rootNode=N.documentFromRange(e),i.body=t||i.getEditable(e),"body"!=a.name(i.body)&&(i.rootNode=i.body),i.startContainer=i.nodeToPath(e.startContainer),i.endContainer=i.nodeToPath(e.endContainer),i.startOffset=i.offset(e.startContainer,e.startOffset),i.endOffset=i.offset(e.endContainer,e.endOffset),i.immutables=n&&n.immutables,i.immutables&&(i.serializedImmutables=r.Immutables.removeImmutables(i.body)),i.html=i.body.innerHTML,i.immutables&&!i.serializedImmutables.empty&&r.Immutables.restoreImmutables(i.body,i.serializedImmutables)},index:function(e){var t=0,n=e.nodeType;for(;e=e.previousSibling;){var i=e.nodeType;3==i&&n==i||t++,n=i}return t},getEditable:function(e){var t=e.commonAncestorContainer;for(;t&&(3==t.nodeType||t.attributes&&(!t.attributes.contentEditable||"false"==t.attributes.contentEditable.nodeValue.toLowerCase()));)t=t.parentNode;return t},restoreHtml:function(){var e=this;a.removeChildren(e.body),e.body.innerHTML=e.html,e.immutables&&!e.serializedImmutables.empty&&r.Immutables.restoreImmutables(e.body,e.serializedImmutables)},offset:function(e,t){if(3==e.nodeType)for(;(e=e.previousSibling)&&3==e.nodeType;)t+=e.nodeValue.length;return t},nodeToPath:function(e){var t=[];for(;e!=this.rootNode;)t.push(this.index(e)),e=e.parentNode;return t},toRangePoint:function(e,t,n,i){var r=this.rootNode,o=n.length,a=i;for(;o--&&r;)r=r.childNodes[n[o]];for(;r&&3==r.nodeType&&r.nodeValue.length<a;)a-=r.nodeValue.length,r=r.nextSibling;r&&a>=0&&e[t?"setStart":"setEnd"](r,a)},toRange:function(){var e=this,t=e.range.cloneRange();return e.toRangePoint(t,!0,e.startContainer,e.startOffset),e.toRangePoint(t,!1,e.endContainer,e.endOffset),t}});var _=n.extend({init:function(){this.caret=null},addCaret:function(e){var t=this.caret=a.create(N.documentFromRange(e),"span",{className:"k-marker"});return e.insertNode(t),a.stripBomNode(t.previousSibling),a.stripBomNode(t.nextSibling),e.selectNode(t),t},removeCaret:function(e){var t=this,n=t.caret.previousSibling,i=0;n&&(i=l(n)?n.nodeValue.length:s(n));var r=t.caret.parentNode;var d=n?s(n):0;a.remove(t.caret),u(r);var c=r.childNodes[d];if(l(c))e.setStart(c,i);else if(c){var p=a.lastTextNode(c);p?e.setStart(p,p.nodeValue.length):e[n?"setStartAfter":"setStartBefore"](c)}else o.msie||r.innerHTML||(r.innerHTML='<br _moz_dirty="" />'),e.selectNodeContents(r);e.collapse(!0)},add:function(e,t){var n=this;var i=e.collapsed&&!N.isExpandable(e);var r=N.documentFromRange(e);t&&e.collapsed&&(n.addCaret(e),e=N.expand(e));var o=e.cloneRange();if(o.collapse(!1),n.end=a.create(r,"span",{className:"k-marker"}),o.insertNode(n.end),(o=e.cloneRange()).collapse(!0),n.start=n.end.cloneNode(!0),o.insertNode(n.start),n._removeDeadMarkers(n.start,n.end),i){var s=r.createTextNode("\ufeff");a.insertAfter(s.cloneNode(),n.start),a.insertBefore(s,n.end)}return u(e.commonAncestorContainer),e.setStartBefore(n.start),e.setEndAfter(n.end),e},_removeDeadMarkers:function(e,t){e.previousSibling&&"\ufeff"==e.previousSibling.nodeValue&&a.remove(e.previousSibling),t.nextSibling&&"\ufeff"==t.nextSibling.nodeValue&&a.remove(t.nextSibling)},_normalizedIndex:function(e){var t=s(e);var n=e;for(;n.previousSibling;)3==n.nodeType&&3==n.previousSibling.nodeType&&t--,n=n.previousSibling;return t},remove:function(e){var t,n,i=this,r=i.start,o=i.end;for(u(e.commonAncestorContainer);!r.nextSibling&&r.parentNode;)r=r.parentNode;for(;!o.previousSibling&&o.parentNode;)o=o.parentNode;t=r.previousSibling&&3==r.previousSibling.nodeType&&r.nextSibling&&3==r.nextSibling.nodeType,n=o.previousSibling&&3==o.previousSibling.nodeType&&o.nextSibling&&3==o.nextSibling.nodeType;var s=(r=r.nextSibling)===(o=o.previousSibling)&&a.isBom(r);s&&r.length>1&&(r.nodeValue=r.nodeValue.charAt(0));var d=s;var c=!1;if(r==i.end&&(c=!!i.start.previousSibling,r=o=i.start.previousSibling||i.end.nextSibling,d=!0),a.remove(i.start),a.remove(i.end),!r||!o)return e.selectNodeContents(e.commonAncestorContainer),void e.collapse(!0);var p=d?l(r)?r.nodeValue.length:r.childNodes.length:0;var f=l(o)?o.nodeValue.length:o.childNodes.length;if(3==r.nodeType)for(;r.previousSibling&&3==r.previousSibling.nodeType;)p+=(r=r.previousSibling).nodeValue.length;if(3==o.nodeType)for(;o.previousSibling&&3==o.previousSibling.nodeType;)f+=(o=o.previousSibling).nodeValue.length;var m=r.parentNode;var h=o.parentNode;var g=this._normalizedIndex(r);var v=this._normalizedIndex(o);u(m),3==r.nodeType&&(r=m.childNodes[g]),u(h),3==o.nodeType&&(o=h.childNodes[v]),d?(3==r.nodeType?e.setStart(r,p):e[c?"setStartAfter":"setStartBefore"](r),e.collapse(!0)):(3==r.nodeType?e.setStart(r,p):e.setStartBefore(r),3==o.nodeType?e.setEnd(o,f):e.setEndAfter(o)),i.caret&&i.removeCaret(e)}});var T=/[\u0009-\u000d]|\u0020|\u00a0|\ufeff|\.|,|;|:|!|\(|\)|\?/;var N={nodes:function(e){var t=N.textNodes(e);return t.length||(e.selectNodeContents(e.commonAncestorContainer),(t=N.textNodes(e)).length||(t=a.significantChildNodes(e.commonAncestorContainer))),t},textNodes:function(e){return new w(e).enumerate().filter((function(e){return a.allowsTextContent(e.parentElement)}))},editableTextNodes:function(e){var t=r.Immutables&&r.Immutables.immutableParent,n=[];return t&&!t(e.commonAncestorContainer)&&(n=new k(e).enumerate().filter((function(e){return a.allowsTextContent(e.parentElement)}))),n},documentFromRange:function(e){var t=e.startContainer;return 9==t.nodeType?t:t.ownerDocument},createRange:function(e){return e.createRange()},selectRange:function(e){var t=N.image(e);t&&(e.setStartAfter(t),e.setEndAfter(t));var n=p.selectionFromRange(e);n.removeAllRanges(),n.addRange(e)},stringify:function(e){return t.format("{0}:{1} - {2}:{3}",a.name(e.startContainer),e.startOffset,a.name(e.endContainer),e.endOffset)},split:function(e,t,n){function i(i){var r=e.cloneRange();r.collapse(i),r[i?"setStartBefore":"setEndAfter"](t);var o=r.extractContents();n&&(o=a.trim(o)),a[i?"insertBefore":"insertAfter"](o,t)}i(!0),i(!1)},mapAll:function(t,n){var i=[];return new g(t).traverse((function(t){var r=n(t);r&&e.inArray(r,i)<0&&i.push(r)})),i},getAll:function(e,t){var n=t;return"string"==typeof t&&(t=function(e){return a.is(e,n)}),N.mapAll(e,(function(e){if(t(e))return e}))},getMarkers:function(e){return N.getAll(e,(function(e){return"k-marker"==e.className}))},image:function(e){var t=N.getAll(e,"img");if(1==t.length)return t[0]},isStartOf:function(e,t){if(0!==e.startOffset)return!1;var n=e.cloneRange();for(;0===n.startOffset&&n.startContainer!=t;){var i=a.findNodeIndex(n.startContainer);var r=n.startContainer.parentNode;for(;i>0&&r[i-1]&&a.insignificant(r[i-1]);)i--;n.setStart(r,i)}return 0===n.startOffset&&n.startContainer==t},isEndOf:function(e,t){var n=e.cloneRange();n.collapse(!1);var i=n.startContainer;a.isDataNode(i)&&n.startOffset==a.getNodeLength(i)&&(n.setStart(i.parentNode,a.findNodeIndex(i)+1),n.collapse(!0)),n.setEnd(t,a.getNodeLength(t));var r=[];return new g(n).traverse((function(e){a.insignificant(e)||a.isDataNode(e)&&/^[\ufeff]*$/.test(e.nodeValue)||r.push(e)})),!r.length},wrapSelectedElements:function(e){var t=a.editableParent(e.startContainer);var n=a.editableParent(e.endContainer);for(;0===e.startOffset&&e.startContainer!=t;)e.setStart(e.startContainer.parentNode,a.findNodeIndex(e.startContainer));function i(e,t){var n=a.getNodeLength(t);if(e==n)return!0;for(var i=e;i<n;i++)if(!a.insignificant(t.childNodes[i]))return!1;return!0}for(;i(e.endOffset,e.endContainer)&&e.endContainer!=n;)e.setEnd(e.endContainer.parentNode,a.findNodeIndex(e.endContainer)+1);return e},expand:function(e){var t=e.cloneRange();var n=t.startContainer.childNodes[0===t.startOffset?0:t.startOffset-1];var i=t.endContainer.childNodes[t.endOffset];if(!l(n)||!l(i))return t;var r=n.nodeValue;var o=i.nodeValue;if(!r||!o)return t;var a=r.split("").reverse().join("").search(T);var s=o.search(T);return a&&s?(s=-1==s?o.length:s,a=-1==a?0:r.length-a,t.setStart(n,a),t.setEnd(i,s),t):t},isExpandable:function(e){var t=e.startContainer;var n=N.documentFromRange(e);if(t==n||t==n.body)return!1;var i=e.cloneRange();var r=t.nodeValue;if(!r)return!1;var o=r.substring(0,i.startOffset);var a=r.substring(i.startOffset);var s=0,l=0;return o&&(s=o.split("").reverse().join("").search(T)),a&&(l=a.search(T)),s&&l}};i(r,{SelectionUtils:p,W3CRange:f,RangeIterator:g,W3CSelection:v,RangeEnumerator:w,RestorePoint:x,Marker:_,RangeUtils:N})}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.Class,i=t.ui.editor,r=i.Dom,o=t.template,a=i.RangeUtils,s=["ul","ol","tbody","thead","table"],l="k-immutable",d="["+l+"]";var c=function(t){return e(t).is("body,.k-editor")};var u=function(e){return e.getAttribute&&"false"==e.getAttribute("contenteditable")};var p=function(e){return r.closestBy(e,u,c)};var f=function(e){return!!p(e.commonAncestorContainer)||!(!p(e.startContainer)&&!p(e.endContainer)||0!==a.editableTextNodes(e).length)};var m=function(e){var t="";var n="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(var i=e||10;i>0;--i)t+=n.charAt(Math.round(61*Math.random()));return t};var h=function(e){var t=e?e.options:undefined;t&&t.finder&&t.finder._initOptions({immutables:!0})};var g=n.extend({init:function(n){this.editor=n,this.serializedImmutables={},this.options=e.extend({},n&&n.options&&n.options.immutables);var i=t.ui.Editor.defaultTools;h(i.justifyLeft),h(i.justifyCenter),h(i.justifyRight),h(i.justifyFull)},serialize:function(e){var t,n=this._toHtml(e);return-1===n.indexOf(l)?(t=this.randomId(),n=n.replace(/>/," "+l+'="'+t+'">')):t=n.match(/k-immutable\s*=\s*['"](.*)['"]/)[1],this.serializedImmutables[t]=e,n},_toHtml:function(e){var t=this.options.serialization;var n;switch(typeof t){case"string":return o(t)(e);case"function":return t(e);default:return"<"+(n=r.name(e))+"></"+n+">"}},deserialize:function(n){var i=this;var r=this.options.deserialization;e(d,n).each((function(){var n=this.getAttribute(l);var o=i.serializedImmutables[n];t.isFunction(r)&&r(this,o),e(this).replaceWith(o)})),i.serializedImmutables={}},randomId:function(e){return m(e)},keydown:function(e,n){var i=(r=e.keyCode,o=t.keys,r===o.BACKSPACE||r==o.DELETE);var r,o;if(i&&this._cancelDeleting(e,n)||!i&&this._cancelTyping(e,n))return e.preventDefault(),!0},_cancelTyping:function(e,t){var n=this.editor.keyboard;return t.collapsed&&!n.typingInProgress&&n.isTypingKey(e)&&f(t)},_cancelDeleting:function(e,n){var i=t.keys;var o=e.keyCode===i.BACKSPACE;var a=e.keyCode==i.DELETE;if(!o&&!a)return!1;var l=!1;if(n.collapsed){if(f(n))return!0;var d=this.nextImmutable(n,a);if(d&&o){var c=r.closest(n.commonAncestorContainer,"li");if(c){var u=r.closest(d,"li");if(u&&u!==c)return l}}if(d&&!r.tableCell(d)){if(r.parentOfType(d,s)===r.parentOfType(n.commonAncestorContainer,s)){for(;d&&1==d.parentNode.childNodes.length;)d=d.parentNode;if(r.tableCell(d))return l;this._removeImmutable(d,n)}l=!0}}return l},nextImmutable:function(e,t){var n=e.commonAncestorContainer;if(r.isBom(n)||t&&a.isEndOf(e,n)||!t&&a.isStartOf(e,n)){var i=this._nextNode(n,t);if(i&&r.isBlock(i)&&!p(i))for(;i&&i.children&&i.children[t?0:i.children.length-1];)i=i.children[t?0:i.children.length-1];return p(i)}},_removeImmutable:function(e,t){var n=this.editor;var o=new i.RestorePoint(t,n.body);r.remove(e),i._finishUpdate(n,o)},_nextNode:function(e,t){var n=t?"nextSibling":"previousSibling";var i,o=e;for(;o&&!i&&!r.isChildOfBaseContainer(o);)(i=o[n])&&r.isDataNode(i)&&/^\s|[\ufeff]$/.test(i.nodeValue)&&(i=(o=i)[n]),i||(o=o.parentNode);return i}});g.immutable=u,g.immutableParent=p,g.expandImmutablesIn=function(e){var t=p(e.startContainer);var n=p(e.endContainer);(t||n)&&(t&&e.setStartBefore(t),n&&e.setEndAfter(n))},g.immutablesContext=f,g.toolsToBeUpdated=["bold","italic","underline","strikethrough","superscript","subscript","forecolor","backcolor","fontname","fontsize","createlink","unlink","autolink","addcolumnleft","addcolumnright","addrowabove","addrowbelow","deleterow","deletecolumn","mergecells","formatting","cleanformatting"],g.removeImmutables=function(t){var n,i,o,a={empty:!0};return e(t).find("[contenteditable='false']").each((function(t,s){n=r.name(s),i=m(),o="<"+n+" "+l+"='"+i+"'></"+n+">",a[i]={node:s,style:e(s).attr("style")},a.empty=!1,e(s).replaceWith(o)})),a},g.restoreImmutables=function(t,n){var i,r;e(t).find(d).each((function(t,o){i=o.getAttribute(l),r=n[i],e(o).replaceWith(r.node),r.style!=e(r.node).attr("style")&&e(r.node).removeAttr("style").attr("style",r.style)}))},i.Immutables=g}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.Class,i=t.ui.editor,r=i.Dom,o=i.RestorePoint,a=i.Marker,s=e.extend;var l=n.extend({init:function(e){this.options=e,this.restorePoint=new o(e.range,e.body,{immutables:e.immutables}),this.marker=new a,this.formatter=e.formatter},getRange:function(){return this.restorePoint.toRange()},lockRange:function(e){return this.marker.add(this.getRange(),e)},releaseRange:function(e){this.marker.remove(e),this.editor.selectRange(e)},undo:function(){var e=this.restorePoint;e.restoreHtml(),this.editor.selectRange(e.toRange())},redo:function(){this.exec()},createDialog:function(n,i){var r=this.editor;return e(n).appendTo(document.body).kendoWindow(s({},r.options.dialogOptions,i)).closest(".k-window").addClass("k-editor-window").toggleClass("k-rtl",t.support.isRtl(r.wrapper)).end()},exec:function(){var e=this.lockRange(!0);this.formatter.editor=this.editor,this.formatter.toggle(e),this.releaseRange(e)},postExec:function(){this.editor._handleSpaceAndNewLines()},immutables:function(){return this.editor&&this.editor.options.immutables},expandImmutablesIn:function(e){this.immutables()&&(t.ui.editor.Immutables.expandImmutablesIn(e),this.restorePoint=new o(e,this.editor.body))},_actionButtonsTemplate:function({messages:e,insertButtonIcon:n,cancelButtonIcon:i}){return'<div class="k-actions k-actions-start k-actions-horizontal k-window-buttons">'+t.html.renderButton(`<button class="k-dialog-insert">${e.dialogInsert}</button>`,{themeColor:"primary",icon:n})+t.html.renderButton(`<button class="k-dialog-close">${e.dialogCancel}</button>`,{icon:i})+"</div>"}});var d=n.extend({init:function(e,t){this.body=e.body,this.startRestorePoint=e,this.endRestorePoint=t},redo:function(){r.removeChildren(this.body),this.body.innerHTML=this.endRestorePoint.html,this.editor.selectRange(this.endRestorePoint.toRange())},undo:function(){r.removeChildren(this.body),this.body.innerHTML=this.startRestorePoint.html,this.editor.selectRange(this.startRestorePoint.toRange())}});s(i,{_finishUpdate:function(e,t){var n=e.selectionRestorePoint=new o(e.getRange(),e.body);var i=new d(t,n);return i.editor=e,e.undoRedoStack.push(i),e._refreshTools(),n},Command:l,GenericCommand:d})}(window.kendo.jQuery),function(e,t){var n=window.kendo,i=e.extend,r=n.ui.editor,o=r.EditorUtils,a=r.Command,s=r.Tool,l=r.Dom;var d=a.extend({init:function(e){var t=this;t.options=e,a.fn.init.call(t,e),t.attributes=null,t.async=!0},exec:function(){var i,r,a=this,s=a.editor,c=s.options,u=s.options.messages,p=e(n.template(d.template)(u)).appendTo(document.body),f=".k-editor-textarea > textarea";function m(e){e.preventDefault(),p.data("kendoWindow").destroy(),s.immutables&&(s.immutables.serializedImmutables={}),s.focus()}c.serialization.immutables=s.immutables,r=l.getAllComments(s.body),i=o.cacheComments(s.value(),r),i=d.indent(i),i=o.retrieveComments(i,r),c.serialization.immutables=t;let h=this.createDialog(p,{title:u.viewHtml,_footerTemplate:d._footerTemplate,_footerMessages:u,width:600,height:400,resizable:!0,close:m,visible:!1}).find(f).val(i).end().data("kendoWindow");h.center().open(),h.wrapper.find(".k-dialog-update").on("click",(function(e){c.deserialization.immutables=s.immutables,s.value(p.find(f).val()),c.deserialization.immutables=t,m(e),a.change&&a.change(),s.trigger("change")})).end(),h.wrapper.find(".k-dialog-close").on("click",m).end(),p.find(f).trigger("focus")}});i(d,{template:()=>'<div class="k-editor-dialog k-popup-edit-form k-viewhtml-dialog"><span class="k-input k-textarea k-input-solid k-input-md k-rounded-md k-editor-textarea"><textarea class="k-input-inner !k-overflow-auto !k-resize-none"></textarea></span></div>',_footerTemplate:({dialogUpdate:e,dialogCancel:t})=>'<div class="k-actions k-actions-start k-actions-horizontal k-window-actions">'+n.html.renderButton(`<button class="k-dialog-update">${n.htmlEncode(e)}</button>`,{themeColor:"primary",icon:"check"})+n.html.renderButton(`<button class="k-dialog-close">${n.htmlEncode(t)}</button>`,{icon:"cancel-outline"})+"</div>",indent:function(e){return e.replace(/<\/(p|li|ul|ol|h[1-6]|table|tr|td|th)>/gi,"</$1>\n").replace(/<(ul|ol)([^>]*)><li/gi,"<$1$2>\n<li").replace(/<br \/>/gi,"<br />\n").replace(/\n$/,"")}}),n.ui.editor.ViewHtmlCommand=d,r.EditorUtils.registerTool("viewHtml",new s({command:d}))}(window.kendo.jQuery),function(e){var t=window.kendo,n=e.extend,i=t.ui.editor,r=i.Tool,o=i.Command,a=i.EditorUtils;var s=o.extend({init:function(e){e.formatter=e.formatter();var t=e.formatter.finder;t&&a.formatByName("immutable",t.format)&&(t._initOptions({immutables:e.immutables}),e.finder&&e.finder._initOptions({immutables:e.immutables})),o.fn.init.call(this,e)}});var l=r.extend({init:function(e){r.fn.init.call(this,e)},command:function(e){return new s(n(e,{formatter:this.options.formatter,finder:this.options.finder}))},update:function(e,t){var n=this.options.finder.isFormatted(t),i=e.closest(".k-toolbar").getKendoToolBar();i&&e.getKendoToggleButton()&&i.toggle(e,n)}});e.extend(i,{FormatCommand:s,FormatTool:l})}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.Class,i=t.ui.editor,r=t.ui.Editor.fn.options.formats,o=i.Tool,a=i.FormatTool,s=i.Dom,l=i.RangeUtils,d=e.extend,c=i.EditorUtils.registerTool,u=i.EditorUtils.registerFormat,p="mousedown.kendoEditor",f="k-marker";var m=n.extend({init:function(e){this.format=e},numberOfSiblings:function(e){var t,n=0,i=0,r=0,o=e.parentNode;for(t=o.firstChild;t;t=t.nextSibling)t!=e&&(t.className==f?r++:3==t.nodeType?n++:i++);return r>1&&o.firstChild.className==f&&o.lastChild.className==f?0:i+n},findSuitable:function(e,t){if(!t&&this.numberOfSiblings(e)>0)return null;var n=e.parentNode;var i=this.format[0].tags;for(;!s.ofType(n,i);){if(this.numberOfSiblings(n)>0)return null;n=n.parentNode}return n},findFormat:function(e){var t,n,i,r,o,a=this.format,l=s.attrEquals;for(t=0,n=a.length;t<n;t++){if(i=e,r=a[t].tags,o=a[t].attr,i&&s.ofType(i,r)&&l(i,o))return i;for(;i;)if((i=s.parentOfType(i,r))&&l(i,o))return i}return null},isFormatted:function(e){var t,n;for(t=0,n=e.length;t<n;t++)if(this.findFormat(e[t]))return!0;return!1}});var h=n.extend({init:function(e,t){this.finder=new m(e),this.attributes=d({},e[0].attr,t),this.tag=e[0].tags[0]},wrap:function(e){return s.wrap(e,s.create(e.ownerDocument,this.tag,this.attributes))},activate:function(e,t){this.finder.isFormatted(t)?(this.split(e),this.remove(t)):this.apply(t)},toggle:function(e){var t=(this.immutables()?l.editableTextNodes:l.textNodes)(e);t.length>0&&this.activate(e,t)},immutables:function(){return this.editor&&this.editor.options.immutables},apply:function(e){var t=[];var n,i,r,o;if(e.length>1)for(n=0,i=e.length;n<i;n++)r=e[n],o=this.format(r,!0),t.push(o);else r=e[0],this.format(r,!1);this.consolidate(t)},format:function(e,t){var n=this.finder.findSuitable(e);var i=this.attributes;var r=i&&i.style||{};if(n)s.is(n,"font")&&(r.color&&n.removeAttribute("color"),r.fontName&&n.removeAttribute("face"),r.fontSize&&n.removeAttribute("size")),s.attr(n,i);else{if(t)for(;!s.isBlock(e.parentNode)&&1==e.parentNode.childNodes.length&&"true"!==e.parentNode.contentEditable;)e=e.parentNode;n=this.wrap(e)}return n},remove:function(e){var t,n,i;for(t=0,n=e.length;t<n;t++)(i=this.finder.findFormat(e[t]))&&(this.attributes&&this.attributes.style?(s.unstyle(i,this.attributes.style),i.style.cssText||i.attributes.class||s.unwrap(i)):s.unwrap(i))},split:function(e){var t=l.textNodes(e);var n=t.length;var i,r;if(n>0)for(i=0;i<n;i++)(r=this.finder.findFormat(t[i]))&&l.split(e,r,!0)},consolidate:function(e){var t,n;for(;e.length>1;)if(t=e.pop(),n=e[e.length-1],t.previousSibling&&t.previousSibling.className==f&&n.appendChild(t.previousSibling),t.tagName==n.tagName&&t.previousSibling==n&&t.style.cssText==n.style.cssText&&t.className===n.className){for(;t.firstChild;)n.appendChild(t.firstChild);s.remove(t)}}});var g=m.extend({init:function(e,t,n,i){this.format=e,this.greedyProperty=t,this.fontAttr=n,this.defaultValue=i,m.fn.init.call(this,e)},getInlineCssValue:function(e){var n=e.attributes;var i=t.trim;var r,o,a,l,d,c,u,p,f;var m,h,g;if(n)for(r=0,o=n.length;r<o;r++){if(l=(a=n[r]).nodeName,d=a.nodeValue,a.specified&&"style"==l)for(p=0,f=(c=i(d||e.style.cssText).split(";")).length;p<f;p++)if((u=c[p]).length){if(h=i((m=u.split(":"))[0].toLowerCase()),g=i(m[1]),h!=this.greedyProperty)continue;return h.indexOf("color")>=0?s.toHex(g):g}if(this.fontAttr&&a.specified&&l==this.fontAttr)return h=a.nodeValue,g=a.nodeValue,h.indexOf("color")>=0?s.toHex(g):g}},getFormatInner:function(t){var n=e(s.isDataNode(t)?t.parentNode:t).parentsUntil("[contentEditable]").addBack().toArray().reverse();var i,r,o;for(i=0,r=n.length;i<r;i++)if(o="className"==this.greedyProperty?n[i].className:this.getInlineCssValue(n[i]))return o;return this.defaultValue||"inherit"},getFormat:function(e){var t,n,i=this.getFormatInner(e[0]);for(t=1,n=e.length;t<n;t++)if(i!=this.getFormatInner(e[t]))return"";return i},isFormatted:function(e){return""!==this.getFormat(e)}});var v=h.extend({init:function(e,n,i){h.fn.init.call(this,e,n),this.values=n,this.finder=new g(e,i),i&&(this.greedyProperty=t.toCamelCase(i))},activate:function(e,t){var n=this.greedyProperty;var i="apply";this.split(e),n&&"inherit"==this.values.style[n]&&(i="remove"),this[i](t)}});var b=a.extend({init:function(e){a.fn.init.call(this,d(e,{finder:new m(e.format),formatter:function(){return new h(e.format)}}))}});var y=o.extend({update:function(e,t){var n=e.data(this.type);n.close(),n.value(this.finder.getFormat(t))}});var w=y.extend({init:function(e){o.fn.init.call(this,e),this.type="kendoComboBox",this.format=[{tags:["span","font"]}],this.finder=new g(this.format,e.cssAttr,e.fontAttr)},command:function(e){var t=this.options,n=this.format,r={};return new i.FormatCommand(d(e,{formatter:function(){return r[t.domAttr]=e.value,new v(n,{style:r},t.cssAttr)}}))},initialize:function(e,n){var i,r,a=this.options,s=a.name,l=e.data("kendoComboBox"),d=[];l&&(a.defaultValue&&(d=[{text:n.options.messages[a.defaultValue[0].text],value:a.defaultValue[0].value}]),i=d.concat(a.items?a.items:n.options[s]||[]),l.setDataSource(i),l.bind("change",(e=>{n._range=r,""!==e.sender.value()&&o.exec(n,s,e.sender.value())})),l.bind("close",(()=>{setTimeout((function(){n._deleteSavedRange()}),0)})),l.value("inherit"),l.wrapper.on(p,".k-select,.k-input-button,.k-input",(function(){var e=n.getRange();r=n._containsRange(e)?e:r})).on("keydown.kendoEditor",(function(e){e.keyCode===t.keys.ENTER&&(n._deleteSavedRange(),e.preventDefault())})))}});var C=o.extend({init:function(e){o.fn.init.call(this,e),this.format=[{tags:["span","font"]}],this.finder=new g(this.format,e.cssAttr)},options:{palette:"websafe",columns:18},update:function(){this._widget.close()},command:function(e){var t=this.options,n=this.format,r={};return new i.FormatCommand(d(e,{formatter:function(){return r[t.domAttr]=e.value,new v(n,{style:r},t.cssAttr)}}))},initialize:function(t,n){var i=this,r=i.options.name,a=this._widget=t.getKendoColorPicker();a&&(a.bind("change",(()=>{var e=a.value();e&&o.exec(n,r,e),delete i.storedRange,delete i._inputFocused,n.focus()})),a.bind("open",(()=>{i.storedRange=n.getRange(),a._popup.element.on(p,(function(t){e(t.target).is("input.k-color-value")||t.preventDefault()})),a._popup.element.is("[unselectable='on']")||a._popup.element.attr({unselectable:"on"}).find("*:not(input)").attr("unselectable","on").end().find("input").on("focus",(function(){i._inputFocused=!0})),a._popup.one("activate",(()=>{a._popup.element.find(".k-colorpalette").trigger("focus")}))})),a.bind("close",(e=>{a._popup.element.off(p)})),a.unbind("activate").bind("activate",(e=>{a._value&&"rgba(255, 255, 255, 0)"!==a._value.toCssRgba()&&a.trigger("change")})),a.wrapper.attr({unselectable:"on"}).find("*:not(input)").attr("unselectable","on"),a.value("transparent"))}});d(i,{InlineFormatFinder:m,InlineFormatter:h,DelayedExecutionTool:y,GreedyInlineFormatFinder:g,GreedyInlineFormatter:v,InlineFormatTool:b,FontTool:w,ColorTool:C}),u("bold",[{tags:["strong","b"]},{tags:["span"],attr:{style:{fontWeight:"bold"}}}]),c("bold",new b({key:"B",ctrl:!0,format:r.bold,ui:{togglable:!0}})),u("italic",[{tags:["em","i"]},{tags:["span"],attr:{style:{fontStyle:"italic"}}}]),c("italic",new b({key:"I",ctrl:!0,format:r.italic,ui:{togglable:!0}})),u("underline",[{tags:["span"],attr:{style:{textDecoration:"underline"}}},{tags:["u"]}]),c("underline",new b({key:"U",ctrl:!0,format:r.underline,ui:{togglable:!0}})),u("strikethrough",[{tags:["del","strike"]},{tags:["span"],attr:{style:{textDecoration:"line-through"}}}]),c("strikethrough",new b({format:r.strikethrough,ui:{togglable:!0}})),u("superscript",[{tags:["sup"]}]),c("superscript",new b({format:r.superscript,ui:{togglable:!0}})),u("subscript",[{tags:["sub"]}]),c("subscript",new b({format:r.subscript,ui:{togglable:!0}})),c("foreColor",new C({cssAttr:"color",fontAttr:"color",domAttr:"color",name:"foreColor",ui:{type:"component",overflow:"never",component:"ColorPicker",componentOptions:{views:["palette"],toolIcon:"foreground-color",palette:"websafe",columns:18,preview:!1,input:!1,buttons:!1,commandOn:"change",closeOnSelect:!0}}})),c("backColor",new C({cssAttr:"background-color",domAttr:"backgroundColor",name:"backColor",ui:{type:"component",overflow:"never",component:"ColorPicker",componentOptions:{views:["palette"],toolIcon:"droplet",palette:"websafe",columns:18,preview:!1,input:!1,buttons:!1,commandOn:"change",closeOnSelect:!0}}})),c("fontName",new w({cssAttr:"font-family",fontAttr:"face",domAttr:"fontFamily",name:"fontName",defaultValue:[{text:"fontNameInherit",value:"inherit"}],ui:{type:"component",component:"ComboBox",componentOptions:{dataValueField:"value",dataTextField:"text",valuePrimitive:!0},overflow:"never"}})),c("fontSize",new w({cssAttr:"font-size",fontAttr:"size",domAttr:"fontSize",name:"fontSize",defaultValue:[{text:"fontSizeInherit",value:"inherit"}],ui:{type:"component",component:"ComboBox",componentOptions:{dataValueField:"value",dataTextField:"text",valuePrimitive:!0},overflow:"never"}}))}(window.kendo.jQuery),function(e,t){var n=window.kendo,i=n.htmlEncode,r=n.Class,o=e.extend,a=n.ui.editor,s=a.Dom,l=a.RangeUtils,d=a.Command,c=a.Tool,u=a.InlineFormatter,p=a.InlineFormatFinder,f=l.textNodes,m=l.editableTextNodes,h=a.EditorUtils.registerTool,g=n.keys;var v="http://";var b=/^\w*:\/\//;var y=/[\w\/\$\-_\*\?]/i;var w=r.extend({findSuitable:function(e){return s.parentOfType(e,["a"])}});var C=r.extend({init:function(){this.finder=new w},apply:function(e,t){var n=this.immutables?m(e):f(e);var i,r,o,a,d;if(t.innerText){r=l.documentFromRange(e),i=l.getMarkers(e),e.deleteContents(),a=s.create(r,"a",t),e.insertNode(a),d=a.parentNode,"a"==s.name(d)&&s.insertAfter(a,d),s.emptyNode(d)&&s.remove(d);var c=a;for(var p=0;p<i.length;p++)s.insertAfter(i[p],c),c=i[p];i.length&&(s.insertBefore(r.createTextNode("\ufeff"),i[1]||i[0]),s.insertAfter(r.createTextNode("\ufeff"),i[1]||i[0]),e.setStartBefore(i[0]),e.setEndAfter(i[i.length-1]))}else(o=new u([{tags:["a"]}],t)).finder=this.finder,o.apply(n)}});var k=d.extend({init:function(e){var t=this;e.formatter={toggle:function(e){var n=t.immutables()?m(e):f(e);new u([{tags:["a"]}]).remove(n)}},this.options=e,d.fn.init.call(this,e)}});var x=d.extend({init:function(e){var t;this.options=e,d.fn.init.call(this,e),this.formatter=new C,e.url?this.exec=function(){this.formatter.immutables=t,this.formatter.apply(e.range,{href:e.url,innerText:e.text||e.url,target:e.target})}:(this.attributes=null,this.async=!0)},exec:function(){var t=this.editor.options.messages;this._initialText="",this._range=this.lockRange(!0),this.formatter.immutables=this.immutables();var n=f(this._range);var i=n.length?this.formatter.finder.findSuitable(n[0]):null;var r=n.length&&"img"==s.name(n[0]);var o=this.createDialog("<div/>",{title:t.createLink,minWidth:340,close:this._close.bind(this),visible:!1}).data("kendoWindow");this._form=this._createForm(o),i&&(this._range.selectNodeContents(i),n=f(this._range)),this._initialText=this.linkText(n),o.wrapper.find(".k-dialog-insert").on("click",this._apply.bind(this)).end().find(".k-dialog-close").on("click",this._close.bind(this)).end().find(".k-form-field input").on("keydown",this._keydown.bind(this)).end().find("#k-editor-link-url").val(this.linkUrl(i)).end().find("#k-editor-link-text").val(this._initialText).end().find("#k-editor-link-title").val(i?i.title:"").end().find("#k-editor-link-target").prop("checked",!!i&&"_blank"==i.target).end().find(".k-editor-link-text-row").toggle(!r),this._dialog=o.center().open(),e("#k-editor-link-url",o.element).trigger("focus").select()},_createForm:function(t){var n=e("<div/>").appendTo(t.element);var r=this.editor.options.messages;var o=n.kendoForm({renderButtons:!1,items:[{field:"k-editor-link-url",label:i(r.linkWebAddress),title:i(r.linkWebAddress),editor:"TextBox"},{field:"k-editor-link-text",label:i(r.linkText),title:i(r.linkText),editor:"TextBox"},{field:"k-editor-link-title",label:i(r.linkToolTip),title:i(r.linkToolTip),editor:"TextBox"},{field:"k-editor-link-target",editorOptions:{label:i(r.linkOpenInNewWindow)},label:"",title:i(r.linkOpenInNewWindow),editor:"CheckBox"}]}).data("kendoForm");return n.find("#k-editor-link-text").parents(".k-form-field").addClass("k-editor-link-text-row"),t.element.after(e(this._actionButtonsTemplate({messages:r,insertButtonIcon:"link",cancelButtonIcon:"cancel-outline"}))),o},_keydown:function(e){var t=n.keys;e.keyCode==t.ENTER?this._apply(e):e.keyCode==t.ESC&&this._close(e)},_apply:function(t){var i=this._dialog.element;var r=e("#k-editor-link-url",i).val();var o,a,l;var d=e("#k-editor-link-text",i);r&&r!=v&&(r.indexOf("@")>0&&!/^(\w+:)|(\/\/)/i.test(r)&&(r="mailto:"+r),this.attributes={href:r},(o=e("#k-editor-link-title",i).val())&&(this.attributes.title=o),d.is(":visible")&&((a=n.trim(d.val()))||this._initialText?a&&a!==this._initialText&&(this.attributes.innerText=s.stripBom(a)):this.attributes.innerText=r),l=e("#k-editor-link-target",i).is(":checked"),this.attributes.target=l?"_blank":null,this.formatter.apply(this._range,this.attributes)),this._close(t),this.change&&this.change()},_close:function(e){e.preventDefault(),this._form.destroy(),this._dialog.destroy(),s.windowFromDocument(l.documentFromRange(this._range)).focus(),this.releaseRange(this._range)},linkUrl:function(e){return e?e.getAttribute("href",2):v},linkText:function(e){var t="";var n;for(n=0;n<e.length;n++)t+=e[n].nodeValue;return s.stripBom(t||"")},redo:function(){var e=this.lockRange(!0);this.formatter.apply(e,this.attributes),this.releaseRange(e)}});var _=d.extend({init:function(e){d.fn.init.call(this,e),this.formatter=new C},exec:function(){var e=this.detectLink();if(e){var t=this.getRange();var i=new n.ui.editor.Marker;var r=t.cloneRange();r.setStart(e.start.node,e.start.offset),r.setEnd(e.end.node,e.end.offset),t=this.lockRange(),i.add(r),this.formatter.apply(r,{href:this._ensureWebProtocol(e.text)}),i.remove(r),this.releaseRange(t)}},detectLink:function(){var e=this.getRange();var t=e.startContainer;var n=e.startOffset;!t.previousSibling&&(s.isBom(t)&&!t.nextSibling||!n&&s.isDataNode(t))&&(t=t.parentNode,n=0);var i=new E({node:t,offset:n,cancelAtNode:function(e){return e&&"a"===s.name(e)}});return new N(i).detectLink()},changesContent:function(){return!!this.detectLink()},_ensureWebProtocol:function(e){return this._hasProtocolPrefix(e)?e:this._prefixWithWebProtocol(e)},_hasProtocolPrefix:function(e){return b.test(e)},_prefixWithWebProtocol:function(e){return v+e}});var T=c.extend({init:function(t){this.options=t,this.finder=new p([{tags:["a"]}]),c.fn.init.call(this,e.extend(t,{command:k}))},update:function(e,t){var n=this.finder.isFormatted(t),i=e.closest(".k-toolbar").data("kendoToolBar");n?i.enable(e,!0):i.enable(e,!1)}});var N=r.extend({init:function(e){this.traverser=e,this.start=R(),this.end=R(),this.text=""},detectLink:function(){var e=this.traverser.node;var t=this.traverser.offset;if(s.isDataNode(e)){var n=e.data.substring(0,t);if(/\s{2}$/.test(s.stripBom(n)))return}else if(0===t){var i=s.closestEditableOfType(e,s.blockElements);i&&i.previousSibling&&this.traverser.init({node:i.previousSibling})}if(this.traverser.traverse(this._detectEnd.bind(this)),!this.end.blank()&&(this.traverser=this.traverser.clone(this.end),this.traverser.traverse(this._detectStart.bind(this)),!this._isLinkDetected())){var r=this.traverser.extendOptions(this.start);new z(r).traverse(this._skipStartPuntuation.bind(this)),this._isLinkDetected()||(this.start=R())}return this.start.blank()?null:{start:this.start,end:this.end,text:this.text}},_isLinkDetected:function(){return b.test(this.text)||/^w{3}\./i.test(this.text)},_detectEnd:function(e,t){var n=S(e,y);if(n>-1)return this.end.node=t,this.end.offset=n+1,!1},_detectStart:function(e,t){var n=S(e,/\s/);var i=n+1;if(this.text=e.substring(i)+this.text,this.start.node=t,this.start.offset=i,n>-1)return!1},_skipStartPuntuation:function(e,t,n){var i=(r=/\w/.exec(e))?r.index:-1;var r;var o=i;if(-1===i&&(o=e.length),this.text=this.text.substring(o),this.start.node=t,this.start.offset=o+(0|n),i>-1)return!1}});function S(e,t){var n=e.length;for(;n--&&!t.test(e[n]););return n}var R=function(){return{node:null,offset:null,blank:function(){return null===this.node&&null===this.offset}}};var A=r.extend({init:function(n){this.node=n.node,this.offset=n.offset===t?s.isDataNode(this.node)&&this.node.length||0:n.offset,this.cancelAtNode=n.cancelAtNode||this.cancelAtNode||e.noop},traverse:function(e){e&&(this.cancel=!1,this._traverse(e,this.node,this.offset))},_traverse:function(e,n,i){if(n&&!this.cancel){if(3!==n.nodeType){var r=this.edgeNode(n);return this.cancel=this.cancel||this.cancelAtNode(r),this._traverse(e,r)}var o=n.data;i!==t&&(o=this.subText(o,i)),this.cancel=!1===e(o,n,i);var a=this.next(n);if(!a){var l=n.parentNode;for(;!a&&s.isInline(l);)a=this.next(l),l=l.parentNode}this.cancel=this.cancel||this.cancelAtNode(a),this._traverse(e,a)}},extendOptions:function(t){return e.extend({node:this.node,offset:this.offset,cancelAtNode:this.cancelAtNode},t||{})},edgeNode:function(e){},next:function(e){},subText:function(e,t){}});var E=A.extend({subText:function(e,t){return e.substring(0,t)},next:function(e){return e.previousSibling},edgeNode:function(e){return e.lastChild},clone:function(e){var t=this.extendOptions(e);return new E(t)}});var z=A.extend({subText:function(e,t){return e.substring(t)},next:function(e){return e.nextSibling},edgeNode:function(e){return e.firstChild},clone:function(e){var t=this.extendOptions(e);return new z(t)}});o(n.ui.editor,{LinkFormatFinder:w,LinkFormatter:C,UnlinkCommand:k,LinkCommand:x,AutoLinkCommand:_,UnlinkTool:T,DomTextLinkDetection:N,LeftDomTextTraverser:E,RightDomTextTraverser:z}),h("createLink",new c({key:"K",ctrl:!0,command:x})),h("unlink",new T({key:"K",ctrl:!0,shift:!0,ui:{enable:!1}})),h("autoLink",new c({key:[g.ENTER,g.SPACEBAR],keyPressCommand:!0,command:_}))}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.Class,i=e.extend,r=t.ui.editor,o=t.ui.Editor.fn.options.formats,a=r.Dom,s=r.FormatTool,l=r.EditorUtils,d=l.registerTool,c=l.registerFormat,u=r.RangeUtils;var p=n.extend({init:function(e){this.format=e},contains:function(e,t){var n,i,r;for(n=0,i=t.length;n<i;n++)if(!(r=t[n])||!a.isAncestorOrSelf(e,r))return!1;return!0},findSuitable:function(t){var n,i,r,o=this.format,s=[];for(n=0,i=t.length;n<i;n++){for(var l=o.length-1;l>=0&&!(r=a.ofType(t[n],o[l].tags)?t[n]:a.closestEditableOfType(t[n],o[l].tags));l--);if(!r||"true"===r.contentEditable)return[];e.inArray(r,s)<0&&s.push(r)}for(this._resolveListsItems(s),n=0,i=s.length;n<i;n++)if(this.contains(s[n],s))return[s[n]];return s},_resolveListsItems:function(e){var t,n,i;for(t=0;t<e.length;t++)n=e[t],i=(i=a.is(n,"li")?n:a.wrapper(n))&&a.list(i)?i.children[0]:i,a.is(i,"li")&&(e[t]=i)},findFormat:function(e,t){var n,i,o,s,l,d=this.format;var c=a.editableParent(e);var u=this.options&&this.options.immutables;var p=r.Immutables;for(n=0,i=d.length;n<i;n++){if(o=e,s=d[n].tags,l=d[n].attr,u&&s&&"immutable"==s[0]){var f=p.immutableParent(o);if(f&&a.attrEquals(f,l))return o}for(;o&&a.isAncestorOf(c,o);){if(a.ofType(o,s)&&a.attrEquals(o,l))return o;if(t&&t(o))break;o=o.parentNode}}return null},getFormat:function(e){var t,n,i=this,r=function(e){return i.findFormat(a.isDataNode(e)?e.parentNode:e)},o=r(e[0]);if(!o)return"";for(t=1,n=e.length;t<n;t++)if(o!=r(e[t]))return"";return o.nodeName.toLowerCase()},isFormatted:function(e,t){for(var n=0,i=e.length;n<i;n++)if(!this.findFormat(e[n],t))return!1;return!0}});var f=n.extend({init:function(e,t){this.format=e,this.values=t,this.finder=new p(e)},wrap:function(e,t,n){var i=1==n.length?a.blockParentOrBody(n[0]):a.commonAncestor.apply(null,n);a.isInline(i)&&(i=a.blockParentOrBody(i));var r,o,s=a.significantChildNodes(i),l=a.findNodeIndex(s[0]),d=a.create(i.ownerDocument,e,t);for(r=0;r<s.length;r++)o=s[r],a.isBlock(o)?(a.attr(o,t),d.childNodes.length&&(a.insertBefore(d,o),d=d.cloneNode(!1)),l=a.findNodeIndex(o)+1):d.appendChild(o);d.firstChild&&a.insertAt(i,d,l)},apply:function(t){var n,r=this.values;function o(e){return i({},e&&e.attr,r)}this._handleImmutables(t,!0);var s=a.filter("img",t);var d=o(l.formatByName("img",this.format));if(e.each(s,(function(){a.attr(this,d)})),s.length!=t.length){var c=a.filter("img",t,!0);var u=this.finder.findSuitable(c);if(u.length)for(var p=0,f=u.length;p<f;p++)n=l.formatByName(a.name(u[p]),this.format),a.attr(u[p],o(n));else n=this.format[0],this.wrap(n.tags[0],o(n),c)}},_handleImmutables:function(e,t){if(this.immutables()){var n=l.formatByName("immutable",this.format);if(n){var i=r.Immutables;for(var o=e.length-1;o>=0;o--){var s=i.immutableParent(e[o]);s&&(s!==e[o+1]&&(t?a.attr(s,n.attr):a.unstyle(s,n.attr.style)),e.splice(o,1))}}}},immutables:function(){return this.editor&&this.editor.options.immutables},remove:function(e){var t,n,i,r,o;for(this._handleImmutables(e,!1),t=0,n=e.length;t<n;t++)(i=this.finder.findFormat(e[t]))&&(o=a.name(i),(r=l.formatByName(o,this.format)).attr.style&&a.unstyle(i,r.attr.style),r.attr.className&&a.removeClass(i,r.attr.className))},toggle:function(e){var t=this,n=a.filterBy(u.nodes(e),a.htmlIndentSpace,!0);t.finder.isFormatted(n)?t.remove(n):t.apply(n)}});var m=n.extend({init:function(e,t){var n=this;n.format=e,n.values=t,n.finder=new p(e)},apply:function(e){var t=this.format;var n=a.blockParents(e);var i=t[0].tags[0];var o,s,l,d,c;var u;var p;var m;if(n.length)for(o=0,s=n.length;o<s;o++)m=n[o],this.immutables()&&r.Immutables.immutableParent(m)||("li"==(p=a.name(m))?(l=m.parentNode,d=new r.ListFormatter(l.nodeName.toLowerCase(),i),(c=this.editor.createRange()).selectNode(n[o]),d.toggle(c)):i&&("td"==p||m.attributes.contentEditable)?new f(t,this.values).apply(m.childNodes):(u=a.changeTag(m,i),a.attr(u,t[0].attr)));else{var h=new f(t,this.values);h.editor=this.editor,h.apply(e)}},toggle:function(e){var t=u.textNodes(e);t.length||(e.selectNodeContents(e.commonAncestorContainer),(t=u.textNodes(e)).length||(t=a.significantChildNodes(e.commonAncestorContainer))),this.apply(t)},immutables:function(){return this.editor&&this.editor.options.immutables}});var h=s.extend({init:function(e){s.fn.init.call(this,i(e,{finder:new p(e.format),formatter:function(){return new f(e.format)}}))}});i(r,{BlockFormatFinder:p,BlockFormatter:f,GreedyBlockFormatter:m,BlockFormatTool:h});var g=["ul","ol","li"];c("justifyLeft",[{tags:a.nonListBlockElements,attr:{style:{textAlign:"left"}}},{tags:["img"],attr:{style:{float:"left",display:"",marginLeft:"",marginRight:""}}},{tags:["immutable"],attr:{style:{float:"left",display:"",marginLeft:"",marginRight:""}}},{tags:g,attr:{style:{textAlign:"left",listStylePosition:""}}}]),d("justifyLeft",new h({format:o.justifyLeft,ui:{togglable:!0,group:"align"}})),c("justifyCenter",[{tags:a.nonListBlockElements,attr:{style:{textAlign:"center"}}},{tags:["img"],attr:{style:{display:"block",marginLeft:"auto",marginRight:"auto",float:""}}},{tags:["immutable"],attr:{style:{display:"block",marginLeft:"auto",marginRight:"auto",float:""}}},{tags:g,attr:{style:{textAlign:"center",listStylePosition:"inside"}}}]),d("justifyCenter",new h({format:o.justifyCenter,ui:{togglable:!0,group:"align"}})),c("justifyRight",[{tags:a.nonListBlockElements,attr:{style:{textAlign:"right"}}},{tags:["img"],attr:{style:{float:"right",display:"",marginLeft:"",marginRight:""}}},{tags:["immutable"],attr:{style:{float:"right",display:"",marginLeft:"",marginRight:""}}},{tags:g,attr:{style:{textAlign:"right",listStylePosition:"inside"}}}]),d("justifyRight",new h({format:o.justifyRight,ui:{togglable:!0,group:"align"}})),c("justifyFull",[{tags:a.nonListBlockElements,attr:{style:{textAlign:"justify"}}},{tags:["img"],attr:{style:{display:"block",marginLeft:"auto",marginRight:"auto",float:""}}},{tags:["immutable"],attr:{style:{display:"block",marginLeft:"auto",marginRight:"auto",float:""}}},{tags:g,attr:{style:{textAlign:"justify",listStylePosition:""}}}]),d("justifyFull",new h({format:o.justifyFull,ui:{togglable:!0,group:"align"}}))}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.Class,i=e.extend,r=t.ui.editor,o=r.Dom,a=r.RangeUtils,s=r.Command,l=r.FormatTool,d=r.BlockFormatFinder,c=a.textNodes,u=r.EditorUtils.registerTool;var p=d.extend({init:function(e){this.tag=e.tag,this.attr=e.attr,this.altAttr=e.altAttr;var t=this.tags=["ul"==this.tag?"ol":"ul",this.tag];var n=[{tags:t,attr:this.attr}];this.altAttr&&n.push({tags:t,attr:this.altAttr}),d.fn.init.call(this,n)},matchesType:function(e){return o.attrEquals(e,this.attr)||this.altAttr&&o.attrEquals(e,this.altAttr)},isList:function(e){return o.list(e)},isFormatted:function(e){var t=[];var n,i;for(i=0;i<e.length;i++)(n=this.findFormat(e[i],this.isList))&&o.name(n)==this.tag&&this.matchesType(n)&&t.push(n);if(t.length<1)return!1;if(t.length!=e.length)return!1;for(i=0;i<t.length&&t[i].parentNode==n.parentNode;i++)if(t[i]!=n)return!1;return!0},findSuitable:function(e){var t=this.findFormat(e[0],this.isList);return t&&o.name(t)==this.tag?t:null}});var f=n.extend({init:function(t,n){var i=this;t=e.isPlainObject(t)?t:{tag:t,attr:null},i.tag=t.tag,i.attr=t.attr,i.finder=new p(t),i.unwrapTag=n},isList:function(e){return o.list(e)},immutables:function(){return this.editor&&!!this.editor.options.immutables},wrap:function(t,n){var i,a,s=o.create(t.ownerDocument,"li"),l=this.immutables()?r.Immutables.immutable:e.noop;for(i=0;i<n.length;i++)if(a=n[i],o.is(a,"li"))t.appendChild(a);else if(this.isList(a))for(;a.firstChild;)t.appendChild(a.firstChild);else if(o.is(a,"td")){for(;a.firstChild;)s.appendChild(a.firstChild);t.appendChild(s),a.appendChild(t),t=t.cloneNode(!1),s=s.cloneNode(!1)}else s.appendChild(a),o.isBlock(a)&&(t.appendChild(s),l(a)||o.unwrap(a),s=s.cloneNode(!1));s.firstChild&&t.appendChild(s)},containsAny:function(e,t){for(var n=0;n<t.length;n++)if(o.isAncestorOrSelf(e,t[n]))return!0;return!1},suitable:function(e,t){if("k-marker"==e.className){var n=e.nextSibling;if(n&&o.isBlock(n))return!1;if((n=e.previousSibling)&&o.isBlock(n))return!1}return this.containsAny(e,t)||o.isInline(e)||3==e.nodeType},_parentLists:function(t){var n=o.closestEditable(t);return e(t).parentsUntil(n,"ul,ol")},split:function(e){var t=c(e);var n,i,r;if(t.length){n=o.parentOfType(t[0],["li"]),i=o.parentOfType(t[t.length-1],["li"]),e.setStartBefore(n),e.setEndAfter(i);for(var s=0,l=t.length;s<l;s++){var d=this.finder.findFormat(t[s]);d&&((r=this._parentLists(d)).length?a.split(e,r.last()[0],!0):a.split(e,d,!0))}}},merge:function(e,t){var n,i=t.previousSibling;for(;i&&("k-marker"==i.className||3==i.nodeType&&o.isWhitespace(i));)i=i.previousSibling;if(i&&o.name(i)==e&&this.finder.matchesType(i)){for(;t.firstChild;)i.appendChild(t.firstChild);o.remove(t),t=i}for(n=t.nextSibling;n&&("k-marker"==n.className||3==n.nodeType&&o.isWhitespace(n));)n=n.nextSibling;if(n&&o.name(n)==e&&this.finder.matchesType(n)){for(;t.lastChild;)n.insertBefore(t.lastChild,n.firstChild);o.remove(t)}},breakable:function(e){return e!=e.ownerDocument.body&&!/table|tbody|thead|tr|td/.test(o.name(e))&&!e.attributes.contentEditable},findSuitableNode:function(e){var t,n=this,i=n.finder,r=n.tag;return(t=i.findSuitable(e))||(t=(i=new p({tag:"ul"==r?"ol":"ul"})).findSuitable(e)),t||(t=(t=(i=new p({tag:r})).findSuitable(e))&&n.finder.matchesType(t)?null:t),t},applyOnSection:function(t,n){var i=this.tag;var r=this.attr;var a=o.closestSplittableParent(n);var s=[];var l=this.findSuitableNode(n);var d;function c(){s.push(this)}/table|tbody|thead/.test(o.name(a))?d=e.map(n,(function(e){return o.parentOfType(e,["td"])})):(d=o.significantChildNodes(a),e.grep(d,o.isBlock).length&&(d=e.grep(d,function(e){return this.containsAny(e,n)}.bind(this))),d.length||(d=n));for(var u=0;u<d.length;u++){var p=d[u];(!l||!o.isAncestorOrSelf(l,p))&&this.suitable(p,n)&&(l&&this.isList(p)?(e.each(p.children,c),o.remove(p)):s.push(p))}for(s.length==d.length&&this.breakable(a)&&(s=[a]),l||(l=o.create(a.ownerDocument,i,r),o.isBlock(s[0])&&o.mergeAttributes(s[0],l),o.insertBefore(l,s[0])),this.wrap(l,s);o.isBom(l.nextSibling);)o.remove(l.nextSibling);this.finder.matchesType(l)||(l.removeAttribute("type"),l.style.listStyleType="",o.mergeAttributes(o.create(a.ownerDocument,i,r),l,!0)),l&&""===l.getAttribute("type")&&l.removeAttribute("type"),o.is(l,i)||o.changeTag(l,i),this.merge(i,l)},apply:function(t){var n,i,a,s,l=0,d=[],c=t.length,u=this.immutables()?r.Immutables.immutableParent:e.noop;function p(){n&&d.push({section:n,nodes:i})}for(l=0;l<c;l++)s=u(t[l])||t[l],a=o.closestEditable(s,["td","th","body"]),n&&a==n?i.push(s):(p(),i=[s],n=a);for(p(),l=0;l<d.length;l++)this.applyOnSection(d[l].section,d[l].nodes)},unwrap:function(e){var t,n,i,r,a=e.ownerDocument.createDocumentFragment(),s=this.unwrapTag;for(n=e.firstChild;n;n=n.nextSibling){for(i=o.create(e.ownerDocument,s||"p");n.firstChild;)r=n.firstChild,o.isBlock(r)?(i.firstChild&&(a.appendChild(i),i=o.create(e.ownerDocument,s||"p")),a.appendChild(r)):i.appendChild(r);i.firstChild&&a.appendChild(i)}(t=this._parentLists(e))[0]?(o.insertAfter(a,t.last()[0]),t.last().remove()):o.insertAfter(a,e),o.remove(e)},remove:function(e){var t;for(var n=0,i=e.length;n<i;n++)(t=this.finder.findFormat(e[n]))&&this.unwrap(t)},toggle:function(e){var t=this,n=c(e),i=e.commonAncestorContainer;if(!n.length&&(e.selectNodeContents(i),!(n=c(e)).length)){var r=i.ownerDocument.createTextNode("");e.startContainer.appendChild(r),n=[r],e.selectNode(r.parentNode)}n=o.filterBy(n,o.htmlIndentSpace,!0),t.finder.isFormatted(n)?(t.split(e),t.remove(n)):t.apply(n)}});var m=s.extend({init:function(e){e.formatter=new f({tag:e.tag,attr:e.attr}),s.fn.init.call(this,e)}});var h=l.extend({init:function(e){this.options=e,l.fn.init.call(this,i(e,{finder:new p(e)}))},command:function(e){return new m(i(e,{tag:this.options.tag,attr:this.options.attr}))}});i(r,{ListFormatFinder:p,ListFormatter:f,ListCommand:m,ListTool:h}),u("insertUnorderedList",new h({tag:"ul",attr:{style:{listStyleType:""},type:""},ui:{togglable:!0,group:"lists"}})),u("insertOrderedList",new h({tag:"ol",attr:{style:{listStyleType:""},type:""},ui:{togglable:!0,group:"lists"}})),u("insertUpperRomanList",new h({tag:"ol",attr:{style:{listStyleType:"upper-roman"}},altAttr:{type:"I"},ui:{togglable:!0,group:"lists"}})),u("insertLowerRomanList",new h({tag:"ol",attr:{style:{listStyleType:"lower-roman"}},altAttr:{type:"i"},ui:{togglable:!0,group:"lists"}}))}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.ui.editor,i=n.Tool,r=n.DelayedExecutionTool,o=n.Command,a=n.Dom,s=n.EditorUtils,l=n.RangeUtils,d=s.registerTool;var c=r.extend({init:function(e){var n=this;i.fn.init.call(n,t.deepExtend({},n.options,e)),n.type="kendoDropDownList",n.finder={getFormat:function(){return""}}},options:{items:[{text:"Paragraph",value:"p"},{text:"Quotation",value:"blockquote"},{text:"Heading 1",value:"h1"},{text:"Heading 2",value:"h2"},{text:"Heading 3",value:"h3"},{text:"Heading 4",value:"h4"},{text:"Heading 5",value:"h5"},{text:"Heading 6",value:"h6"}],width:110},toFormattingItem:function(e){var t=e.value;if(!t)return e;if(e.tag||e.className)return e;var n=t.indexOf(".");return 0===n?e.className=t.substring(1):-1==n?e.tag=t:(e.tag=t.substring(0,n),e.className=t.substring(n+1)),e},command:function(t){var i=this;var r=t.value;return r=this.toFormattingItem(r),new n.FormatCommand({range:t.range,formatter:function(){var t,o=(r.tag||r.context||"span").split(","),s=[{tags:o,attr:{className:r.className||""}}];return(t=e.inArray(o[0],a.inlineElements)>=0?new n.GreedyInlineFormatter(s):new n.GreedyBlockFormatter(s)).editor=i.editor,t}})},decorate:function(t){var n,i,r,o,s=this.component,l=s.dataSource,d=l.data();if(t&&s.list.css("background-color",a.getEffectiveBackground(e(t))),this.component&&this.component.options&&!1!==this.component.options.unsafeInline)for(n=0;n<d.length;n++)i=d[n].tag||"span",r=d[n].className,o=(o=a.inlineStyle(t,i,{className:r})).replace(/"/g,"'"),d[n].style=o+";display:inline-block";l.trigger("change")},initialize:function(e,t){var n=this.options;var r=n.name;var o=this;var a=e.getKendoDropDownList();a&&(o.editor=t,o.component=a,e.closest(".k-dropdownlist").width(n.width),a.setOptions({optionLabel:t.options.messages.formatting,change:()=>{var e=a.dataItem();e&&i.exec(t,r,e.toJSON())},dataBound:function(){var e,t=a.dataSource.data(),n=a.list.parent().find(".k-list-optionlabel");for(e=0;e<t.length;e++)t[e]=o.toFormattingItem(t[e]);n.length&&n.remove()}}))},getFormattingValue:function(t,n){for(var i=0;i<t.length;i++){var r=t[i];var o=(r.tag||r.context||"")+(r.className?"."+r.className:"");if(e(n[0]).closest(o)[0]){if(1==n.length)return r.value;for(var a=1;a<n.length&&e(n[a]).closest(o)[0];a++)if(a==n.length-1)return r.value}}return""},update:function(t,n){var i=e(t).data(this.type);if(i){var o,s,l=i.dataSource,d=l.data(),c=a.commonAncestor.apply(null,n);if(c==a.closestEditable(c)||this._ancestor!=c){for(this._ancestor=c,o=0;o<d.length;o++)s=d[o].context,d[o].visible=!s||!!e(c).closest(s).length;l.filter([{field:"visible",operator:"eq",value:!0}]),r.fn.update.call(this,t,n),i.value(this.getFormattingValue(l.view(),n)),i.wrapper.toggleClass("k-disabled",!l.view().length)}}},destroy:function(){this._ancestor=null}});var u=o.extend({exec:function(){var e=this.lockRange(!0);this.tagsToClean=this.options.remove||"strong,em,span,sup,sub,del,b,i,u,font".split(","),l.wrapSelectedElements(e);var t=l.mapAll(e,(function(e){return e}));for(var n=t.length-1;n>=0;n--){var i=t[n];this.immutableParent(i)||this.clean(i)}this.releaseRange(e)},clean:function(i){if(i&&!a.isMarker(i)){var r=a.name(i);if("ul"==r||"ol"==r){var o=new n.ListFormatter(r);var s=i.previousSibling;var l=i.nextSibling;for(o.unwrap(i);s&&s!=l;s=s.nextSibling)this.clean(s)}else if("blockquote"==r)a.changeTag(i,"p");else if(1!=i.nodeType||a.insignificant(i))!function(e){var i=a.closestEditableOfType(e,["li"]);if(i){var r=new n.ListFormatter(a.name(i.parentNode));var o=t.ui.editor.W3CRange.fromNode(e);o.selectNode(i),r.toggle(o)}}(i);else{for(var d=i.childNodes.length-1;d>=0;d--)this.clean(i.childNodes[d]);i.removeAttribute("style"),i.removeAttribute("class")}e.inArray(r,this.tagsToClean)>-1&&a.unwrap(i)}},immutableParent:function(e){return this.immutables()&&n.Immutables.immutableParent(e)}});e.extend(n,{FormattingTool:c,CleanFormatCommand:u}),d("formatting",new c({ui:{type:"component",component:"DropDownList",componentOptions:{dataTextField:"text",dataValueField:"value",highlightFirst:!1,autoWidth:!0,template:t.template((e=>`<span unselectable="on" ${e.style?`class="k-d-block" style="display:block;${e.style||""}`:""}">${t.htmlEncode(e.text)}</span>`))},overflow:"never"}})),d("cleanFormatting",new i({command:u}))}(window.kendo.jQuery),function(e){var t=window.kendo,n=e.extend,i=t.htmlEncode,r=t.ui.editor,o=r.EditorUtils,a=r.Dom,s=o.registerTool,l=r.RangeUtils,d=r.Command,c=t.keys,u="#k-editor-image-url",p="#k-editor-image-title",f="#k-editor-image-width",m="#k-editor-image-height";var h=d.extend({init:function(e){var t=this;d.fn.init.call(t,e),t.async=!0,t.attributes={}},insertImage:function(e,t){var n=this.attributes;var i=l.documentFromRange(t);if(n.src&&"http://"!=n.src){var r=function(){setTimeout((function(){n.width||e.removeAttribute("width"),n.height||e.removeAttribute("height"),e.removeAttribute("complete")}))};if(!e)return(e=a.create(i,"img",n)).onload=e.onerror=r,t.deleteContents(),t.insertNode(e),e.nextSibling||a.insertAfter(i.createTextNode("\ufeff"),e),r(),t.setStartAfter(e),t.setEndAfter(e),l.selectRange(t),!0;e.onload=e.onerror=r,a.attr(e,n),r()}return!1},redo:function(){var e=this,t=e.lockRange();e.insertImage(l.image(t),t)||e.releaseRange(t)},exec:function(){var e,i,r=this,o=r.lockRange(),s=!1,d=l.image(o),h=d&&d.getAttribute("width")||"",g=d&&d.getAttribute("height")||"",v=t.support.browser.msie,b=r.editor.options,y=b.messages,w=b.imageBrowser,C=!!(t.ui.ImageBrowser&&w&&w.transport&&undefined!==w.transport.read),k={title:y.insertImage,visible:!1,resizable:C};function x(t){var n=e.element,i=parseInt(n.find(f).val(),10),a=parseInt(n.find(m).val(),10);r.attributes={src:n.find(u).val().replace(/ /g,"%20"),alt:n.find(p).val()},r.attributes.width=null,r.attributes.height=null,!isNaN(i)&&i>0&&(r.attributes.width=i),!isNaN(a)&&a>0&&(r.attributes.height=a),s=r.insertImage(d,o),_(t),r.change&&r.change(),r.editor._handleSpaceAndNewLines()}function _(t){t.preventDefault(),i.destroy(),e.destroy(),a.windowFromDocument(l.documentFromRange(o)).focus(),s||r.releaseRange(o)}this.expandImmutablesIn(o),k.close=_,C&&(k.width=750),k.minWidth=350,e=this.createDialog("<div/>",k).data("kendoWindow"),i=r._createForm(e,C),e.element.toggleClass("k-filebrowser-dialog",C),e.wrapper.find(".k-dialog-insert").on("click",x).end().find(".k-dialog-close").on("click",_).end().find(".k-form-field input").on("keydown",(function(e){e.keyCode==c.ENTER?x(e):e.keyCode==c.ESC&&_(e)})).end().find(u).val(d?d.getAttribute("src",2):"http://").end().find(p).val(d?d.alt:"").end().find(f).val(h).end().find(m).val(g).end();var T=e.element;if(C&&(this._imageBrowser=new t.ui.ImageBrowser(T.find(".k-imagebrowser"),n({},w)),this._imageBrowser.bind("change",(function(e){"f"===e.selected.get("type")&&T.find(u).val(this.value())})),this._imageBrowser.bind("apply",x)),v){var N=T.closest(".k-window").height();T.css("max-height",N)}e.center().open(),T.find(u).trigger("focus").select()},_createForm:function(t,n){var r=e("<div/>").appendTo(t.element);var o=this.editor.options.messages;var a=r.kendoForm({renderButtons:!1,items:[{field:"k-editor-image-url",label:i(o.imageWebAddress),editor:"TextBox"},{field:"k-editor-image-title",label:i(o.imageAltText),editor:"TextBox"},{field:"k-editor-image-width",label:i(o.imageWidth),editor:"TextBox"},{field:"k-editor-image-height",label:i(o.imageHeight),editor:"TextBox"}]}).data("kendoForm");return n&&r.prepend(e('<div class="k-filebrowser k-imagebrowser"></div>')),t.element.after(e(this._actionButtonsTemplate({messages:o,insertButtonIcon:"image-add",cancelButtonIcon:"cancel-outline"}))),a}});t.ui.editor.ImageCommand=h,s("insertImage",new r.Tool({command:h}))}(window.kendo.jQuery),function(e){var t=window.kendo,n=e.extend,i=t.ui.editor,r=i.EditorUtils,o=i.Command,a=i.Tool,s=r.registerTool,l='<div contenteditable="false" class="k-loading-mask" style="width: 100%; height: 100%; position: absolute; top: 0px; left: 0px;"><div class="k-loading-image"></div><div class="k-loading-color"></div></div>';var d=o.extend({exec:function(){(this.editor._uploadWidget||this._initializeUploadWidget()).element.click()},_initializeUploadWidget:function(){var t=this;var n=t.editor;var i=n.options.import;var r=e('<input id="editorImport" name="files" type="file" />').kendoUpload({success:t._onUploadSuccess.bind(t),progress:t._onUploadProgress.bind(t),select:t._onUploadSelect.bind(t),error:t._onUploadError.bind(t),complete:t._onUploadComplete.bind(t),showFileList:!1,multiple:!1,async:{saveUrl:i.proxyURL,autoUpload:!0,saveField:"file"},validation:{allowedExtensions:i.allowedExtensions,maxFileSize:i.maxFileSize}}).getKendoUpload();return n._uploadWidget=r,r},_onUploadComplete:function(e){this._trigger("complete",e),e.sender.clearAllFiles(),this._removeLoadingOverlay()},_onUploadSuccess:function(e){this.editor.value(e.response.html.replace(/<\/?body>/gi,"")),this._trigger("success",e)},_onUploadProgress:function(e){this._trigger("progress",e)},_onUploadSelect:function(e){this._trigger("select",e),e.files[0].validationErrors||this._initLoadingOverlay()},_onUploadError:function(e){this._trigger("error",e)},_trigger:function(e,t){var n=this.editor;var i=n.options.import;"function"==typeof i[e]&&i[e].call(n,t)},_initLoadingOverlay:function(){var n=this.editor.body;i.Dom.is(n,"body")?this._iframeWrapper=this._container=this.editor.wrapper.find("iframe").parent().css({position:"relative"}).append(l):this._container=e(n).append(l),t.ui.progress(this._container,!0)},_removeLoadingOverlay:function(){t.ui.progress(this._container,!1),e(this._iframeWrapper).css({position:""}),delete this._container,delete this._iframeWrapper}});n(i,{ImportCommand:d}),s("import",new a({command:d,ui:{showText:"both"}}))}(window.kendo.jQuery),t=window.kendo.jQuery,n=window.kendo.ui.editor,i=n.Command,r=n.GenericCommand,o=n.EditorUtils.registerTool,a=n.Tool,s=n.RestorePoint,l=t.extend,d=i.extend({init:function(e){i.fn.init.call(this,e),this.managesUndoRedo=!0},exec:function(){var e=this.editor;var t=this.options;var n=t.range;var i=e.body;var o=new s(n,i);var a=t.html||t.value||"";e.selectRange(n),e.clipboard.paste(a,t),t.postProcess&&t.postProcess(e,e.getRange());var l=new r(o,new s(e.getRange(),i));l.editor=e,e.undoRedoStack.push(l),e.focus()}}),c=a.extend({initialize:function(e,t){var n=this.options,i=n.items?n.items:t.options.insertHtml,r=e.getKendoDropDownList();r&&(r.one("open",(()=>{var e=r.list.parent().find(".k-list-optionlabel");e.length&&e.remove()})),r.setOptions({dataSource:i,optionLabel:t.options.messages.insertHtml}),r.bind("change",(()=>{a.exec(t,"insertHtml",r.value())})))},command:function(e){return new d(e)},update:function(e){var t=e.data("kendoDropDownList");t.close(),t.value(null)}}),l(n,{InsertHtmlCommand:d,InsertHtmlTool:c}),o("insertHtml",new c({ui:{initialValue:"Insert HTML",type:"component",component:"DropDownList",componentOptions:{dataTextField:"text",dataValueField:"value",autoSize:!0,highlightFirst:!1},overflow:"never"}})),function(e){var t=window.kendo,n=e.extend,i=t.ui.editor,r=i.EditorUtils,o=i.Command,a=i.Tool,s=r.registerTool;var l=o.extend({init:function(e){var t=this;t.options=e,o.fn.init.call(t,e),t.attributes=null,t.exportType=e.exportType},exec:function(){var e=this.lockRange(!0);this.postToProxy(),this.releaseRange(e)},postToProxy:function(){this.generateForm().appendTo("body").submit().remove()},generateForm:function(){var t=this;var n=t.editor.options.exportAs;var i=e("<form>").attr({action:n&&n.proxyURL||"",method:"POST"});return i.append([t.valueInput(),t.exportTypeInput(),t.fileNameInput(),t.antiForgeryInput()]),i},valueInput:function(){var t=this.editor;return e("<input>").attr({value:t.encodedValue(),name:"value",type:"hidden"})},exportTypeInput:function(){return e("<input>").attr({value:this.exportType,name:"exportType",type:"hidden"})},fileNameInput:function(){var t=this.editor;var n=t.options.exportAs;var i=n&&n.fileName||t.element.attr("id")||"editor";return e("<input>").attr({value:i,name:"fileName",type:"hidden"})},antiForgeryInput:function(){var t=e("meta[name=csrf-param],meta[name=_csrf_header]").attr("content");return e("input[name^='__RequestVerificationToken']").clone().add(e("input[name^='"+t+"']").clone())}});var d=a.extend({init:function(e){var n=this;a.fn.init.call(n,t.deepExtend({},n.options,e)),n.type="kendoDropDownList"},options:{items:[{text:"Docx",value:"docx"},{text:"Rtf",value:"rtf"},{text:"Pdf",value:"pdf"},{text:"Html",value:"html"},{text:"Plain Text",value:"txt"}]},command:function(e){var t=e.value;return new i.ExportAsCommand({range:e.range,exportType:t.exportType})},initialize:function(e,t){var n=e.getKendoDropDownList();this.editor=t,n.bind("change",this.changeHandler.bind(this))},changeHandler:function(e){this._exec(e.sender.value()),e.sender.value(null),e.sender.wrapper.find(".k-export-tool-text").text(t.htmlEncode(this.editor.options.messages.exportAs))},update:function(e,n){var i=e.data("kendoDropDownList");i.close(),i.value(null),e.closest(".k-dropdownlist").find(".k-export-tool-text").text(t.htmlEncode(this.editor.options.messages.exportAs))},_exec:function(e){e&&a.exec(this.editor,this.options.name,{exportType:e})},destroy:function(){this._ancestor=null}});n(i,{ExportAsTool:d,ExportAsCommand:l}),s("exportAs",new d({ui:{type:"component",overflow:"never",component:"DropDownList",componentOptions:{dataTextField:"text",dataValueField:"value",valuePrimitive:!0,value:null,width:"140px",highlightFirst:!1,autoWidth:!0,itemTemplate:e=>`<span class="k-link k-menu-link" data-value="${e.value}">${e.text}</strong></span>`,icon:"export",valueTemplate:()=>`<span class="k-editor-export">${t.ui.icon({icon:"export",iconClass:"k-button-icon"})}<span class="k-export-tool-text"></span></span>`}}}))}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.Class,i=e.extend,r=t.ui.editor,o=r.Dom,a=r.EditorUtils.registerTool,s=r.Command,l=r.Tool,d=r.RangeUtils,c=o.blockElements,u=r.BlockFormatFinder,p=r.BlockFormatter;function f(t,n){var i="rtl"==e(t).css("direction")?"Right":"Left",r="td"!=o.name(t)?"margin"+i:"padding"+i;if(undefined===n)return t.style[r]||0;n>0?t.style[r]=n+"px":(t.style[r]="",t.style.cssText||t.removeAttribute("style"))}var m=n.extend({init:function(){this.finder=new u([{tags:o.blockElements}])},apply:function(t){t=o.filterBy(t,o.htmlIndentSpace,!0);var n,i,r,a,s,l=this.finder.findSuitable(t),d=[];if((l=this.mapImmutables(l)).length){for(n=0,i=l.length;n<i;n++)o.is(l[n],"li")?e(l[n]).index()?e.inArray(l[n].parentNode,d)<0&&d.push(l[n]):d.push(l[n].parentNode):d.push(l[n]);for(;d.length;)if(r=d.shift(),o.is(r,"li")){a=r.parentNode;var c=(s=e(r).prev("li")).find("ul,ol").last();var u=e(r).children("ul,ol")[0];if(u&&s[0])c[0]?(c.append(r),c.append(e(u).children()),o.remove(u)):(s.append(u),u.insertBefore(r,u.firstChild));else for((u=s.children("ul,ol")[0])||(u=o.create(r.ownerDocument,o.name(a),this.getListTypeAttr(a)),s.append(u));r&&r.parentNode==a;)u.appendChild(r),r=d.shift()}else{var m=parseInt(f(r),10)+30;f(r,m);for(var h=0;h<d.length;h++)e.contains(r,d[h])&&d.splice(h,1)}}else{new p([{tags:["p"]}],{style:{marginLeft:30}}).apply(t)}},getListTypeAttr:function(e){var t=e.getAttribute("type");var n=e.style.listStyleType;return t?{type:t}:{style:{listStyleType:n}}},mapImmutables:function(t){if(this.immutables){var n=[];return e.map(t,(function(t){var i=r.Immutables.immutableParent(t);if(i){if(-1!==e.inArray(i,n))return null;n.push(i)}return i||t}))}return t},remove:function(t){t=o.filterBy(t,o.htmlIndentSpace,!0);var n,i,r,a,s,l,d,c,u=this.finder.findSuitable(t);for(i=0,r=(u=this.mapImmutables(u)).length;i<r;i++){if((d=e(u[i])).is("li")){if((s=(a=d.parent()).parent()).is("li,ul,ol")&&!f(a[0])){if(n&&e.contains(n,s[0]))continue;(l=d.nextAll("li")).length&&e(a[0].cloneNode(!1)).appendTo(d).append(l),s.is("li")?d.insertAfter(s):d.appendTo(s),a.children("li").length||a.remove();continue}if(n==a[0])continue;n=a[0]}else n=u[i];c=parseInt(f(n),10)-30,f(n,c)}}});var h=s.extend({init:function(e){e.formatter={toggle:function(e){var t=new m;t.immutables=this.editor&&this.editor.options.immutables,t.apply(d.nodes(e))}.bind(this)},s.fn.init.call(this,e)}});var g=s.extend({init:function(e){e.formatter={toggle:function(e){var t=new m;t.immutables=this.editor&&this.editor.options.immutables,t.remove(d.nodes(e))}.bind(this)},s.fn.init.call(this,e)}});var v=l.extend({init:function(e){l.fn.init.call(this,e),this.finder=new u([{tags:c}])},initialize:function(t,n){e.extend(this.options,{immutables:n&&n.options.immutables})},update:function(t,n){var i,a,s,l,d,c,u=this.finder.findSuitable(n),p=t.closest(".k-toolbar").data("kendoToolBar");for(s=0,l=u.length;s<l;s++)if(d=u[s],this.options.immutables&&(c=r.Immutables.immutableParent(d))&&(d=c),(i=f(d))||(a=e(d).parents("ul,ol").length,i=o.is(d,"li")&&(a>1||f(d.parentNode))||o.ofType(d,["ul","ol"])&&a>0),i)return void p.enable(t,!0);p.enable(t,!1)}});i(r,{IndentFormatter:m,IndentCommand:h,OutdentCommand:g,OutdentTool:v}),a("indent",new l({command:h})),a("outdent",new v({command:g,ui:{enable:!1}}))}(window.kendo.jQuery),function(e){var t=window.kendo,n=e.extend,i=t.ui.editor,r=i.Dom,o=i.Command,a=i.Tool,s=i.BlockFormatter,l=r.normalize,d=i.RangeUtils,c=i.EditorUtils.registerTool;var u=o.extend({init:function(e){this.options=e,o.fn.init.call(this,e)},_insertMarker:function(e,t){var n,i=r.create(e,"a");return i.className="k-marker",t.insertNode(i),i.parentNode||((n=t.commonAncestorContainer).innerHTML="",n.appendChild(i)),l(i.parentNode),i},_moveFocus:function(e,t){if(r.isEmpty(t))e.setStartBefore(t);else{e.selectNodeContents(t);var n=d.textNodes(e)[0];if(!n){for(;t.childNodes.length&&!r.is(t.firstChild,"br");)t=t.firstChild;n=t}if(r.isEmpty(n))e.setStartBefore(n);else{r.emptyNode(n)&&(n.innerHTML="\ufeff");var i=n.firstChild||n;r.isDataNode(i)?e.setStart(i,0):e.setStartBefore(i)}}},shouldTrim:function(e){var t="p,h1,h2,h3,h4,h5,h6".split(","),n=r.parentOfType(e.startContainer,t),i=r.parentOfType(e.endContainer,t);return n&&!i||!n&&i},_blankAfter:function(e){for(;e&&(r.isMarker(e)||""===r.stripBom(e.nodeValue));)e=e.nextSibling;return!e},exec:function(){const t=this.getRange();const n=d.documentFromRange(t);let o,a,c,u,p,f,m,h,g,v;const b=i.emptyElementContent;if(this.expandImmutablesIn(t),v=this.shouldTrim(t),t.deleteContents(),p=this._insertMarker(n,t),r.stripBomNode(p.previousSibling),r.stripBomNode(p.nextSibling),f=r.closestEditableOfType(p,["li"]),m=r.closestEditableOfType(p,"h1,h2,h3,h4,h5,h6".split(",")),h=r.is(p.parentNode,"table")&&p.parentNode,f){if(r.emptyNode(f)){u=r.create(n,"p"),r.next(f)&&(g=t.cloneRange(),g.selectNode(f),d.split(g,f.parentNode));const i=e("br",f);1==i.length&&i.remove();const o=f.parentNode;const a=f.parentNode.children.length;const s=a>=1&&1==f.childNodes.length&&f.children[0];r.insertAfter(u,o),r.remove(1==a?f.parentNode:f),s&&s!==p?(u.appendChild(s),u.appendChild(p)):u.innerHTML=b,c=u}}else m&&this._blankAfter(p)?(u=this._insertParagraphAfter(m),r.remove(p),c=u):h&&(u=this._insertParagraphAfter(h),r.remove(p),c=u);if(!c){f||m||new s([{tags:["p"]}]).apply([p]),t.selectNode(p);const e=m?r.name(m):"p";o=r.parentOfType(p,[f?"li":e]),d.split(t,o,v),a=o.previousSibling,r.is(a,"li")&&a.firstChild&&!r.is(a.firstChild,"br")&&(a=a.firstChild),c=o.nextSibling,this.clean(a,{links:!0}),this.clean(c,{links:!0}),r.is(c,"li")&&c.firstChild&&!r.is(c.firstChild,"br")&&(c=c.firstChild),r.remove(o),l(a)}l(c),this._moveFocus(t,c),t.collapse(!0),r.scrollTo(c,!0),d.selectRange(t)},_insertParagraphAfter:function(e){var t=this.getRange();var n=d.documentFromRange(t);var o=i.emptyElementContent;var a=r.create(n,"p");return r.insertAfter(a,e),a.innerHTML=o,a},clean:function(t,n){var o=t;if(t.firstChild&&r.is(t.firstChild,"br")&&r.remove(t.firstChild),r.isDataNode(t)&&!t.nodeValue&&(t=t.parentNode),t){var a=!1;for(;t.firstChild&&1==t.firstChild.nodeType;)a=a||r.significantNodes(t.childNodes).length>1,t=t.firstChild;if(r.isEmpty(t)||"k-br"==t.className||!/^\s*$/.test(t.innerHTML)||a||(e(o).find(".k-br").remove(),t.innerHTML=i.emptyElementContent),n&&n.links)for(;t!=o;){if(r.is(t,"a")&&r.emptyNode(t)){r.unwrap(t);break}t=t.parentNode}}}});var p=o.extend({init:function(e){this.options=e,o.fn.init.call(this,e)},exec:function(){var n=this.getRange();this.expandImmutablesIn(n);var i=r.create(d.documentFromRange(n),"br");var o=n.startContainer;var a;var s=t.support.browser;var c=s.msie&&s.version<11;var u=r.is(o,"table")&&o;var p;n.deleteContents(),u?r.insertAfter(i,u):(p=e(o).closest(".k-br"),n.insertNode(i),p.length&&r.unwrap(p[0])),l(i.parentNode),c||i.nextSibling&&!r.isWhitespace(i.nextSibling)||(i.nextSibling&&r.isWhitespace(i.nextSibling)&&e(i.nextSibling).remove(),(a=i.cloneNode(!0)).className="k-br",r.insertAfter(a,i)),n.setStartAfter(i),n.collapse(!0),r.scrollTo(i.nextSibling||i,!0),d.selectRange(n)}});n(i,{ParagraphCommand:u,NewLineCommand:p}),c("insertLineBreak",new a({key:13,shift:!0,command:p})),c("insertParagraph",new a({key:13,command:u}))}(window.kendo.jQuery),function(e){var t=window.kendo,n=e.extend,i=t.htmlEncode,r=t.ui.editor,o=r.EditorUtils,a=r.Dom,s=o.registerTool,l=r.RangeUtils,d=r.Command,c=r.LinkFormatter,u=l.textNodes,p=t.keys,f="#k-editor-file-url",m="#k-editor-file-text",h="#k-editor-file-title";var g=d.extend({init:function(e){var t=this;d.fn.init.call(t,e),t.formatter=new c,t.async=!0,t.attributes={}},insertFile:function(e,t){var n=this.attributes;var i=l.documentFromRange(t);if(n.href&&"http://"!=n.href){if(!e)return(e=a.create(i,"a",{href:n.href})).innerHTML=n.innerHTML,e.title=n.title,t.deleteContents(),t.insertNode(e),e.nextSibling||a.insertAfter(i.createTextNode("\ufeff"),e),t.setStartAfter(e),t.setEndAfter(e),l.selectRange(t),!0;a.attr(e,n)}return!1},redo:function(){var e=this.lockRange();this.formatter.apply(e,this.attributes),this.releaseRange(e)},exec:function(){var e,i,r=this,o=r.lockRange(),s=u(o),d=!1,c=s.length?this.formatter.finder.findSuitable(s[0]):null,g=t.support.browser.msie,v=r.editor.options,b=v.messages,y=v.fileBrowser,w=!!(t.ui.FileBrowser&&y&&y.transport&&undefined!==y.transport.read),C={title:b.insertFile,visible:!1,resizable:w};function k(t){var n=e.element,i=n.find(f).val().replace(/ /g,"%20"),a=n.find(m).val(),s=n.find(h).val();r.attributes={href:i,innerHTML:""!==a?a:i,title:s},d=r.insertFile(c,o),x(t),r.change&&r.change()}function x(t){t.preventDefault(),i.destroy(),e.destroy(),a.windowFromDocument(l.documentFromRange(o)).focus(),d||r.releaseRange(o)}this.expandImmutablesIn(o),C.close=x,w&&(C.width=750),C.minWidth=350,e=this.createDialog("<div/>",C).data("kendoWindow"),i=r._createForm(e,w),e.element.toggleClass("k-filebrowser-dialog",w),e.wrapper.find(".k-dialog-insert").on("click",k).end().find(".k-dialog-close").on("click",x).end().find(".k-form-field input").on("keydown",(function(e){e.keyCode==p.ENTER?k(e):e.keyCode==p.ESC&&x(e)})).end().find(f).val(c?c.getAttribute("href",2):"http://").end().find(m).val(c?c.innerText:"").end().find(h).val(c?c.title:"").end();var _=e.element;if(w&&(r._fileBrowser=new t.ui.FileBrowser(_.find(".k-filebrowser"),n({},y)),r._fileBrowser.bind("change",(function(e){"f"===e.selected.get("type")&&_.find(f).val(this.value())})),r._fileBrowser.bind("apply",k)),g){var T=_.closest(".k-window").height();_.css("max-height",T)}e.center().open(),_.find(f).trigger("focus").select()},_createForm:function(t,n){var r=e("<div/>").appendTo(t.element);var o=this.editor.options.messages;var a=r.kendoForm({renderButtons:!1,items:[{field:"k-editor-file-url",label:i(o.fileWebAddress),editor:"TextBox"},{field:"k-editor-file-text",label:i(o.fileText),editor:"TextBox"},{field:"k-editor-file-title",label:i(o.fileTitle),editor:"TextBox"}]}).data("kendoForm");return n&&r.prepend(e('<div class="k-filebrowser"></div>')),t.element.after(e(this._actionButtonsTemplate({messages:o,insertButtonIcon:"file-add",cancelButtonIcon:"cancel-outline"}))),a}});t.ui.editor.FileCommand=g,s("insertFile",new r.Tool({command:g}))}(window.kendo.jQuery),function(e){var t=window.kendo,n=e.extend,i=t.ui.editor,r=i.Dom,o=i.RangeUtils,a=i.Command,s="kendoEditor",l="k-active",d="k-selected",c="scope",u="row",p="col",f="rowgroup",m="colgroup",h="colspan",g="rowspan",v="table",b="thead",y="tbody",w="tr",C="td",k="th",x=i.Tool,_=i.InsertHtmlCommand,T=i.BlockFormatFinder,N=i.BlockFormatTool,S=i.FormatCommand,R=i.EditorUtils.registerTool,A=i.EditorUtils.registerFormat,E=t.ui.Editor.fn.options.formats,z=t.getTouches;var P=t.template;var I=({width:e,content:t})=>`<td style="width:${e}%;">${t}</td>`;var D=new T([{tags:[v]}]);var H=_.extend({init:function(t){var n=e.extend({postProcess:this.postProcess,skipCleaners:!0},t||{});_.fn.init.call(this,n)},_tableHtml:function(e,t){e=e||1,t=t||1;var n=P(I)({width:100/t,content:i.emptyTableCellContent});var r=100/e;return"<table class='k-table' data-last>"+new Array(e+1).join("<tr style='height:"+r+"%;'>"+new Array(t+1).join(n)+"</tr>")+"</table>"},postProcess:function(t,n){var i=e("table[data-last]",t.document).removeAttr("data-last");n.setStart(i.find(C)[0],0),n.collapse(!0),t.selectRange(n)},exec:function(){var e=this.options;e.html=this._tableHtml(e.rows,e.columns),_.fn.exec.call(this)}});var O=x.extend({initialize:function(t,n){var r=this;var o=e("<button>"+n.options.messages.tableWizard+"</button>");var a=e(this.options.popupTemplate).appendTo("body").kendoPopup({anchor:t,copyAnchorStyles:!1,open:this._open.bind(this),activate:this._activate.bind(this),close:this._close.bind(this)}).data("kendoPopup");t.on("click",this._toggle.bind(this)).on("keydown",this._keydown.bind(this)),this._editor=n,this._popup=a,n.tablePopup=this._popup;var s=new i.TableWizardTool({command:i.TableWizardCommand,insertNewTable:!0});R("tableWizardInsert",s),o.appendTo(a.element),o.kendoButton({icon:"table-wizard"}),o.on("click",(()=>{r._editor.exec("tableWizardInsert")}))},popup:function(){return this._popup},_activate:e.noop,_open:function(){this._popup.options.anchor.addClass(l)},_close:function(){this._popup.options.anchor.removeClass(l)},_keydown:function(e){var n=this,i=t.keys,r=e.keyCode;r==i.ESC?n._popup.close():r==i.DOWN&&e.altKey?(n._popup.open(),n._setTableSize({row:1,col:1})):r===i.ENTER&&setTimeout((()=>{n._setTableSize({row:1,col:1})}))},_toggle:function(t){e(t.target).closest(".k-tool").hasClass("k-disabled")||this.popup().toggle()},update:function(e){var t=this.popup();t.wrapper&&"block"==t.wrapper.css("display")&&t.close(),e.removeClass("k-hover")},destroy:function(){this._popup&&this._popup.destroy()}});var B=O.extend({init:function(t){this.cols=8,this.rows=6,O.fn.init.call(this,e.extend(t,{command:H,popupTemplate:"<div class='k-ct-popup'><div>"+new Array(this.cols*this.rows+1).join("<span class='k-ct-cell k-disabled'></span>")+"</div><div class='k-status'></div></div>"}))},_activate:function(){var n,i,r=this,o=r._popup.element,a=o.find(".k-ct-cell"),l=a.eq(0),d=a.eq(a.length-1),c=t.getOffset(l),u=t.getOffset(d),p=r.cols,f=r.rows;function m(t){var r=e(window);return{row:Math.floor((t.clientY+r.scrollTop()-c.top)/i)+1,col:Math.floor((t.clientX+r.scrollLeft()-c.left)/n)+1}}o.find("*").addBack().attr("unselectable","on"),u.left+=d[0].offsetWidth,u.top+=d[0].offsetHeight,n=(u.left-c.left)/p,i=(u.top-c.top)/f,o.autoApplyNS(s).on("mousemove",".k-ct-cell",(function(e){r._setTableSize(m(e))})).on("mouseleave",".k-ct-cell",(function(){r._setTableSize()})).on("down",".k-ct-cell",(function(e){e.preventDefault();var t=z(e)[0];r._exec(m(t.location))}))},_valid:function(e){return e&&e.row>0&&e.col>0&&e.row<=this.rows&&e.col<=this.cols},_exec:function(e){this._valid(e)&&(this._editor.exec("createTable",{rows:e.row,columns:e.col}),this._popup.close())},_setTableSize:function(n){var i=this._popup.element;var r=i.find(".k-status");var o=i.find(".k-ct-cell");var a=this.cols;var s=this._editor.options.messages;this._valid(n)?(r.text(t.format(s.createTableHint,n.row,n.col)),o.each((function(t){e(this).toggleClass(d,t%a<n.col&&t/a<n.row)}))):(r.text(s.createTable),o.removeClass(d))},_keydown:function(e){var n=this._popup.visible();if(O.fn._keydown.call(this,e),this._popup.visible()){var i=t.keys;var r=e.keyCode;var o=this._popup.element.find(".k-ct-cell");var a=Math.max(o.filter(".k-selected").last().index(),0);var s=Math.floor(a/this.cols);var l=a%this.cols;var d,c=!1;r!=i.DOWN||e.altKey?r==i.UP?(c=!0,s--):r==i.RIGHT?(c=!0,l++):r==i.LEFT?(c=!0,l--):r==i.TAB&&(d=this._popup.element.find(".k-button")).length>0&&(c=!0,d.trigger("focus")):(c=!0,s++);var u={row:Math.max(1,Math.min(this.rows,s+1)),col:Math.max(1,Math.min(this.cols,l+1))};r==i.ENTER&&n?this._exec(u):this._setTableSize(u),c&&(e.preventDefault(),e.stopImmediatePropagation())}},_open:function(){var e=this._editor.options.messages;O.fn._open.call(this),this.popup().element.find(".k-status").text(e.createTable).end().find(".k-ct-cell").removeClass(d)},_close:function(){O.fn._close.call(this),this.popup().element.off("."+s)}});var F=a.extend({undo:function(){var t=this.restorePoint;t.restoreHtml(),e(this.editor.body).find(".k-element-resize-handle-wrapper").each((function(e,t){t.remove()})),this.editor.selectRange(t.toRange())},_clearColIndexAttr:function(e){r.clearTableMappings(e,"col-index")},_mapColIndices:function(e){r.reMapTableColumns(e,"col-index")},_findRowSpanCell:function(t,n,i){var r,o;for(var a=n;a>=0;a--)if(r=t.rows[a],(o=e(r).find("[col-index="+i+"]")).length)return o},_resetElementResizing:function(e){e._destroyResizings(),e._initializeColumnResizing(),e._initializeRowResizing(),e._initializeElementResizing()},_findNextTdInRow:function(e,t){var n,i=e.find("td:last-child"),r=parseInt(i.attr("col-index"),10)+i.prop("colSpan")-1;for(var o=t;o<=r;o++)if((n=e.find("[col-index="+o+"]")).length)return n},_adjustColgroups:function(e,t){var n,i,o,a=t.getElementsByTagName(p),s=t.getElementsByTagName(m),l=e.cells,d=l.length;for(;a.length>0;)a[0].remove();for(;s.length>0;)s[0].remove();for(n=d-1;n>=0;n--)(o=l[n]).getAttribute(c)===m?((i=r.createEmptyNode(this.editor.document,m)).setAttribute("span",o.getAttribute(h)),t.prepend(i)):t.prepend(r.createEmptyNode(this.editor.document,p))},_associateHeaderIds:function(t){r.clearTableMappings(t,"col-index"),r.reMapTableColumns(t,"col-index"),e(t).find("th, td").removeAttr("id headers"),r.associateWithIds(t)},_getNumberOfColumns:function(e){return r._getNumberOfColumns(e,"td, th")}});var L=F.extend({exec:function(){var t,n,o,a,s,l,d=this.lockRange(!0),p=r.closest(d.endContainer,[C,k]),m=r.closest(p,v),h=this.options.position||"after";if(!m||this.immutables()&&i.Immutables.immutableParent(p))this.releaseRange(d);else{this._mapColIndices(m),n=p.parentNode,s=r.findNodeIndex(n,!0),p.rowSpan>1&&"after"===h&&(n=m.rows[s+p.rowSpan-1]),t=this._getNumberOfColumns(m),a=n.cloneNode(!0),e(a).empty();for(var b=0;b<t;b+=o.prop("colSpan"))(o=e(n).find("[col-index="+b+"]")).length?o.prop("rowSpan")>1&&"after"===h&&o?o.attr(g,o.prop("rowSpan")+1):this._appendCell(a,o):(s=r.findNodeIndex(n,!0),(o=this._findRowSpanCell(n.parentElement,s,b)).closest(w).index()+o.prop("rowSpan")-1===s&&"after"===h?this._appendCell(a,o):o.attr(g,o.prop("rowSpan")+1)),(l=e(a).find("[col-index="+b+"]")).attr(c)!==f||l.attr(g)||l.attr(c,u);"before"==h?r.insertBefore(a,n):r.insertAfter(a,n),e(m).find("[headers]").length>0&&this._associateHeaderIds(m),this._clearColIndexAttr(m),this.releaseRange(d),this._resetElementResizing(this.editor)}},_appendCell:function(e,t){var n;(n=t.clone()).html(i.emptyTableCellContent),n.removeAttr(g),n.appendTo(e)}});var M=F.extend({exec:function(){var t,n,o,a,s=this.lockRange(!0),l=r.closest(s.endContainer,[C,k]),d=r.closest(l,v),u=d.getElementsByTagName(p),f=d.getElementsByTagName(m),g=d&&d.rows,b=this.options.position||"after";if(!l||this.immutables()&&i.Immutables.immutableParent(l))this.releaseRange(s);else{for(this._mapColIndices(d),t=parseInt(l.getAttribute("col-index"),10),l.colSpan>1&&"after"===b&&(l.setAttribute("col-index",t+l.colSpan-1),t=t+l.colSpan-1),n=0;n<g.length;n++)(o=this._processForColSpan(g[n],t,b,l))&&((a=o.cloneNode()).innerHTML=i.emptyTableCellContent,a.removeAttribute(h),a.getAttribute(c)&&a.getAttribute(c)===m&&a.setAttribute(c,p),"before"==b?r.insertBefore(a,o):r.insertAfter(a,o),this._resizeCells(a,o));(u.length>0||f.length>0)&&this._adjustColgroups(g[0],d),e(d).find("[headers]").length>0&&this._associateHeaderIds(d),this._clearColIndexAttr(d),this.releaseRange(s),this._resetElementResizing(this.editor)}},_processForColSpan:function(t,n,i,r){var o,a,s=n-1;if((o=e(t).find("[col-index="+n+"]")[0])&&o.colSpan>1&&"after"===i&&o!==r)o.colSpan+=1;else{if(o)return o;for(;s>=0&&!((o=e(t).find("[col-index="+s+"]")[0])&&o.colSpan>1);s--);if(o){if((a=parseInt(o.getAttribute("col-index"),10)+o.colSpan-1)===n&&"after"===i)return o;n<=a&&o.setAttribute(h,o.colSpan+1)}}},_resizeCells:function(e,t){var n,i,r,o=e.style.width;o&&(n=parseFloat(o),i=o.slice(n.toString().length),r=n/2+i,e.style.width=r,t.style.width=r)}});var W=F.extend({exec:function(){var t=this.lockRange();var n=o.mapAll(t,(function(t){return e(t).closest(w)[0]}));var a=r.closest(t.endContainer,[C,k]);var s=n[0];var l=a?a.rowSpan:1;var d=e(n[0]).index();var c=r.closest(s,v);var u=s.parentElement;var p;if(!c||this.immutables()&&i.Immutables.immutableParent(s))this.releaseRange(t);else{for(var f=0;f<l;f++)n.indexOf(u.rows[d+f])<0&&n.push(u.rows[d+f]);if(c.rows.length<=n.length)(p=r.next(c))&&!r.insignificant(p)||(p=r.prev(c)),p&&p.rows&&(p=p.rows[0].cells[0]),r.remove(c),this._resetElementResizing(this.editor);else if(u.rows.length<=n.length)(p=u.nextSibling)||(p=u.previousSibling),r.remove(u);else{this._mapColIndices(c);for(var m=0;m<n.length;m++)s=n[m],r.removeTextSiblings(s),p=(p=r.next(s)||r.prev(s)).cells[0],this._focusElement(t,p),p=null,this._handleRowSpanCells(c,s),r.remove(s);this._clearColIndexAttr(c)}e(c).find("[headers]").length>0?this._associateHeaderIds(c):r.is(u,b)&&e(c).find("[scope]").length>0&&this._adjustColgroups(u.rows[0],c),p&&this._focusElement(t,p),this._resetElementResizing(this.editor)}},_focusElement:function(e,t){e.setStart(t,0),e.collapse(!0),this.editor.selectRange(e)},_handleRowSpanCells:function(t,n){var i,o,a,s,l=r.findNodeIndex(n,!0),d=t.rows[0],c=d.cells[d.cells.length-1],u=parseInt(c.getAttribute("col-index"),10)+c.colSpan-1;for(i=0;i<=u;i+=o.prop("colSpan"))(o=e(n).find("[col-index="+i+"]")).length&&o.prop("rowSpan")>1&&(s=t.rows[l+1],(a=e(s).find("[col-index="+(i+1)+"]")).length?a.before(o):e(s).append(o),this._reduceRowSpan(o)),o.length||(o=this._findRowSpanCell(n.parentElement,l,i),this._reduceRowSpan(o))},_reduceRowSpan:function(e){var t=e.prop("rowSpan")-1;t<=1?(e.removeAttr(g),e.attr(c)===f&&e.attr(c,u)):e.attr(g,t)}});var U=F.extend({exec:function(){var t,n,o,a,s,l=this.lockRange(),d=r.closest(l.endContainer,[C,k]),c=r.closest(d,v),u=c&&c.rows,f=u&&u[0].cells.length,h=c.getElementsByTagName(p),g=c.getElementsByTagName(m);if(!d||this.immutables()&&i.Immutables.immutableParent(d))this.releaseRange(l);else{if(1==f||d.colSpan==f)(t=r.next(c))&&!r.insignificant(t)||(t=r.prev(c)),t&&t.rows&&(t=t.rows[0].cells[0]),r.remove(c),this._resetElementResizing(this.editor);else{for(r.removeTextSiblings(d),t=r.next(d)||r.prev(d),this._mapColIndices(c),n=parseInt(d.getAttribute("col-index"),10),s=0;s<d.colSpan;s++)for(o=0;o<u.length;o+=a.prop("rowSpan")||1)(a=e(u[o]).find("[col-index="+(n+s)+"]")).length&&a.prop("colSpan")<=1?a.remove():this._handleColSpanCells(u[o],n+s);this._clearColIndexAttr(c)}(h.length>0||g.length>0)&&this._adjustColgroups(u[0],c),e(c).find("[headers]").length>0&&this._associateHeaderIds(c),t&&(l.setStart(t,0),l.collapse(!0),this.editor.selectRange(l)),this._resetElementResizing(this.editor)}},_handleColSpanCells:function(t,n){var i=e(t).find("[col-index="+n+"]");if(i.length&&i.prop("colSpan")>1){var r=i.clone(!0);return i.after(r),this._reduceColSpan(r),r.attr("col-index",parseInt(i.attr("col-index"),10)+1),void i.remove()}for(var o=n;o>=0;o--)if((i=e(t).find("[col-index="+o+"]")).length)return this._reduceColSpan(i),void i.attr("col-index",parseInt(i.attr("col-index"),10)+1)},_reduceColSpan:function(e){var t=e.prop("colSpan")-1;t<=1?(e.removeAttr(h),e.attr(c)===m&&e.attr(c,p)):e.attr(h,t)}});var V=F.extend({exec:function(){var t,n,o,a,s,l=this.lockRange(),d=r.closest(l.endContainer,[C,k]);if(d)if(t=r.closest(d,v),n=d.parentNode,o=r.findNodeIndex(d,!0),n.children[o+1],this.immutables()&&i.Immutables.immutableParent(d))this.releaseRange(l);else{if(this._mapColIndices(t),o=parseInt(e(d).attr("col-index"),10),!(a=e(n).find("[col-index="+(o+1+this._getColspan(d)-1)+"]").get(0))||a.rowSpan!==d.rowSpan||d.tagName!==a.tagName)return this._clearColIndexAttr(t),void this.releaseRange(l);s=this._getColspan(d)+this._getColspan(a),e(d).prop(h,s).append(r.emptyNode(a)?"":"<br/>"+a.innerHTML),e(d).width(d.offsetWidth),e(a).remove(),d.getAttribute(c)===p&&d.setAttribute(c,m),d.getAttribute(c)===m&&this._adjustColgroups(n,t),e(t).find("[headers]").length>0&&this._associateHeaderIds(t),this._clearColIndexAttr(t),this.releaseRange(l),this._resetElementResizing(this.editor)}else this.releaseRange(l)},_getColspan:function(e){return parseInt(e.getAttribute(h),10)||1}});var j=F.extend({exec:function(){var t,n,o,a,s,l,d,p=this.lockRange(),m=r.closest(p.endContainer,[C,k]);if(m)if(t=r.closest(m,w),n=r.closest(m,[b,y]),o=r.closest(m,v),a=r.findNodeIndex(m,!0),(s=r.findNodeIndex(t,!0))+1!==n.rows.length)if((l=n.rows[s+this._getRowspan(m)])&&l.children[a],this.immutables()&&i.Immutables.immutableParent(m))this.releaseRange(p);else{if(this._mapColIndices(o),a=e(m).attr("col-index"),!(d=e(l).find("[col-index="+a+"]").get(0))||d.colSpan!==m.colSpan||m.tagName!==d.tagName)return this._clearColIndexAttr(o),void this.releaseRange(p);e(m).prop(g,this._getRowspan(m)+this._getRowspan(d)).append(r.emptyNode(d)?"":"<br/>"+d.innerHTML),m.getAttribute(c)===u&&m.setAttribute(c,f),e(d).remove(),e(o).find("[headers]").length>0&&this._associateHeaderIds(o),this._clearColIndexAttr(o),this.releaseRange(p)}else this.releaseRange(p);else this.releaseRange(p)},_getRowspan:function(e){return parseInt(e.getAttribute(g),10)||1}});var $=F.extend({exec:function(){var t=this.lockRange(),n=this.options.type,o="row"===n?h:g,a=r.closest(t.endContainer,[C,k]),s=r.closest(a,[b,y]),l=r.closest(a,v),d=r.createEmptyNode(this.editor.document,a.nodeName.toLowerCase());!a||this.immutables()&&i.Immutables.immutableParent(a)||(this._mapColIndices(l),"row"===n&&e(a).is("["+o+"]")?this._splitCellHorizontally(a,s,o,d):"column"===n&&e(a).is("["+o+"]")&&this._splitCellVertically(a,s,o,d),e(a).prop(o.toLowerCase())<=1&&e(a).removeAttr(o),e(l).find("[headers]").length>0&&this._associateHeaderIds(l),this._clearColIndexAttr(l)),this.releaseRange(t)},_getRowspanValue:function(e){return parseInt(e.getAttribute(g),10)},_getColspanValue:function(e){return parseInt(e.getAttribute(h),10)},_splitCellHorizontally:function(t,n,i,r){var o=t.rowSpan,a=t.colSpan,s=e(r),l=Math.floor(a/2);l>1&&s.attr(h,l),o>1&&s.attr(g,o),e(t).prop(i,a-l).after(s),e(t).width(t.offsetWidth),s.width(s[0].offsetWidth),t.hasAttribute(c)&&(t.getAttribute(c)===m?(s.attr(c,p),t.getAttribute(h)&&"1"!==t.getAttribute(h)||t.setAttribute(c,p),this._adjustColgroups(t.parentNode,n.parentNode)):s.attr(c,t.getAttribute(c)))},_splitCellVertically:function(t,n,i,o){var a=r.closest(t,w),s=parseInt(e(t).attr("col-index"),10),l=r.findNodeIndex(a,!0),d=t.rowSpan,p=t.colSpan,m=Math.floor(d/2),v=e(n).find(w).eq(l+d-m),b=this._findNextTdInRow(v,s+p),y=e(o);m>1&&y.attr(g,m),p>1&&y.attr(h,p),b&&b.length?b.before(y):v.append(y),e(t).prop(i,d-m),t.hasAttribute(c)&&(t.getAttribute(c)===f?(y.attr(c,u),t.getAttribute(g)&&"1"!==t.getAttribute(g)||t.setAttribute(c,u)):y.attr(c,t.getAttribute(c)))}});var K=x.extend({command:function(e){var t={row:{insert:L,delete:W,merge:V,split:$},column:{insert:M,delete:U,merge:j,split:$}};return(e=n(e,this.options)).action=e.action||"insert",new t[e.type][e.action](e)},update:function(e,t){var n=!D.isFormatted(t),i=e.closest(".k-toolbar").getKendoToolBar();!0===n?i.hide(e):i.show(e)}});var q=S.extend({exec:function(){var e=this.editor;S.fn.exec.call(this),e.elementResizing&&e.elementResizing._showResizeHandles()}});var X=N.extend({update:function(e,t){var n=!D.isFormatted(t),i=this.options.finder.isFormatted(t,this.isTable),r=e.closest(".k-toolbar").getKendoToolBar();r&&r.toggle(e,i),!0===n?r.hide(e):r.show(e)},command:function(e){return new q(n(e,{formatter:this.options.formatter}))},isTable:function(e){return r.is(e,"table")}});n(t.ui.editor,{PopupTool:O,TableCommand:H,InsertTableTool:B,TableFormatTool:X,TableFormatCommand:q,TableModificationTool:K,InsertRowCommand:L,InsertColumnCommand:M,DeleteRowCommand:W,DeleteColumnCommand:U,MergeCellsHorizontallyCommand:V,MergeCellsVerticallyCommand:j,SplitCellCommand:$}),R("createTable",new B({ui:{popup:!0,overflow:"never"}})),R("addColumnLeft",new K({type:"column",position:"before"})),R("addColumnRight",new K({type:"column"})),R("addRowAbove",new K({type:"row",position:"before"})),R("addRowBelow",new K({type:"row"})),R("deleteRow",new K({type:"row",action:"delete"})),R("deleteColumn",new K({type:"column",action:"delete"})),R("mergeCellsHorizontally",new K({type:"row",action:"merge"})),R("mergeCellsVertically",new K({type:"column",action:"merge"})),R("splitCellHorizontally",new K({type:"row",action:"split"})),R("splitCellVertically",new K({type:"column",action:"split"})),A("tableAlignLeft",[{tags:["table"],attr:{style:{marginLeft:"",marginRight:"auto"}}},{tags:["table"],attr:{align:"left"}}]),R("tableAlignLeft",new X({format:E.tableAlignLeft,ui:{togglable:!0,group:"tableAlign"}})),A("tableAlignCenter",[{tags:["table"],attr:{style:{marginLeft:"auto",marginRight:"auto"}}},{tags:["table"],attr:{align:"center"}}]),R("tableAlignCenter",new X({format:E.tableAlignCenter,ui:{togglable:!0,group:"tableAlign"}})),A("tableAlignRight",[{tags:["table"],attr:{style:{marginLeft:"auto",marginRight:""}}},{tags:["table"],attr:{align:"right"}}]),R("tableAlignRight",new X({format:E.tableAlignRight,ui:{togglable:!0,group:"tableAlign"}}))}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.Class,i=t.ui.editor,r=i.RangeUtils,o=i.Dom,a=i.RestorePoint,s=i.Marker,l=t.support.browser,d=e.extend;var c=n.extend({init:function(e){this.editor=e;var t=e.options.pasteCleanup;this.nonSplittableTagsOnPaste=e.options.nonSplittableTagsOnPaste||[],this.cleaners=[new p(t),new f(t),new m(t),new h(t),new v(t),new b(t),new k(t),new x(t)]},htmlToFragment:function(e){var t=this.editor.document,n=o.create(t,"div"),i=t.createDocumentFragment();for(n.innerHTML=e;n.firstChild;)i.appendChild(n.firstChild);return i},isBlock:function(e){return/<(div|p|ul|ol|table|h[1-6])/i.test(e)},_startModification:function(){var e;var t;var n=this.editor;if(!this._inProgress)return this._inProgress=!0,e=n.getRange(),t=new a(e,n.body),o.persistScrollTop(n.document),{range:e,restorePoint:t}},_endModification:function(e){i._finishUpdate(this.editor,e.restorePoint),this.editor._selectionChange(),this._inProgress=!1},_contentModification:function(e,t){var n=this;var i=n.editor;var r=n._startModification();r&&(e.call(n,i,r.range),setTimeout((function(){t.call(n,i,r.range),n._endModification(r)})))},_removeBomNodes:function(e){var t=r.textNodes(e);for(var n=0;n<t.length;n++)t[n].nodeValue=o.stripBom(t[n].nodeValue)||t[n].nodeValue},_onBeforeCopy:function(e){var t=new s;t.add(e),this._removeBomNodes(e),t.remove(e),this.editor.selectRange(e)},oncopy:function(){this._onBeforeCopy(this.editor.getRange())},oncut:function(){this._onBeforeCopy(this.editor.getRange()),this._contentModification(e.noop,e.noop)},_fileToDataURL:function(t){var n=e.Deferred();var i=new FileReader;if(t instanceof window.File||!t.getAsFile||(t=t.getAsFile()))return i.onload=n.resolve.bind(n),i.readAsDataURL(t),n.promise()},_triggerPaste:function(e,t){var n={html:e||""};n.html=n.html.replace(/\ufeff/g,""),this.editor.trigger("paste",n),this.paste(n.html,t||{})},_handleImagePaste:function(e){if("FileReader"in window&&!(l.msie&&l.version>10)){var t=e.clipboardData||e.originalEvent.clipboardData||window.clipboardData||{};var n=t.items||t.files;return this._insertImages(n)}},_insertImages:function(t){if(t){var n=e.grep(t,(function(e){return/^image\//i.test(e.type)}));if(!e.grep(t,(function(e){return/^text\/html/i.test(e.type)})).length&&n.length){var i=this._startModification();if(i)return e.when.apply(e,e.map(n,this._fileToDataURL)).done(function(){var t=Array.prototype.slice.call(arguments);var n=e.map(t,(function(e){return'<img src="'+e.target.result+'" />'})).join("");this._triggerPaste(n),this._endModification(i)}.bind(this)),!0}}},onpaste:function(n){"false"!==this.editor.body.contentEditable&&(this._handleImagePaste(n)?n.preventDefault():(this.expandImmutablesIn(),this._contentModification((function(i,r){var a=o.create(i.document,"div",{className:"k-paste-container",innerHTML:"\ufeff"});var s=t.support.browser;var l=i.body;if(this._decoreateClipboardNode(a,l),l.appendChild(a),s.webkit&&this._moveToCaretPosition(a,r),s.msie&&s.version<11){n.preventDefault();var d=i.createRange();d.selectNodeContents(a),i.selectRange(d);var c=i.document.body.createTextRange();c.moveToElementText(a),e(l).off("paste"),c.execCommand("Paste"),e(l).on("paste",this.onpaste.bind(this))}else{var u=i.createRange();u.selectNodeContents(a),i.selectRange(u)}r.deleteContents()}),(function(t,n){var i,r="";t.selectRange(n),(i=e(t.body).children(".k-paste-container")).each((function(){var e=this.lastChild;e&&o.is(e,"br")&&o.remove(e),r+=this.innerHTML})),i.remove(),this._triggerPaste(r,{clean:!0})}))))},ondragover:function(e){(l.msie||l.edge)&&(e.stopPropagation(),e.preventDefault())},ondrop:function(e){if("FileReader"in window){var t=(e.originalEvent||e).dataTransfer||{};var n=t.items||t.files;this._insertImages(n)&&e.preventDefault()}},_decoreateClipboardNode:function(t,n){if((l.msie||l.webkit)&&((t=e(t)).css({borderWidth:"0px",width:"0px",height:"0px",overflow:"hidden",margin:"0",padding:"0"}),l.msie)){var i=e(n.ownerDocument.documentElement);t.css({fontVariant:"normal",fontWeight:"normal",lineSpacing:"normal",lineHeight:"normal",textDecoration:"none"});var r=i.css("color");r&&t.css("color",r);var o=i.css("fontFamily");o&&t.css("fontFamily",o);var a=i.css("fontSize");a&&t.css("fontSize",a)}},_moveToCaretPosition:function(t,n){var i=this.editor.body;var r=o.offset(t,i);var a=this._caretOffset(n,i);var s="translate("+(a.left-r.left)+"px,"+(a.top-r.top)+"px)";e(t).css({"-webkit-transform":s,transform:s})},_caretOffset:function(e,t){var n=this.editor;var i=o.create(n.document,"span",{innerHTML:"\ufeff"});var r=e.startContainer;var a;if(e.collapsed){var s=o.isDataNode(r);s&&(o.isBom(r)||0===e.startOffset)?o.insertBefore(i,r):s&&e.startOffset===r.length?o.insertAfter(i,r):(e.insertNode(i),a=!0)}else r=r===t?r.childNodes[e.startOffset]:r,o.insertBefore(i,r);var l=o.offset(i,t);var d=i.previousSibling;var c=i.nextSibling;if(o.remove(i),a&&o.isDataNode(d)&&o.isDataNode(c)&&!o.isBom(d)&&!o.isBom(c)){var u=d.length;c.data=d.data+c.data,e.setStart(c,u),o.remove(d),e.collapse(!0),n.selectRange(e)}return l},expandImmutablesIn:function(e){var n=this.editor;if(n&&n.options.immutables){var i=n.body;if(e=e||n.getRange(),t.ui.editor.Immutables.expandImmutablesIn(e),e.startContainer===i&&0===e.startOffset){var r=i.ownerDocument.createTextNode("\ufeff");i.insertBefore(r,i.childNodes[0]),e.setStartBefore(r)}n.selectRange(e)}},splittableParent:function(e,t){var n,i;if(e)return o.closestEditableOfType(t,["p","ul","ol"])||t.parentNode;if(n=t.parentNode,i=t.ownerDocument.body,o.isInline(n))for(;n.parentNode!=i&&!o.isBlock(n.parentNode);)n=n.parentNode;return n},paste:function(t,n){var i,a,l,c,u=this.editor,p=this.nonSplittableTagsOnPaste,f=!1,m=!1;if(this.expandImmutablesIn(),!(n=d({clean:!1,split:!0},n)).skipCleaners)for(i=0,a=this.cleaners.length;i<a;i++)this.cleaners[i].applicable(t)&&(t=this.cleaners[i].clean(t));n.clean&&(t=(t=t.replace(/(<br>(\s|&nbsp;)*)+(<\/?(div|p|li|col|t))/gi,"$3")).replace(/<(a|span)[^>]*><\/\1>/gi,"")),t=(t=t.replace(/<(a|span|font)([^>]*)> <\/\1>/gi,"<$1$2>&nbsp;</$1>")).replace(/^<li/i,"<ul><li").replace(/li>$/g,"li></ul>");var h=this.isBlock(t);u.focus();var g=u.getRange();g.deleteContents(),g.startContainer==u.document&&g.selectNodeContents(u.body);var v=new s;var b=v.addCaret(g);var y=this.splittableParent(h,b);var w=!1;for(i=0;i<p.length;i++){const e=p[i],t=e.tag||e;if(o.is(y,t)){f=!0,m=!1!==e.unwrap;break}}var C=y!=u.body&&!o.is(y,"td")&&!f;n.split&&C&&(h||o.isInline(y))&&(g.selectNode(b),r.split(g,y,!0),w=!0);var k=this.htmlToFragment(t);if(k.firstChild&&"k-paste-container"===k.firstChild.className){var x=[];for(i=0,a=k.childNodes.length;i<a;i++)x.push(k.childNodes[i].innerHTML);k=this.htmlToFragment(x.join("<br />"))}if(l=k.childNodes,m&&(c=o.list(l[0]),o.unwrap(l[0]),c&&g.selectNode(b.parentNode)),e(l).filter("table").addClass("k-table").end().find("table").addClass("k-table"),e(l).each((function(e,t){o.isBlock(t)&&!o.isSelfClosing(t)&&""===t.innerHTML&&t.appendChild(u.document.createTextNode("\ufeff"))})),g.insertNode(k),y=this.splittableParent(h,b),w){for(;b.parentNode!=y;)o.unwrap(b.parentNode);o.unwrap(b.parentNode)}o.normalize(g.commonAncestorContainer),b.style.display="inline",o.restoreScrollTop(u.document),o.scrollTo(b),v.removeCaret(g);var _=g.commonAncestorContainer.parentNode;(g.collapsed&&"tbody"==o.name(_)||g.collapsed&&"thead"==o.name(_))&&(g.setStartAfter(e(_).closest("table")[0]),g.collapse(!0));var T=e(g.commonAncestorContainer.parentNode).closest("table");if(T.get(0)){var N=T.parent().contents();var S=N.length-1;var R=N.get(S);for(;null!==R.nodeValue&&(" "===R.nodeValue||""===R.nodeValue);)S-=1,R=N.get(S);R!==T.get(0)||T.parents("table").length||o.insertAfter(o.createEmptyNode(u.document,"p"),T[0])}u._handleSpaceAndNewLines(),u.selectRange(g)}});var u=n.extend({init:function(e){this.options=e||{},this.replacements=[]},clean:function(e,t){var n,i,r=t||this.replacements;for(n=0,i=r.length;n<i;n+=2)e=e.replace(r[n],r[n+1]);return e}});var p=u.extend({init:function(e){u.fn.init.call(this,e),this.replacements=[/<(\/?)script([^>]*)>/i,"<$1telerik:script$2>"]},applicable:function(e){return!this.options.none&&/<script[^>]*>/i.test(e)}});var f=u.extend({init:function(e){u.fn.init.call(this,e);this.replacements=[/<span\s+class="Apple-tab-span"[^>]*>\s*<\/span>/gi," ",/\t/gi," ",/&nbsp;&nbsp; &nbsp;/gi," "]},applicable:function(e){return/&nbsp;&nbsp; &nbsp;|class="?Apple-tab-span/i.test(e)}});var m=u.extend({init:function(e){u.fn.init.call(this,e),this.junkReplacements=[/<\?xml[^>]*>/gi,"",/<!--(.|\n)*?-->/g,"",/&quot;/g,"'",/<o:p>&nbsp;<\/o:p>/gi,"&nbsp;",/<\/?(meta|link|style|o:|v:|x:)[^>]*>((?:.|\n)*?<\/(meta|link|style|o:|v:|x:)[^>]*>)?/gi,"",/<\/o>/g,""],this.replacements=this.junkReplacements.concat([/(?:<br>&nbsp;[\s\r\n]+|<br>)*(<\/?(h[1-6]|hr|p|div|table|tbody|thead|tfoot|th|tr|td|li|ol|ul|caption|address|pre|form|blockquote|dl|dt|dd|dir|fieldset)[^>]*>)(?:<br>&nbsp;[\s\r\n]+|<br>)*/g,"$1",/<br><br>/g,"<BR><BR>",/<br>\n/g,"<br/>",/<br>(?!\n)/g," ",/<table([^>]*)>(\s|&nbsp;)+<t/gi,"<table$1><t",/<tr[^>]*>(\s|&nbsp;)*<\/tr>/gi,"",/<tbody[^>]*>(\s|&nbsp;)*<\/tbody>/gi,"",/<table[^>]*>(\s|&nbsp;)*<\/table>/gi,"",/<BR><BR>/g,"<br>",/^\s*(&nbsp;)+/gi,"",/(&nbsp;|<br[^>]*>)+\s*$/gi,"",/mso-[^;"]*;?/gi,"",/<(\/?)b(\s[^>]*)?>/gi,"<$1strong$2>",/<(\/?)font(\s[^>]*)?>/gi,this.convertFontMatch,/<(\/?)i(\s[^>]*)?>/gi,"<$1em$2>",/style=(["|'])\s*\1/g,"",/(<br[^>]*>)?\n/g,function(e,t){return t?e:" "}])},convertFontMatch:function(e,t,n){var i=/face=['"]([^'"]+)['"]/i.exec(n);var r=n&&i&&i[1];return t?"</span>":r?'<span style="font-family:'+r+'">':"<span>"},applicable:function(e){return/class="?Mso/i.test(e)||/style="[^"]*mso-/i.test(e)||/urn:schemas-microsoft-com:office/.test(e)},stripEmptyAnchors:function(e){return e.replace(/<a([^>]*)>\s*<\/a>/gi,(function(e,t){return!t||t.indexOf("href")<0?"":e}))},listType:function(e,t){var n=e.innerHTML;var i=o.innerText(e);var r;var a=n.match(/^(?:<span [^>]*texhtml[^>]*>)?<span [^>]*(?:Symbol|Wingdings)[^>]*>([^<]+)/i);var s=a&&a[1];var l=/^[a-z\d]/i.test(s);var d=function(e){return e.replace(/^(?:&nbsp;|[\u00a0\n\r\s])+/,"")};return a&&(r=!0),n=n.replace(/<\/?\w+[^>]*>/g,"").replace(/&nbsp;/g,""),!r&&/^[\u2022\u00b7\u00a7\u00d8o]\u00a0+/.test(n)||r&&/^.\u00a0+/.test(n)||s&&!l&&t?{tag:"ul",style:this._guessUnorderedListStyle(d(i))}:/^\s*\w+[\.\)][\u00a0 ]{2,}/.test(n)?{tag:"ol",style:this._guessOrderedListStyle(d(i))}:void 0},_convertToLi:function(e){var t;return 1==e.childNodes.length?(t=e.firstChild.nodeType===o.nodeTypes.TEXT_NODE?o.innerText(e):e.firstChild.innerHTML.replace(/^\w+[\.\)](&nbsp;)+ /,""),t=this._checkForBullet(t)):t=this._getHtmlNoBullet(e),o.remove(e),o.create(document,"li",{innerHTML:t})},_checkForBullet:function(e){var t=o.create(document,"p",{innerHTML:e});return/^\s*\w+[\.\)]\s+/.test(t.innerText)?this._getHtmlNoBullet(t):e},_getHtmlNoBullet:function(e){var t=o.name(e);return o.remove(e.firstChild),3==e.firstChild.nodeType&&/^[ivxlcdm]+\.$/i.test(e.firstChild.nodeValue)&&o.remove(e.firstChild),/^(&nbsp;|\s)+$/i.test(e.firstChild.innerHTML)&&o.remove(e.firstChild),"p"!=t?"<"+t+">"+e.innerHTML+"</"+t+">":e.innerHTML},_guessUnorderedListStyle:function(e){return/^[\u2022\u00b7\u00FC\u00D8\u002dv-]/.test(e)?null:/^o/.test(e)?"circle":"square"},_guessOrderedListStyle:function(e){var t=null;return/^\d/.test(e)||(t=(/^[a-z]/.test(e)?"lower-":"upper-")+(/^[ivxlcdm]/i.test(e)?"roman":"alpha")),t},extractListLevels:function(e){return e=e.replace(/style=['"]?[^'"]*?mso-list:\s?[a-zA-Z]+(\d+)\s[a-zA-Z]+(\d+)\s(\w+)/gi,(function(e,n,i){return t.format('data-list="{0}" data-level="{1}" {2}',n,i,e)}))},_createList:function(e,t){return o.create(document,e,{style:{listStyleType:t}})},lists:function(t){var n,i,r,a,s,d,c,u,p,f,m,h,g,v=e(t).find(o.blockElements.join(",")),b=-1,y={},w=["p","h1","h2","h3","h4","h5","h6"];for(u=0;u<v.length;u++){p=v[u];var C=(g=e(p).data()).list;if(n=o.name(p),!!!e(p).parents("table").length){var k=this.listType(p,g);if(!(f=k&&k.tag)||w.indexOf(n)<0)p.innerHTML?i&&!d&&i.appendChild(p):o.remove(p);else if(!l.msie){var x=f+C;y[m=g.level||parseFloat(p.style.marginLeft||0)]||(y[m]={}),(!r||r<0)&&(r=m,a=C,s=e(t).find("[data-list='"+a+"']").last()[0],c=this._createList(f,k.style),o.insertBefore(c,p),b=m,y[m][x]=c),d=s===p,h=y[m][x],(m>b||!h)&&(h=this._createList(f,k.style),y[m][x]=h,i.appendChild(h)),i=this._convertToLi(p),h.appendChild(i),d?r=b=-1:b=m}}}},removeAttributes:function(e){var t,n=e.attributes,i=n.length,r=[],a=function(e){(function(e){return["border","background","padding"].filter((function(t){return 0===e.trim().indexOf(t)})).length>0})(e)&&r.push(e.trim())};for(;i--;)"colspan"!=o.name(n[i])&&("style"!==(t=n[i]).name||"TD"!==e.nodeName&&"TH"!==e.nodeName||t.value.split(";").forEach(a),e.removeAttributeNode(n[i]));r.length>0&&e.setAttribute("style",r.join(";"))},createColGroup:function(n){var i=n.cells;var r=e(n).closest("table");var o=r.children("colgroup");i.length<2||(o.length&&(i=o.children(),o[0].parentNode.removeChild(o[0])),(o=e(e.map(i,(function(e){var n=e.width;return n&&0!==parseInt(n,10)?t.format('<col style="width:{0}px;"/>',n):"<col />"})).join(""))).is("colgroup")||(o=e("<colgroup/>").append(o)),o.prependTo(r))},convertHeaders:function(t){var n,i=t.cells,r=e.map(i,(function(t){var n=e(t).children("p").children("strong")[0];if(n&&"strong"==o.name(n))return n}));if(r.length==i.length){for(n=0;n<r.length;n++)o.unwrap(r[n]);for(e(t).closest("table").find("colgroup").after("<thead></thead>").end().find("thead").append(t),n=0;n<i.length;n++)o.changeTag(i[n],"th")}},removeParagraphs:function(t){var n,i,r,a;for(n=0;n<t.length;n++)for(this.removeAttributes(t[n]),i=0,r=(a=e(t[n]).children("p")).length;i<r;i++)i<r-1&&o.insertAfter(o.create(document,"br"),a[i]),o.unwrap(a[i])},removeTextNodes:function(e){var t,n,i,r,a;for(t=0;t<e.length;t++)for(i=(a=e[t]).childNodes,n=0;n<i.length;n++)(r=i[n]).nodeType===o.nodeTypes.TEXT_NODE&&a.removeChild(r)},tables:function(t){var n,i,r,o,a,s=e(t).find("table"),l=this;for(o=0;o<s.length;o++){for(r=i=(n=s[o].rows)[0],a=1;a<n.length;a++)n[a].cells.length>r.cells.length&&(r=n[a]);l.createColGroup(r),l.convertHeaders(i),l.removeAttributes(s[o]),l.removeParagraphs(s.eq(o).find("td,th")),l.removeTextNodes(s.eq(o).find("tr"))}},headers:function(t){var n=e(t).find("p.MsoTitle");for(var i=0;i<n.length;i++)o.changeTag(n[i],"h1")},removeFormatting:function(t){e(t).find("*").each((function(){e(this).css({fontSize:"",fontFamily:""}),this.getAttribute("style")||this.style.cssText||this.removeAttribute("style")}))},clean:function(e){var t,n=this;var i=this.options;return i.none?(e=u.fn.clean.call(n,e,this.junkReplacements),e=n.stripEmptyAnchors(e)):(e=i.msConvertLists?this.extractListLevels(e):e,e=u.fn.clean.call(n,e),e=n.stripEmptyAnchors(e),t=o.create(document,"div",{innerHTML:e}),n.headers(t),i.msConvertLists&&n.lists(t),n.tables(t),i.msAllFormatting&&n.removeFormatting(t),e=t.innerHTML.replace(/(<[^>]*)\s+class="?[^"\s>]*"?/gi,"$1")),e}});var h=u.extend({init:function(e){u.fn.init.call(this,e),this.replacements=[/\s+class="Apple-style-span[^"]*"/gi,"",/<(div|p|h[1-6])\s+style="[^"]*"/gi,"<$1",/^<div>(.*)<\/div>$/,"$1"]},applicable:function(e){return/class="?Apple-style-span|style="[^"]*-webkit-nbsp-mode/i.test(e)}});var g=u.extend({clean:function(e){var t=o.create(document,"div",{innerHTML:e});return(t=this.cleanDom(t)).innerHTML},cleanDom:function(e){return e}});var v=g.extend({cleanDom:function(t){var n=this.collectTags();return e(t).find(n).each((function(){o.unwrap(this)})),t},collectTags:function(){if(this.options.span)return"span"},applicable:function(){return this.options.span}});var b=g.extend({cleanDom:function(t){var n=this.collectAttr();return e(t).find("["+n.join("],[")+"]").removeAttr(n.join(" ")),t},collectAttr:function(){return this.options.css?["class","style"]:[]},applicable:function(){return this.options.css}});var y=function(){this.text="",this.add=function(e){this.text+=e}};var w=n.extend({init:function(e){this.separators=e||{text:" ",line:"<br/>"},this.lines=[],this.inlineBlockText=[],this.resetLine()},appendText:function(e){3===e.nodeType&&(e=e.nodeValue),this.textContainer.add(e)},appendInlineBlockText:function(e){this.inlineBlockText.push(e)},flashInlineBlockText:function(){this.inlineBlockText.length&&(this.appendText(this.inlineBlockText.join(" ")),this.inlineBlockText=[])},endLine:function(){this.flashInlineBlockText(),this.resetLine()},html:function(){var e=this.separators;var t="";var n=this.lines;this.flashInlineBlockText();for(var i=0,r=n.length,o=r-1;i<r;i++){var a=n[i];for(var s=0,l=a.length,d=l-1;s<l;s++){t+=a[s].text,s!==d&&(t+=e.text)}i!==o&&(t+=e.line)}return t},resetLine:function(){this.textContainer=new y,this.line=[],this.line.push(this.textContainer),this.lines.push(this.line)}});var C=n.extend({init:function(e){this.callback=e},enumerate:function(e){if(e){var t=this.callback(e);var n=e.firstChild;!t&&n&&this.enumerate(n),this.enumerate(e.nextSibling)}}});var k=u.extend({init:function(e){u.fn.init.call(this,e),this.hasText=!1,this.enumerator=new C(this.buildText.bind(this))},clean:function(e){var t=o.create(document,"div",{innerHTML:e});return this.cleanDom(t)},cleanDom:function(e){return this.separators=this.getDefaultSeparators(),this.htmlLines=new w(this.separators),this.enumerator.enumerate(e.firstChild),this.hasText=!1,this.htmlLines.html()},buildText:function(e){if(o.isDataNode(e)){if(o.isEmptyspace(e))return;this.htmlLines.appendText(e.nodeValue.replace("\n",this.separators.line)),this.hasText=!0}else{if(o.isBlock(e)&&this.hasText)return(this.actions[o.name(e)]||this.actions.block)(this,e);o.isBr(e)&&this.htmlLines.appendText(this.separators.line)}},applicable:function(){var e=this.options;return e.all||e.keepNewLines},getDefaultSeparators:function(){return this.options.all?{text:" ",line:" "}:{text:" ",line:"<br/>"}},actions:{ul:e.noop,ol:e.noop,table:e.noop,thead:e.noop,tbody:e.noop,td:function(e,t){var n=new k({all:!0}).cleanDom(t);return e.htmlLines.appendInlineBlockText(n),!0},block:function(e){e.htmlLines.endLine()}}});var x=u.extend({clean:function(e){return this.options.custom(e)},applicable:function(){return"function"==typeof this.options.custom}});d(i,{Clipboard:c,Cleaner:u,ScriptCleaner:p,TabCleaner:f,MSWordFormatCleaner:m,WebkitFormatCleaner:h,HtmlTagsCleaner:v,HtmlAttrCleaner:b,HtmlContentCleaner:k,HtmlTextLines:w,CustomCleaner:x})}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.Class,i=t.ui.editor,r=i.RangeUtils,o=i.Dom,a=i.RestorePoint,s=i.Marker,l=t.support.browser,d="<span  class='k-br'>\ufeff</span>",c=e.extend;var u=o.nodeTypes;var p="previousSibling";function f(e,t,n){var i=e?e[t]:null;for(;i&&!n(i);)i=i[t];return i}var m="td,th,caption";var h="table,tbody,thead,tfoot,tr";var g=h+","+m;var v=function(t){return!t.collapsed&&e(t.commonAncestorContainer).is(h)};var b=n.extend({remove:function(t){var n=new s;n.add(t,!1);var i=r.getAll(t,(function(t){return e(t).is(g)}));var a=r.documentFromRange(t);var l=n.start;var d=n.end;var c=m.split(",");var u=o.parentOfType(l,c);var p=o.parentOfType(d,c);this._removeContent(l,u,!0),this._removeContent(d,p,!1),e(i).each((function(t,n){((n=e(n)).is(m)?n:n.find(m)).each((function(e,t){t.innerHTML="&#65279;"}))})),u&&!l.previousSibling&&o.insertBefore(a.createTextNode("\ufeff"),l),p&&!d.nextSibling&&o.insertAfter(a.createTextNode("\ufeff"),d),u?t.setStartBefore(l):i[0]&&(u=(u=e(i[0])).is(m)?u:u.find(m).first()).length&&t.setStart(u.get(0),0),t.collapse(!0),o.remove(l),o.remove(d)},_removeContent:function(t,n,i){if(n){var r,a=i?"nextSibling":"previousSibling",s=function(t){for(;t&&!t[a];)t=t.parentNode;return t&&e.contains(n,t)?t[a]:null};for(t=s(t);t;)r=s(t),o.remove(t),t=r}}});var y=n.extend({init:function(e){this.editor=e},keydown:function(t){var n=this,r=n.editor,o=r.keyboard,s=o.isTypingKey(t),d=c(e.Event(),t);if(n.editor.trigger("keydown",d),d.isDefaultPrevented()||t&&t.isDefaultPrevented())return t.preventDefault(),!0;if(!d.isDefaultPrevented()&&s&&!o.isTypingInProgress()){var u=r.getRange();var p=r.body;if(n.startRestorePoint=new a(u,p),v(u))new b(r).remove(u),r.selectRange(u);if(l.webkit&&!u.collapsed&&function(e,t){return t.startContainer===e&&t.endContainer===e&&0===t.startOffset&&t.endOffset==e.childNodes.length}(p,u)&&(p.innerHTML=""),r.immutables&&i.Immutables.immutablesContext(u))new i.BackspaceHandler(r).deleteSelection(u);return o.startTyping((function(){n._removeBomSpan(),n.endRestorePoint=i._finishUpdate(r,n.startRestorePoint)})),!0}return!1},keyup:function(e){var t=this.editor.keyboard;return this.editor.trigger("keyup",e),!!t.isTypingInProgress()&&(t.endTyping(),!0)},_removeBomSpan:function(){var e=this.editor.getRange().commonAncestorContainer;o.emptyNode(e)||(3===e.nodeType&&(e=e.parentNode),o.insignificant(e)&&(e.textContent=o.stripBom(e.textContent),o.unwrap(e)))}});var w=n.extend({init:function(e){this.editor=e},_addCaret:function(e){var n=o.create(this.editor.document,"a");return!t.support.browser.chrome&&e.firstChild&&e.firstChild.nodeType===u.ELEMENT_NODE&&(e=e.firstChild),o.insertAt(e,n,0),o.stripBomNode(n.previousSibling),o.stripBomNode(n.nextSibling),n},_restoreCaret:function(e){var t=this.editor.createRange();!e.nextSibling&&o.isDataNode(e.previousSibling)?t.setStart(e.previousSibling,e.previousSibling.length):t.setStartAfter(e),t.collapse(!0),this.editor.selectRange(t),o.remove(e)},_handleDelete:function(e){var t=e.endContainer;var n=o.closestEditableOfType(t,o.blockElements);if(n&&i.RangeUtils.isEndOf(e,n)){var r=o.next(n);if(!r||"p"!=o.name(r))return!1;var a=o.significantChildNodes(r)[0];a=a&&o.isInline(a)?a:r;var s=this._addCaret(a);return this._merge(n,r),this._restoreCaret(s),!0}return!1},_cleanBomBefore:function(e){var t=e.startOffset;var n=e.startContainer;var i=n.nodeValue;var r=0;for(;t-r>=0&&"\ufeff"==i[t-r-1];)r++;r>0&&(n.deleteData(t-r,r),e.setStart(n,Math.max(0,t-r)),e.collapse(!0),this.editor.selectRange(e))},_handleBackspace:function(t){var n=t.startContainer;var r=o.closestEditableOfType(n,["li"]);var a=o.closestEditableOfType(n,"p,h1,h2,h3,h4,h5,h6".split(","));var s=this.editor;var l;if(o.isDataNode(n)){if(t.collapsed&&/^\s[\ufeff]+$/.test(n.nodeValue))return t.setStart(n,0),t.setEnd(n,n.length),s.selectRange(t),!1;this._cleanBomBefore(t)}l=f(a,p,(function(e){return!o.htmlIndentSpace(e)})),t.collapsed&&t.startOffset!==t.endOffset&&t.startOffset<0&&(t.startOffset=0,t.endOffset=0,s.selectRange(t));var d=r&&i.RangeUtils.isStartOf(t,r);var c=r&&e(r).index();var u=d&&c>0;if(u&&(a=r,l=o.prev(r)),a&&l&&o.is(l,"table")&&i.RangeUtils.isStartOf(t,a))return""===a.innerText&&(a.innerHTML="\ufeff"),!0;if(i.RangeUtils.isStartOf(t,a)&&parseInt(a.style.marginLeft,10)>0)return s.exec("outdent"),!0;if(a&&l&&i.RangeUtils.isStartOf(t,a)||u){var m=o.significantChildNodes(a)[0];m=m&&o.isInline(m)&&!o.isImg(m)?m:a;var h=this._addCaret(m);return this._merge(l,a),this._restoreCaret(h),!0}if(d&&0===c){var g=r.firstChild;g||(r.innerHTML=i.emptyElementContent,g=r.firstChild);var v=new i.ListFormatter(o.name(r.parentNode),"p");return t.selectNodeContents(r),v.toggle(t),o.insignificant(g)?t.setStartBefore(g):t.setStart(g,0),s.selectRange(t),!0}var b=n.childNodes[t.startOffset-1];var y=t;var w=b&&o.closestEditableOfType(b,["a"]);var C=f(b||n,p,(function(e){return!o.isDataNode(e)||!o.isBom(e)&&e.length>0}));if((w||(0===t.startOffset||b)&&o.is(C,"a"))&&(w=w||C,(y=s.createRange()).setStart(w,w.childNodes.length),y.collapse(!0)),(w=w||o.closestEditableOfType(b||y.startContainer,["a"]))&&i.RangeUtils.isEndOf(y,w)){var k=new i.UnlinkCommand({range:y,body:s.body,immutables:!!s.immutables});s.execCommand(k),s._selectionChange()}return!1},_handleSelection:function(t){var n=t.commonAncestorContainer;var r=o.closest(n,"table");var a=i.emptyElementContent;var l=this.editor;var d;if(v(t))return new b(l).remove(t),l.selectRange(t),!0;var c=new s;c.add(t,!1),t.commonAncestorContainer===l.body&&this._surroundFullyContent(c,t),l.immutables&&this._handleImmutables(c),this._surroundFullySelectedAnchor(c,t),t.setStartAfter(c.start),t.setEndBefore(c.end);var u=t.startContainer;var p=t.endContainer;return t.deleteContents(),"li"===p.tagName.toLocaleLowerCase()&&o.emptyNode(p)&&(t.selectNode(p),t.deleteContents()),r&&""===e(r).text()&&(t.selectNode(r),t.deleteContents()),n=t.commonAncestorContainer,"p"===o.name(n)&&""===n.innerHTML&&(n.innerHTML=a,t.setStart(n,0)),this._join(u,p),o.insertAfter(l.document.createTextNode("\ufeff"),c.start),c.remove(t),u=t.startContainer,"tr"==o.name(u)&&(u=u.childNodes[Math.max(0,t.startOffset-1)],t.setStart(u,o.getNodeLength(u))),t.collapse(!0),l.selectRange(t),d=u.parentElement||u.parentNode,o.isDataNode(u)&&!o.emptyNode(d)&&this._cleanBomBefore(t),!0},_handleImmutables:function(e){var t=i.Immutables.immutableParent;var n=t(e.start);var r=t(e.start);n&&o.insertBefore(e.start,n),r&&o.insertAfter(e.end,r),n&&o.remove(n),r&&r.parentNode&&o.remove(r)},_surroundFullyContent:function(e,t){var n=t.commonAncestorContainer.children,i=n[0],r=n[n.length-1];this._moveMarker(e,t,i,r)},_surroundFullySelectedAnchor:function(t,n){var i=t.start,r=e(i).closest("a").get(0),o=t.end,a=e(o).closest("a").get(0);this._moveMarker(t,n,r,a)},_moveMarker:function(e,t,n,i){var a=e.start,s=e.end;n&&r.isStartOf(t,n)&&o.insertBefore(a,n),i&&r.isEndOf(t,i)&&o.insertAfter(s,i)},_root:function(e){for(;e&&"body"!=o.name(e)&&e.parentNode&&"body"!=o.name(e.parentNode);)e=e.parentNode;return e},_join:function(e,t){(e=this._root(e))!=(t=this._root(t))&&o.is(t,"p")&&this._merge(e,t)},_merge:function(e,t){for(o.removeTrailingBreak(e);e&&t.firstChild;)1==e.nodeType?(e=o.list(e)?e.children[e.children.length-1]:e)&&e.appendChild(t.firstChild):e.nodeType===u.TEXT_NODE?this._mergeWithTextNode(e,t.firstChild):e.parentNode.appendChild(t.firstChild);o.remove(t)},_mergeWithTextNode:function(e,t){e&&e.nodeType===u.TEXT_NODE&&(e.nextSibling&&this._isCaret(e.nextSibling)?o.insertAfter(t,e.nextSibling):o.insertAfter(t,e))},_isCaret:function(t){return e(t).is("a")},keydown:function(e){var n,r;var o=this.editor;var s=o.getRange();var l=e.keyCode;var d=t.keys;var c=l===d.BACKSPACE;var u=l==d.DELETE;o.immutables&&o.immutables.keydown(e,s)||(!c&&!u||s.collapsed?c?n="_handleBackspace":u&&(n="_handleDelete"):n="_handleSelection",n&&(r=new a(s,o.body),this[n](s)&&(e.preventDefault(),i._finishUpdate(o,r))))},deleteSelection:function(e){this._handleSelection(e)},keyup:e.noop});var C=n.extend({init:function(e){this.editor=e,this.systemCommandIsInProgress=!1},createUndoCommand:function(){this.startRestorePoint=this.endRestorePoint=i._finishUpdate(this.editor,this.startRestorePoint)},changed:function(){return!!this.startRestorePoint&&this.startRestorePoint.html!=this.editor.body.innerHTML},keydown:function(e){var t=this,n=t.editor,i=n.keyboard;return i.isModifierKey(e)?(i.isTypingInProgress()&&i.endTyping(!0),t.startRestorePoint=new a(n.getRange(),n.body),!0):!!i.isSystem(e)&&(t.systemCommandIsInProgress=!0,t.changed()&&(t.systemCommandIsInProgress=!1,t.createUndoCommand()),!0)},keyup:function(){var e=this;return!(!e.systemCommandIsInProgress||!e.changed())&&(e.systemCommandIsInProgress=!1,e.createUndoCommand(),!0)}});var k=n.extend({init:function(e){this.editor=e},keydown:function(e){!l.webkit||e.isDefaultPrevented()||!e.ctrlKey||65!=e.keyCode||e.altKey||e.shiftKey||(this.editor.options.immutables&&this._toSelectableImmutables(),this._selectEditorBody())},_selectEditorBody:function(){var e=this.editor;var t=e.getRange();t.selectNodeContents(e.body),setTimeout((function(){e.selectRange(t)}))},_toSelectableImmutables:function(){var t=this.editor.body,n=i.Immutables.immutable,r=o.emptyTextNode,a=t.firstChild,s=t.lastChild;for(;r(a);)a=a.nextSibling;for(;r(s);)s=s.previousSibling;a&&n(a)&&e(d).prependTo(t),s&&n(s)&&e(d).appendTo(t)},keyup:e.noop});var x=n.extend({init:function(e){this.handlers=e,this.typingInProgress=!1},isCharacter:function(e){return e>=48&&e<=90||e>=96&&e<=111||e>=186&&e<=192||e>=219&&e<=222||229==e},toolFromShortcut:function(t,n){var i,r,o=String.fromCharCode(n.keyCode),a=this._getShortcutModifier(n,navigator.platform);for(i in t)if(((r=e.extend({ctrl:!1,alt:!1,shift:!1},t[i].options)).key==o||r.key==n.keyCode)&&r.ctrl==a&&r.alt==n.altKey&&r.shift==n.shiftKey)return i},_getShortcutModifier:function(e,t){return t.toUpperCase().indexOf("MAC")>=0?e.metaKey:e.ctrlKey},toolsFromShortcut:function(t,n){var i,r,o=String.fromCharCode(n.keyCode),a=[];var s=function(e){return e==o||e==n.keyCode||e==n.charCode};for(i in t)r=e.extend({ctrl:!1,alt:!1,shift:!1},t[i].options),(Array.isArray(r.key)?e.grep(r.key,s).length>0:s(r.key))&&r.ctrl==n.ctrlKey&&r.alt==n.altKey&&r.shift==n.shiftKey&&a.push(t[i]);return a},isTypingKey:function(e){var t=e.keyCode;return this.isCharacter(t)&&!e.ctrlKey&&!e.altKey||32==t||13==t||8==t||46==t&&!e.shiftKey&&!e.ctrlKey&&!e.altKey},isModifierKey:function(e){var t=e.keyCode;return 17==t&&!e.shiftKey&&!e.altKey||16==t&&!e.ctrlKey&&!e.altKey||18==t&&!e.ctrlKey&&!e.shiftKey},isSystem:function(e){return 46==e.keyCode&&e.ctrlKey&&!e.altKey&&!e.shiftKey},startTyping:function(e){this.onEndTyping=e,this.typingInProgress=!0},stopTyping:function(){this.typingInProgress&&this.onEndTyping&&this.onEndTyping(),this.typingInProgress=!1},endTyping:function(e){var t=this;t.clearTimeout(),e?t.stopTyping():t.timeout=window.setTimeout(t.stopTyping.bind(t),1e3)},isTypingInProgress:function(){return this.typingInProgress},clearTimeout:function(){window.clearTimeout(this.timeout)},notify:function(e,t){var n,i=this.handlers;for(n=0;n<i.length&&!i[n][t](e);n++);},keydown:function(e){this.notify(e,"keydown")},keyup:function(e){this.notify(e,"keyup")}});c(i,{TypingHandler:y,SystemHandler:C,BackspaceHandler:w,SelectAllHandler:k,Keyboard:x})}(window.kendo.jQuery),function(e){var t=window.kendo.ui.editor,n=t.Command,i=t.EditorUtils.registerTool,r=t.Tool,o=e.extend;var a=n.extend({init:function(e){this.async=!0,n.fn.init.call(this,e)},exec:function(){var e=this;var t=e.lockRange(!0);var n=e.editor;n._destroyResizings(),n.saveAsPDF().then((function(){e.releaseRange(t),n._initializeColumnResizing(),n._initializeRowResizing(),n._initializeElementResizing()}))}});o(t,{ExportPdfCommand:a}),i("pdf",new r({command:a}))}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.ui.editor,i=n.Command,r=n.EditorUtils.registerTool,o=n.Tool,a=e.extend;var s=i.extend({init:function(e){i.fn.init.call(this,e),this.managesUndoRedo=!0},exec:function(){var e=this.editor;t.support.browser.msie?e.document.execCommand("print",!1,null):e.window.print&&e.window.print()}});a(n,{PrintCommand:s}),r("print",new o({command:s}))}(window.kendo.jQuery),function(e){var t=window.kendo.ui.editor,n=t.Tool,i=t.Command,r=t.EditorUtils,o=t.Dom,a=t.RangeUtils,s=r.registerTool;var l=i.extend({init:function(e){i.fn.init.call(this,e)},exec:function(){var e=this.lockRange(!0);this.inlineStyles=[],this.blockStyles=[],this.collectStyles(e),this.editor.inlineStyles=this.inlineStyles,this.editor.blockStyles=this.blockStyles,this.releaseRange(e)},collectStyles:function(e){var t=a.nodes(e);var n;for(n=1===t.length?t[0].parentNode:e.startContainer;n&&!o.is(n,"body")&&"editor"!==n.getAttribute("data-role");)o.isBlock(n)?(this.populateStyles(n,"blockStyles"),n=o.is(n,"li")?n.parentNode:null):(this.populateStyles(n,"inlineStyles"),n=n.parentNode)},populateStyles:function(e,t){var n=e.style;var i=e.attributes;var r={tags:[e.tagName],attr:{style:{}}};var o,a,s,l,d;if(n)for(d=0;d<n.length;d++)o=n[a=n[d]],r.attr.style[a]=o;if(i)for(d=0;d<i.length;d++)s=i[d].nodeName,l=i[d].nodeValue,"style"!==s&&("class"===s?r.attr.className=l:r.attr[s]=l);this[t].push(r)}});var d=i.extend({init:function(e){i.fn.init.call(this,e)},exec:function(){var e=this.lockRange(!0);var t=a.getMarkers(e);var n=this.editor;var i=n.inlineStyles;var r=n.blockStyles;var s;(i&&0!==i.length||r&&0!==r.length)&&(3===t.length&&(this.marker.removeCaret(e),this.marker.caret=null),this.removeEmptyElementsFromRange(e),s=a.nodes(e),this.cleanInlineParents(s),o.normalize(e.commonAncestorContainer),2===t.length?(e.setStartAfter(t[0]),e.setEndBefore(t[1])):(e.setStartBefore(s[0]),e.setEndAfter(s[0])),(s=a.nodes(e))&&r&&r.length&&this.applyBlockStyles(s,r),s&&i&&i.length&&this.applyInlineStyles(s,i),this.releaseRange(e))},removeEmptyElementsFromRange:function(e){var t,n;if((t=a.getAll(e,(function(e){return o.isInline(e)&&!e.firstChild&&!o.isMarker(e)})))&&t.length>0)for(n=0;n<t.length;n++)t[n].parentNode.removeChild(t[n])},cleanInlineParents:function(e){var t,n,i,r,a,s,l;for(t=0;t<e.length;t++)if(i=(n=e[t]).parentNode,!this.immutableParent(n))for(;i&&o.isInline(i);){for(r=i.childNodes,a=0;a<r.length;a++)s=r[a],o.isMarker(s)||s===n||((l=i.cloneNode(!0)).innerHTML="",o.wrap(s,l));o.unwrap(i),i=n.parentNode}},applyBlockStyles:function(e,t){var n=t[0].tags[0];var i=t[0].attr;var r=this.editor.document;var a,s,l,d,c,u;var p,f,m,h,g,v,b,y,w;for(a=0,s=e.length;a<s;a++)if(l=e[a],!o.isWhitespace(l)&&!this.immutableParent(l))if("BODY"!==(c=o.blockParentOrBody(l)).tagName&&c.tagName!==n){if("LI"!==c.tagName&&"TD"!==c.tagName&&"TH"!==c.tagName){for(p=[],f=[],m=l.previousSibling,h=l.nextSibling;m;)o.isMarker(m)||p.push(m),m=m.previousSibling;if(p.length)for((g=c.cloneNode(!0)).innerHTML="",o.insertBefore(g,p[0]),y=0;y<p.length;y++)b=p[y],o.insertAt(g,b,0);for(;h;)o.isMarker(h)||f.push(h),h=h.nextSibling;if(f.length)for((v=c.cloneNode(!0)).innerHTML="",o.insertBefore(v,f[0]),y=0;y<f.length;y++)b=f[y],v.appendChild(b);o.unwrap(c)}d=o.create(r,n,i),o.wrap(l,d)}else c.tagName===n&&o.attr(c,i);if(c&&2===t.length&&"LI"!==c.tagName&&"LI"===n){for(w=[];o.is(d,"li");)w.push(d),d=o.prev(d);for(u=o.create(r,t[1].tags[0],t[1].attr),o.insertBefore(u,w[w.length-1]),u.appendChild(w[0]),a=1,s=w.length;a<s;a++)o.insertBefore(w[a],u.firstChild)}else c&&2===t.length&&"LI"!==c.tagName&&(u=o.create(r,t[1].tags[0],t[1].attr),o.wrap(d,u))},applyInlineStyles:function(e,t){var n=this.editor.document;var i,r,a,s,l,d;for(s=0;s<t.length;s++)i=t[s],r=o.create(n,i.tags[0],i.attr),a&&r.appendChild(a),a=r;if(a)for(s=0;s<e.length;s++)if(d=e[s],!o.isWhitespace(d)&&!this.immutableParent(d)){for(l=a.cloneNode(!0),o.insertBefore(l,d);l.children&&l.children.length;)l=l.children[0];l.appendChild(d)}},immutables:function(){return this.editor&&this.editor.options.immutables},immutableParent:function(e){return this.immutables()&&t.Immutables.immutableParent(e)}});var c=n.extend({init:function(e){n.fn.init.call(this,e)},command:function(e){return new l(e)}});var u=n.extend({init:function(e){n.fn.init.call(this,e)},command:function(e){return new d(e)}});e.extend(t,{CopyFormatCommand:l,ApplyFormatCommand:d,CopyFormatTool:c,ApplyFormatTool:u}),s("copyFormat",new c({})),s("applyFormat",new u({}))}(window.kendo.jQuery),function(e){const t=window.kendo,n=e.extend,i=t.ui.editor,r=t.ui.Editor.fn.options.formats,o=i.Dom,a=i.Tool,s=i.DelayedExecutionTool,l=i.BlockFormatter,d=i.FormatCommand,c=i.GreedyInlineFormatFinder,u=i.EditorUtils,p=u.registerTool,f=u.registerFormat,m=i.RangeUtils;const h=d.extend({exec:function(){const e=this,t=e.lockRange(!0),n=o.filterBy(m.nodes(t),o.htmlIndentSpace,!0);e.formatter.format[0].attr.style.lineHeight=e.options.value.lineHeight,e.formatter.apply(n),e.releaseRange(t)}});const g=s.extend({init:function(e){a.fn.init.call(this,e),this.type="kendoComboBox",this.format=[{tags:["p","lineHeight"]}],this.finder=new c(this.format,e.cssAttr,e.fontAttr,e.defaultValue)},command:function(e){var t=this;return new h(n(e,{formatter:function(){return new l(t.options.format)}}))},initialize:function(e,t){let n=e.getKendoComboBox();this.editor=t,n.bind("change",this.changeHandler.bind(this)),n.bind("close",this.closeHandler.bind(this)),n.wrapper.on("mousedown.kendoEditor",".k-input-button,.k-input-inner",this.mouseDownHandler.bind(this)).on("keydown.kendoEditor",this.keyDownHandler.bind(this))},changeHandler:function(e){this._exec(e.sender.value())},closeHandler:function(){let e=this,t=e.editor;setTimeout((function(){t._deleteSavedRange(),e.currentRange=null}),0)},mouseDownHandler:function(){let e=this.editor.getRange();this.currentRange=this.editor._containsRange(e)?e:this.currentRange},keyDownHandler:function(e){e.keyCode===t.keys.ENTER&&(this.editor._deleteSavedRange(),this.currentRange=null,e.preventDefault())},_exec:function(e){this.editor._range=this.currentRange,e&&a.exec(this.editor,this.options.name,{lineHeight:e})}});e.extend(i,{LineHeightCommand:h,LineHeightFormatTool:g}),f("lineHeight",[{tags:o.blockElements,attr:{style:{lineHeight:"normal"}}}]),p("lineHeight",new g({cssAttr:"line-height",format:r.lineHeight,defaultValue:1.15,ui:{type:"component",component:"ComboBox",componentOptions:{value:1.15,dataTextField:"text",dataValueField:"value",prefixOptions:{icon:"paragraphHeight"},autoSize:!0,dataSource:[{text:"1",value:"1"},{text:"1.15",value:"1.15"},{text:"1.5",value:"1.5"},{text:"2",value:"2"},{text:"2.5",value:"2.5"}]}}}))}(window.kendo.jQuery),function(e){const t=window.kendo.ui.editor,n=t.Tool,i=t.Command,r=t.EditorUtils.registerTool,o=t.Dom;const a=function(e,t,n,i,r,o){const a=e.cloneRange(),s=a.startContainer;let l,d,c,u,p;return null!=r&&(a.setStart(s,r),a.setEnd(s,r+1)),l=a.getBoundingClientRect(),o?(p=o.getBoundingClientRect(),d=l.left-p.left-l.width/2,c=l.top-p.top+l.height+i):""===n?(d=l.x-l.width/4,c=l.y+l.height+i):""===n&&(d=l.x,c=l.y+l.height+i),u=t.createElementNS("http://www.w3.org/2000/svg","text"),u.setAttributeNS(null,"x",d),u.setAttributeNS(null,"y",c),u.setAttributeNS(null,"fill","#6098f2"),u.setAttributeNS(null,"font-size",`${Math.ceil(l.height+l.width)}px`),u.textContent=n,u};const s=function(){const t=this,n=t.getRange().cloneRange(),i=t._formattingMarksOverlay[0],r=t.document.createDocumentFragment(),s=t.document,l=t._isInlineEditor(),d=l?t.body.parentElement:null,c=l?d.scrollTop:s.documentElement.scrollTop;if(!t.body.firstChild&&!t.body.lastChild)return;n.setStart(t.body.firstChild,0),n.setEnd(t.body.lastChild,0);o.getTextNodes(t.body).concat(e(t.body).find("br").toArray()).forEach((e=>{if(e.nodeType===o.nodeTypes.TEXT_NODE){n.selectNodeContents(e);for(let e=n.startOffset;e<n.endOffset;e++)32!==n.startContainer.textContent.charCodeAt(e)&&160!==n.startContainer.textContent.charCodeAt(e)||r.appendChild(a(n,s,"",c,e,d))}else n.selectNode(e),r.appendChild(a(n,s,"",c,null,d))})),i.appendChild(r)};const l=function(e){e._formattingMarksOverlay.empty()};const d=function(e){e._updateFormattingMarksOverlayHeight(),s.call(e)};const c=i.extend({exec:function(){const e=this,t=e.lockRange(!0),n=e.editor;n._toggledFormattingMarks?(n._toggledFormattingMarks=!1,n._destroyFormattingMarksOverlay()):(n._toggledFormattingMarks=!0,n._appendFormattingMarksOverlay(),n._appendFormattingMarksStyles(),l(n),d(n)),e.releaseRange(t)}});e.extend(t,{FormattingMarksCommand:c,applyFormattingMarks:d,clearFormattingMarksOverlay:l}),r("formattingMarks",new n({command:c,icon:"paragraphMark",ui:{togglable:!0}}))}(window.kendo.jQuery),function(e){var t=window;var n=t.Math;var i=n.min;var r=n.max;var o=t.parseFloat;var a=e.jQuery;var s=a.extend;var l=e.ui.editor;var d=/(\d+)(\.?)(\d*)%/;var c=/(\d+)(\.?)(\d*)px/;var u="string";function p(e){return typeof e===u&&d.test(e)}s(l,{ResizingUtils:{constrain:function(e){var t=e.value;var n=e.min;var a=e.max;return r(i(o(t),o(a)),o(n))},getScrollBarWidth:function(t){return t&&!a(t).is("body")&&t.scrollHeight>t.clientHeight?e.support.scrollbar():0},calculatePercentageRatio:function(e,t){return p(e)?o(e):o(e)/t*100},inPercentages:p,inPixels:function(e){return typeof e===u&&c.test(e)},toPercentages:function(e){return o(e)+"%"},toPixels:function(e){return o(e)+"px"}}})}(window.kendo),function(e){var t=e.jQuery;var n=t.extend;var i=t.noop;var r=e.ui.editor;var o=e.Class;var a="keydown";var s="mouseleave";var l="mouseup";var d="table";var c=o.extend({init:function(e,i){var r=this;r.options=n({},r.options,i),r.options.tags=Array.isArray(r.options.tags)?r.options.tags:[r.options.tags],t(e).is(d)&&(r.element=e,r._attachEventHandlers())},destroy:function(){var e=this;var n=e.options.eventNamespace;e.element&&(t(e.element).off(n),e.element=null),t(e.options.rootElement).off(a+n),e._destroyResizeHandle()},options:{tags:[],min:0,rootElement:null,eventNamespace:"",rtl:!1,handle:{dataAttribute:"",height:0,width:0,classNames:{},template:""}},_attachEventHandlers:function(){var e=this;var n=e.options;t(e.element).on("mousemove"+n.eventNamespace,n.tags.join(","),e.detectElementBorderHovering.bind(e))},resizingInProgress:function(){var e=this._resizable;return!!e&&!!e.resizing},resize:i,detectElementBorderHovering:function(e){var n=this;var i=n.options.handle;var r=t(e.currentTarget);var o=n.resizeHandle;var a=i.dataAttribute;n.resizingInProgress()||(!r.is(":last-child")&&n.elementBorderHovered(r,e)?o?o.data(a)&&o.data(a)!==r[0]&&n.showResizeHandle(r,e):n.showResizeHandle(r,e):o&&n._destroyResizeHandle())},elementBorderHovered:i,showResizeHandle:function(e,t){var n=this;0===t.buttons&&(n._initResizeHandle(),n.setResizeHandlePosition(e),n.setResizeHandleDimensions(),n.setResizeHandleDataAttributes(e[0]),n._attachResizeHandleEventHandlers(),n._initResizable(e),n._hideResizeMarker(),n.resizeHandle.show())},_initResizeHandle:function(){var e=this;var n=e.options;e._destroyResizeHandle(),e.resizeHandle=t(n.handle.template).appendTo(n.rootElement)},setResizeHandlePosition:i,setResizeHandleDimensions:i,setResizeHandleDataAttributes:function(e){this.resizeHandle.data(this.options.handle.dataAttribute,e)},_attachResizeHandleEventHandlers:function(){var e=this;var t=e.options;var n=t.eventNamespace;var i=t.handle.classNames.marker;var r=e.resizeHandle;e.resizeHandle.on("mousedown"+n,(function(){r.find("."+i).show()})).on(l+n,(function(){r.find("."+i).hide()}))},_hideResizeMarker:function(){this.resizeHandle.find("."+this.options.handle.classNames.marker).hide()},_destroyResizeHandle:function(){var e=this;e.resizeHandle&&(e._destroyResizable(),e.resizeHandle.off(e.options.eventNamespace).remove(),e.resizeHandle=null)},_initResizable:function(t){var n=this;n.resizeHandle&&(n._destroyResizable(),n._resizable=new e.ui.Resizable(t,{draggableElement:n.resizeHandle[0],start:n.onResizeStart.bind(n),resize:n.onResize.bind(n),resizeend:n.onResizeEnd.bind(n)}))},_destroyResizable:function(){var e=this;e._resizable&&(e._resizable.destroy(),e._resizable=null)},onResizeStart:function(){this._disableKeyboard()},onResize:function(e){this.setResizeHandleDragPosition(e)},setResizeHandleDragPosition:i,onResizeEnd:function(e){var t=this;t.resize(e),t._destroyResizeHandle(),t._enableKeyboard(),this.options.editor&&this.options.editor._handleSpaceAndNewLines()},_enableKeyboard:function(){var e=this.options;t(e.rootElement).off(a+e.eventNamespace)},_disableKeyboard:function(){var e=this.options;t(e.rootElement).on(a+e.eventNamespace,(function(e){e.preventDefault()}))},_forceResizing:function(e){var t=this._resizable;t&&t.userEvents&&t.userEvents._end(e)}});var u=o.extend({create:function(e,n){var i=this;var r=n.name;var o=n.eventNamespace;t(e.body).on("mouseenter"+o,d,(function(t){var o=t.currentTarget;var a=e[r];t.stopPropagation(),a?a.element===o||a.resizingInProgress()||(i._destroyResizing(e,n),i._initResizing(e,o,n)):i._initResizing(e,o,n)})).on(s+o,d,(function(o){var a;var s=e[r];o.stopPropagation(),!s||s.resizingInProgress()||s.resizeHandle||(a=t(s.element).parents(d)[0])&&(i._destroyResizing(e,n),i._initResizing(e,a,n))})).on(s+o,(function(){var t=e[r];t&&!t.resizingInProgress()&&i._destroyResizing(e,n)})).on(l+o,(function(o){var a=e[r];var s;a&&a.resizingInProgress()&&(s=t(o.target).parents(d)[0])&&(a._forceResizing(o),i._destroyResizing(e,n),i._initResizing(e,s,n))}))},dispose:function(e,n){t(e.body).off(n.eventNamespace)},_initResizing:function(t,n,i){var r=i.name;var o=i.type;t[r]=new o(n,{rtl:e.support.isRtl(t.element),rootElement:t.body,editor:t})},_destroyResizing:function(e,t){var n=t.name;e[n]&&(e[n].destroy(),e[n]=null)}});u.current=new u,c.create=function(e,t){u.current.create(e,t)},c.dispose=function(e,t){u.current.dispose(e,t)},n(r,{TableElementResizing:c})}(window.kendo),function(e){var t=window.Math.abs;var n=e.jQuery;var i=n.extend;var r=e.ui.editor;var o=r.Dom;var a=r.TableElementResizing;var s=r.ResizingUtils;var l=s.constrain;var d=s.calculatePercentageRatio;var c=s.getScrollBarWidth;var u=s.inPercentages;var p=s.toPercentages;var f=s.toPixels;var m=e._outerWidth;var h=".kendoEditorColumnResizing";var g="k-column-resize-handle";var v="k-column-resize-marker";var b="body";var y="tbody";var w="thead";var C="tr";var k="col-index";var x=",";var _="width";var T=a.extend({options:{tags:["td","th"],min:20,rootElement:null,eventNamespace:h,rtl:!1,handle:{dataAttribute:"column",width:10,height:0,classNames:{handle:g,marker:v},template:'<div class="k-column-resize-handle-wrapper" unselectable="on" contenteditable="false"><div class="'+g+'"><div class="'+v+'"></div></div></div>'}},elementBorderHovered:function(e,t){var i=this.options;var r=i.handle.width;var o=e.offset().left+(i.rtl?0:m(e));var a=t.clientX+n(e[0].ownerDocument).scrollLeft();return a>o-r&&a<o+r},setResizeHandlePosition:function(t){var i=this;var r=n(i.element.tHead||i.element.tBodies[0]);var o=i.options;var a=o.rtl;var s=o.handle.width;var l=n(o.rootElement);var d=l.is(b)?0:l.scrollTop();var u=l.is(b)?0:e.scrollLeft(l);var p=a?0:m(t);var f=a?c(l[0]):0;var h=t.offset().left-(l.offset().left+parseFloat(l.css("borderLeftWidth")))-parseFloat(t.css("marginLeft"));var g=r.offset().top-(l.offset().top+parseFloat(l.css("borderTopWidth")))-parseFloat(r.css("marginTop"));var v=e.support.browser;a&&(v.mozilla||v.webkit&&v.version>=85)&&(u*=-1),i.resizeHandle.css({top:g+d,left:h+p+(u-f)-s/2,position:"absolute"})},setResizeHandleDimensions:function(){var e=this;var t=n(e.element).children(w);var i=n(e.element).children(y);var r=t.length>0?t.height()+i.height():i.height();e.resizeHandle.css({width:e.options.handle.width,height:r})},setResizeHandleDragPosition:function(t){var i=this;var r=n(n(t.currentTarget).data(i.options.handle.dataAttribute));var o=i.options;var a=n(o.rootElement);var s=o.handle?o.handle.width:0;var d=o.min;var u=o.rtl;var p=m(r);var f=r.offset().left-(a.offset().left+parseFloat(a.css("borderLeftWidth")))-parseFloat(r.css("marginLeft"));var h=m(r.next());var g=n(i.resizeHandle);var v=a.is(b)?0:e.scrollLeft(a);var y=u?c(a[0]):0;var w=g.offset().left-(a.offset().left+parseFloat(a.css("borderLeftWidth")))-parseFloat(g.css("marginLeft"));var C=e.support.browser;u&&(C.mozilla||C.webkit&&C.version>=85)&&(v*=-1);var k=l({value:w+(v-y)+t.x.delta,min:f+(v-y)-(u?h:0)+d,max:f+p+(v-y)+(u?0:h)-s-d});g.css({left:k})},resize:function(e){var t=this;var i=n(n(e.currentTarget).data(t.options.handle.dataAttribute));var r=t.options;var a=r.rtl?-1:1;var s=r.min;var d=a*e.x.initialDelta;var c;var u;var p;var f;var h;o.reMapTableColumns(t.element,k),f=parseInt(i.attr(k),10),i.prop("colSpan")>1&&(i=n(t.element).find("["+k+"="+(f+i.prop("colSpan")-1)+"]").eq(0),f=parseInt(i.attr(k),10)),h=n(t.element).find("["+k+"="+(f+1)+"]:not([colspan])"),t._setTableComputedWidth(),t._setColumnsComputedWidth(),p=m(i),u=m(h),c=l({value:p+d,min:s,max:p+u-s}),t._resizeColumn(i[0],c),t._resizeTopAndBottomColumns(i[0],c),t._resizeAdjacentColumns(parseInt(i.attr(k),10),u,p,p-c),o.clearTableMappings(t.element,k)},_setTableComputedWidth:function(){var e=this.element;""===e.style[_]&&(e.style[_]=f(m(n(e))))},_setColumnsComputedWidth:function(){var e=n(this.element.tHead||this.element.tBodies[0]);var t=m(e);var i=e.children(C).children("td");var r=i.length;var o=i.map((function(){return m(n(this))}));var a;for(a=0;a<r;a++)u(i[a].style[_])?i[a].style[_]=p(d(o[a],t)):i[a].style[_]=f(o[a])},_resizeTopAndBottomColumns:function(e,t){var i=this;var r=n(e).attr(k);var o=n(i.element).children(y+x+w).children(C).children(i.options.tags.join(x)).filter((function(){return n(this).attr(k)===r&&this!==e}));var a=o.length;var s;for(s=0;s<a;s++)i._resizeColumn(o[s],t)},_resizeColumn:function(e,t){var i=n(this.element.tHead||this.element.tBodies[0]);u(e.style[_])?e.style[_]=p(d(t,m(i))):e.style[_]=f(t)},_resizeAdjacentColumns:function(e,t,i,r){var o=this;var a=n(o.element).children(y+x+w).children(C).children(o.options.tags.join(x)).filter((function(){return parseInt(n(this).attr(k),10)===e+1}));var s=a.length;var l;for(l=0;l<s;l++)o._resizeAdjacentColumn(a[l],t,i,r)},_resizeAdjacentColumn:function(e,n,i,r){var o=this.options.min;var a;a=l({value:n+r,min:o,max:t(i+n-o)}),this._resizeColumn(e,a)}});T.create=function(e){a.create(e,{name:"columnResizing",type:T,eventNamespace:h})},T.dispose=function(e){a.dispose(e,{eventNamespace:h})},i(r,{ColumnResizing:T})}(window.kendo),function(e){var t=window.Math.abs;var n=e.jQuery;var i=n.extend;var r=e.ui.editor;var o=r.TableElementResizing;var a=r.ResizingUtils;var s=a.getScrollBarWidth;var l=a.constrain;var d=a.calculatePercentageRatio;var c=a.inPercentages;var u=a.toPercentages;var p=a.toPixels;var f=e._outerHeight;var m=".kendoEditorRowResizing";var h="k-row-resize-handle";var g="k-row-resize-marker";var v="body";var b="tr";var y="tbody";var w="thead";var C="height";var k=o.extend({options:{tags:[b],min:20,rootElement:null,eventNamespace:m,rtl:!1,handle:{dataAttribute:"row",width:0,height:10,classNames:{handle:h,marker:g},template:'<div class="k-row-resize-handle-wrapper" unselectable="on" contenteditable="false"><div class="'+h+'"><div class="k-row-resize-marker-wrapper"><div class="'+g+'"></div></div></div></div>'}},elementBorderHovered:function(e,t){var i=this.options.handle[C];var r=e.offset().top+f(e);var o=t.clientY+n(e[0].ownerDocument).scrollTop();return o>r-i&&o<r+i},setResizeHandlePosition:function(t){var i=this.options;var r=i.handle[C];var o=n(i.rootElement);var a=o.is(v)?0:o.scrollTop();var l=o.is(v)?0:e.scrollLeft(o);var d=i.rtl?s(o[0]):0;var c=t.offset().left-(o.offset().left+parseFloat(o.css("borderLeftWidth")))-parseFloat(t.css("marginLeft"));var u=t.offset().top-(o.offset().top+parseFloat(o.css("borderTopWidth")))-parseFloat(t.css("marginTop"));var p=e.support.browser;i.rtl&&(p.mozilla||p.webkit&&p.version>=85)&&(l*=-1),this.resizeHandle.css({top:u+f(t)+a-r/2,left:c+(l-d),position:"absolute"})},setResizeHandleDimensions:function(){var e=this;var t=n(e.element.tHead||e.element.tBodies[0]);e.resizeHandle.css({width:t.width(),height:e.options.handle[C]})},setResizeHandleDragPosition:function(e){var t=this;var i=t.options;var r=i.min;var o=n(t.element).children(w);var a=n(t.element).children(y);var s=o.length>0?o:a;var d=n(t.resizeHandle);var c=n(e.currentTarget).data(i.handle.dataAttribute);var u=n(c);var p=n(i.rootElement);var m=p.is(v)?0:p.scrollTop();var h=s.offset().top-(p.offset().top+parseFloat(p.css("borderTopWidth")))-parseFloat(s.css("marginTop"));var g=u.offset().top-(p.offset().top+parseFloat(p.css("borderTopWidth")))-parseFloat(u.css("marginTop"));var b=d.offset().top-(Math.max(0,p.offset().top)+parseFloat(p.css("borderTopWidth")))-parseFloat(d.css("marginTop"));var k=l({value:b+m+e.y.delta,min:g+m+r,max:h+f(o)+f(a)+m-i.handle[C]-r});d.css({top:k})},resize:function(e){var i=this;var r=i.options;var o=n(e.currentTarget).data(r.handle.dataAttribute);var a=f(n(o));var s=n(i.element);var d=f(s);var u=s.children(w);var m=u.length>0?u.height():0;var h=s.children(y).height();var g=o.style[C];var v=l({value:a+e.y.initialDelta,min:r.min,max:t(m+h-r.min)});i._setRowsHeightInPixels(),o.style[C]=p(v),i._setTableHeight(d+(v-a)),c(g)&&i._setRowsHeightInPercentages()},_setRowsHeightInPixels:function(){var e=n(this.element).children(y+","+w).children(b);var t=e.length;var i=e.map((function(){return f(n(this))}));var r;for(r=0;r<t;r++)e[r].style[C]=p(i[r])},_setRowsHeightInPercentages:function(){var e=this;var t=n(e.element).children(w);var i=t.length>0?t.height():0;var r=n(e.element).children(y).height();var o=n(e.element).children(w+","+y).children(b);var a=o.length;var s=o.map((function(){return f(n(this))}));var l;for(l=0;l<a;l++)o[l].style[C]=u(d(s[l],i+r))},_setTableHeight:function(e){var t=this.element;c(t.style[C])?t.style[C]=u(d(e,n(t).parent().height())):t.style[C]=p(e)}});k.create=function(e){o.create(e,{name:"rowResizing",type:k,eventNamespace:m})},k.dispose=function(e){o.dispose(e,{eventNamespace:m})},i(r,{RowResizing:k})}(window.kendo),function(e){var t=e.jQuery;var n=t.extend;var i=t.noop;var r=e.ui.editor;var o=e.Class;var a=e.ui.Draggable;var s=e.Observable;var l=r.ResizingUtils.getScrollBarWidth;var d=e._outerWidth;var c=e._outerHeight;var u=".kendoEditorElementResizeHandle";var p="k-element-resize-handle";var f="dragStart";var m="drag";var h="dragEnd";var g="halfInside";var v="mouseover";var b="mouseout";var y="east";var w="north";var C="northeast";var k="northwest";var x="south";var _="southeast";var T="southwest";var N="west";var S=s.extend({init:function(e){var i=this;s.fn.init.call(i),i.options=n({},i.options,e),i.element=t(i.options.template).appendTo(i.options.appendTo)[0],i._attachEventHandlers(),i._addStyles(),i._initDraggable(),i._initPositioningStrategy(),i._initDraggingStrategy(),t(i.element).data("table",i.options.resizableElement)},destroy:function(){var e=this;t(e.element).off(u).remove(),e.element=null,e._destroyDraggable(),e.unbind()},options:{appendTo:null,direction:_,resizableElement:null,rtl:!1,template:"<div class='k-element-resize-handle-wrapper' unselectable='on' contenteditable='false'><div class='"+p+"'></div></div>"},events:[f,m,h,v,b],show:function(){this._setPosition()},_setPosition:function(){var e=this._positioningStrategy.getPosition();t(this.element).css({top:e.top,left:e.left,position:"absolute"})},_attachEventHandlers:function(){var e=this;t(e.element).on(v+u,e._onMouseOver.bind(e)).on(b+u,e._onMouseOut.bind(e))},_onMouseOver:function(){this.trigger(v)},_onMouseOut:function(){this.trigger(b)},_addStyles:function(){t(this.element).children("."+p).addClass("k-resize-"+this.options.direction)},_initPositioningStrategy:function(){var e=this;var t=e.options;e._positioningStrategy=E.create({name:t.direction,handle:e.element,resizableElement:t.resizableElement,rootElement:t.rootElement,rtl:t.rtl})},_initDraggable:function(){var e=this;var t=e.element;!e._draggable&&t&&(e._draggable=new a(t,{dragstart:e._onDragStart.bind(e),drag:e._onDrag.bind(e),dragend:e._onDragEnd.bind(e)}))},_onDragStart:function(){this.trigger(f)},_onDrag:function(e){var t=this;t.trigger(m,t._draggingStrategy.adjustDragDelta({deltaX:e.x.delta,deltaY:e.y.delta,initialDeltaX:e.x.initialDelta,initialDeltaY:e.y.initialDelta})),t.options.editor&&t.options.editor._handleSpaceAndNewLines()},_onDragEnd:function(){this.trigger(h)},_destroyDraggable:function(){var e=this;e._draggable&&(e._draggable.destroy(),e._draggable=null)},_initDraggingStrategy:function(){this._draggingStrategy=M.create({name:this.options.direction})}});var R=o.extend({init:function(){this._items=[]},register:function(e,t){this._items.push({name:e,type:t})},create:function(e){var t=this._items;var n=t.length;var i=e.name?e.name.toLowerCase():"";var r;var o;var a;for(a=0;a<n;a++)if((o=t[a]).name.toLowerCase()===i){r=o;break}if(r)return new r.type(e)}});var A=R.extend({});A.current=new A;var E=o.extend({init:function(e){this.options=n({},this.options,e)},options:{handle:null,offset:g,resizableElement:null,rootElement:null,rtl:!1},getPosition:function(){var e=this;var t=e.calculatePosition();var n=e.applyHandleOffset(t);return e.applyScrollOffset(n)},calculatePosition:i,applyHandleOffset:function(e){var n=this.options;var i=t(n.handle);return n.offset===g?{top:e.top-c(i)/2,left:e.left-d(i)/2}:e},applyScrollOffset:function(n){var i=this.options;var r=t(i.rootElement);var o=i.rtl?l(r[0]):0;var a=e.support.browser;var s;return r.is("body")?n:(s=e.scrollLeft(r)||0,i.rtl&&(a.mozilla||a.webkit&&a.version>=85)&&(s*=-1),{top:n.top+(r.scrollTop()||0),left:n.left+s-o})}});E.create=function(e){return A.current.create(e)};var z=E.extend({calculatePosition:function(){var e=t(this.options.resizableElement);var n=e.position();var i=parseInt(e.css("marginLeft"),10);return{top:n.top+c(e)/2,left:n.left+d(e)+i}}});A.current.register(y,z);var P=E.extend({calculatePosition:function(){var e=t(this.options.resizableElement);var n=e.position();var i=parseInt(e.css("marginLeft"),10);return{top:n.top,left:n.left+d(e)/2+i}}});A.current.register(w,P);var I=E.extend({calculatePosition:function(){var e=t(this.options.resizableElement);var n=e.position();var i=parseInt(e.css("marginLeft"),10);return{top:n.top,left:n.left+d(e)+i}}});A.current.register(C,I);var D=E.extend({calculatePosition:function(){var e=t(this.options.resizableElement);var n=e.position();var i=parseInt(e.css("marginLeft"),10);return{top:n.top,left:n.left+i}}});A.current.register(k,D);var H=E.extend({calculatePosition:function(){var e=t(this.options.resizableElement);var n=e.position();var i=parseInt(e.css("marginLeft"),10);return{top:n.top+c(e),left:n.left+d(e)/2+i}}});A.current.register(x,H);var O=E.extend({calculatePosition:function(){var e=t(this.options.resizableElement);var n=e.position();var i=parseInt(e.css("marginLeft"),10);return{top:n.top+c(e),left:n.left+d(e)+i}}});A.current.register(_,O);var B=E.extend({calculatePosition:function(){var e=t(this.options.resizableElement);var n=e.position();var i=parseInt(e.css("marginLeft"),10);return{top:n.top+c(e),left:n.left+i}}});A.current.register(T,B);var F=E.extend({calculatePosition:function(){var e=t(this.options.resizableElement);var n=e.position();var i=parseInt(e.css("marginLeft"),10);return{top:n.top+c(e)/2,left:n.left+i}}});A.current.register(N,F);var L=R.extend({});L.current=new L;var M=o.extend({init:function(e){this.options=n({},this.options,e)},options:{deltaX:{adjustment:null,modifier:null},deltaY:{adjustment:null,modifier:null}},adjustDragDelta:function(e){var t=this.options;var n=t.deltaX.adjustment*t.deltaX.modifier;var i=t.deltaY.adjustment*t.deltaY.modifier;return{deltaX:e.deltaX*n,deltaY:e.deltaY*i,initialDeltaX:e.initialDeltaX*n,initialDeltaY:e.initialDeltaY*i}}});M.create=function(e){return L.current.create(e)};var W=M.extend({options:{deltaX:{adjustment:1,modifier:1},deltaY:{adjustment:0,modifier:0}}});var U=W.extend({options:{deltaX:{modifier:1}}});L.current.register(y,U);var V=W.extend({options:{deltaX:{modifier:-1}}});L.current.register(N,V);var j=M.extend({options:{deltaX:{adjustment:0,modifier:0},deltaY:{adjustment:1,modifier:1}}});var $=j.extend({options:{deltaY:{modifier:-1}}});L.current.register(w,$);var K=j.extend({options:{deltaY:{modifier:1}}});L.current.register(x,K);var q=M.extend({options:{deltaX:{adjustment:1,modifier:1},deltaY:{adjustment:1,modifier:1}}});var X=q.extend({options:{deltaX:{modifier:1},deltaY:{modifier:-1}}});L.current.register(C,X);var Y=q.extend({options:{deltaX:{modifier:-1},deltaY:{modifier:-1}}});L.current.register(k,Y);var Q=q.extend({options:{deltaX:{modifier:1},deltaY:{modifier:1}}});L.current.register(_,Q);var G=q.extend({options:{deltaX:{modifier:-1},deltaY:{modifier:1}}});L.current.register(T,G),n(r,{ElementResizeHandle:S})}(window.kendo),function(e){var t=window.Math;var n=t.min;var i=t.max;var r=e.jQuery;var o=r.contains;var a=r.extend;var s=e.support.browser;var l=e.ui.editor;var d=e.Class;var c=l.ElementResizeHandle;var u=l.ResizingUtils;var p=u.calculatePercentageRatio;var f=u.constrain;var m=u.inPercentages;var h=u.inPixels;var g=u.toPercentages;var v=u.toPixels;var b=e._outerWidth;var y=e._outerHeight;var w=l.RangeUtils;var C=".kendoEditorElementResizing";var k="k-element-resize-handle-wrapper";var x="k-element-resizing";var _="dragStart";var T="drag";var N="dragEnd";var S="keydown";var R="mousedown";var A="select";var E="tr";var z="tbody";var P="thead";var I="table";var D=["TABLE","IMG"];var H=",";var O="width";var B="height";function F(e){return void 0===e}var L=d.extend({init:function(e,t){var n=this;n.options=a({},n.options,t),n.handles=[],D.indexOf(e.nodeName)>=0&&(n.element=e)},destroy:function(){var e=this;r(e.element).off(C),e.element=null,r(e.options.rootElement).off(S+C),e._destroyResizeHandles()},options:{appendHandlesTo:null,rtl:!1,rootElement:null,minWidth:10,minHeight:10,handles:[{direction:"northwest"},{direction:"north"},{direction:"northeast"},{direction:"east"},{direction:"southeast"},{direction:"south"},{direction:"southwest"},{direction:"west"}]},resize:function(e){var t=this;var n=a({},{deltaX:0,deltaY:0,initialDeltaX:0,initialDeltaY:0},e);t._resizeWidth(n.deltaX,n.initialDeltaX),t._resizeHeight(n.deltaY,n.initialDeltaY),t.showResizeHandles()},_resizeWidth:function(){return!1},_resizeHeight:function(){return!1},_getMaxDimensionValue:function(t){var n=this;var i=r(n.element);var o=t.toLowerCase();var a=n.options.rtl?-1:1;var s=r(n.element).parent();var l=s[0];var d=s[o]();var c=a*(t===O?e.scrollLeft(s):s.scrollTop());return l&&l===i.closest("td")[0]?""!==l.style[o]||m(n.element.style[o])?d+c:1/0:d+c},showResizeHandles:function(){this._initResizeHandles(),this._showResizeHandles()},_initResizeHandles:function(){var e=this;var t=e.handles;var n=e.options;var i=e.options.handles;var r=i.length;var o;if(!(t&&t.length>0)){for(o=0;o<r;o++)e.handles.push(new c(a({appendTo:n.appendHandlesTo,resizableElement:e.element,rootElement:n.rootElement,rtl:n.rtl,editor:e.options.editor},i[o])));e._bindToResizeHandlesEvents()}},_destroyResizeHandles:function(){var e=this;var t=e.handles?e.handles.length:0;for(var n=0;n<t;n++)e.handles[n].destroy();e.handles=[]},_showResizeHandles:function(){var e=(this.handles||[]).length;var t;for(t=0;t<e;t++)this.handles[t].show()},_bindToResizeHandlesEvents:function(){return!1},_onResizeHandleDragStart:function(){var e=this;var t=r(e.element);t.addClass(x),e._initialElementHeight=y(t),e._initialElementWidth=b(t),e._disableKeyboard()},_onResizeHandleDrag:function(e){this.resize(e)},_onResizeHandleDragEnd:function(){r(this.element).removeClass(x),this._enableKeyboard()},_enableKeyboard:function(){r(this.options.rootElement).off(S+C)},_disableKeyboard:function(){r(this.options.rootElement).on(S+C,(function(e){e.preventDefault()}))}});var M=L.extend({_bindToResizeHandlesEvents:function(){var e=this;var t=e.handles||[];var n=t.length;var i;var r;for(i=0;i<n;i++)(r=t[i]).bind(_,e._onResizeHandleDragStart.bind(e)),r.bind(T,e._onResizeHandleDrag.bind(e)),r.bind(N,e._onResizeHandleDragEnd.bind(e))},_hasRowsInPixels:function(){var e=r(this.element).children(P+H+z).children(E);for(var t=0;t<e.length;t++)if(""===e[t].style.height||h(e[t].style.height))return!0;return!1},_resizeWidth:function(e,t){var o=this;var a=r(o.element);var s=a[0].style[O];var l=b(a);var d=a.parent().width();var c=o._getMaxDimensionValue(O);var u;var h;var y;var w;0!==e&&(F(o._initialElementWidth)&&(o._initialElementWidth=l),w=f({value:o._initialElementWidth+t,min:o.options.minWidth,max:c}),m(s)?(l+e>d?(h=i(w,d),y=n(w,d)):(h=n(w,d),y=i(w,d)),u=g(p(h,y))):u=v(w),o._setColumnsWidth(),a[0].style[O]=u)},_resizeHeight:function(e,t){var o=this;var a=r(o.element);var s=a[0].style[B];var l=y(a);var d=a.parent().height();var c=o._getMaxDimensionValue(B);var u;var h;var b;var w;var C=o.options.minHeight;var k=o._hasRowsInPixels();0!==e&&(F(o._initialElementHeight)&&(o._initialElementHeight=l),w=f({value:o._initialElementHeight+t,min:C,max:c}),k&&e<0&&o._setRowsHeightInPercentages(),m(s)?(l+e>d?(h=i(w,d),b=n(w,d)):(h=n(w,d),b=i(w,d)),u=g(p(h,b))):u=v(w),a[0].style[B]=u,k&&e<0&&o._setRowsHeightInPixels())},_setColumnsWidth:function(){var e=r(this.element);var t=e.parent()[0];var n=e.closest("td");var i=n.closest(E).children();var o=i.length;var a;if(function(e){var t=e.style.width;return""!==t?!!m(t):!!r(e).hasClass("k-table")}(e[0])&&t===n[0]&&""===t.style[O])for(a=0;a<o;a++)i[a].style[O]=v(r(i[a]).width())},_setRowsHeightInPercentages:function(){var e=this;var t=r(e.element).children(P);var n=t.length>0?t.height():0;var i=r(e.element).children(z).height();var o=r(e.element).children(P+H+z).children(E);var a=o.length;var s=o.map((function(){return y(r(this))}));var l;for(l=0;l<a;l++)o[l].style[B]=g(p(s[l],n+i))},_setRowsHeightInPixels:function(){var e=r(this.element).children(P+H+z).children(E);var t=e.length;var n=e.map((function(){return y(r(this))}));var i;for(i=0;i<t;i++)e[i].style[B]=v(n[i])}});var W=L.extend({_bindToResizeHandlesEvents:function(){var e=this;var t=e.handles||[];var n=t.length;var i;var r;for(i=0;i<n;i++)(r=t[i]).bind(_,e._onResizeHandleDragStart.bind(e)),"north"===r.options.direction||"south"===r.options.direction?r.bind(T,e._onResizeHandleDragVertical.bind(e)):"east"===r.options.direction||"west"===r.options.direction?r.bind(T,e._onResizeHandleDragHorizontal.bind(e)):r.bind(T,e._onResizeHandleDragLocked.bind(e)),r.bind(N,e._onResizeHandleDragEnd.bind(e))},_getDeltas:function(e){return a({},{deltaX:0,deltaY:0,initialDeltaX:0,initialDeltaY:0},e)},_onResizeHandleDragVertical:function(e){var t=this._getDeltas(e);this._resizeHeight(t.deltaY,t.initialDeltaY),this.showResizeHandles()},_onResizeHandleDragHorizontal:function(e){var t=this._getDeltas(e);this._resizeWidth(t.deltaX,t.initialDeltaX),this.showResizeHandles()},_onResizeHandleDragLocked:function(e){var t,n=Math.min(Math.abs(e.initialDeltaX),Math.abs(e.initialDeltaY)),i=this._initialElementWidth,r=this._initialElementHeight;n===e.initialDeltaX||n===-1*e.initialDeltaX?(e.initialDeltaY=e.initialDeltaX*r/i,e.deltaY=e.deltaX):n!==e.initialDeltaY&&n!==-1*e.initialDeltaY||(e.initialDeltaX=e.initialDeltaY*i/r,e.deltaX=e.deltaY),t=this._getDeltas(e),this._resizeWidth(t.deltaX,t.initialDeltaX),this._resizeHeight(t.deltaY,t.initialDeltaY),this.showResizeHandles()},_resizeWidth:function(e,t){var n=this;var i=r(n.element);var o=b(i);var a;var s;0!==e&&(F(n._initialElementWidth)&&(n._initialElementWidth=o),s=f({value:n._initialElementWidth+t,min:n.options.minWidth,max:n._getMaxDimensionValue(O)}),a=v(s),i[0].style[O]=a,i.attr(O,Math.floor(s)))},_resizeHeight:function(e,t){var n=this;var i=r(n.element);var o=y(i);var a;var s;0!==e&&(F(n._initialElementHeight)&&(n._initialElementHeight=o),s=f({value:n._initialElementHeight+t,min:n.options.minHeight,max:Number.MAX_SAFE_INTEGER}),a=v(s),i[0].style[B]=a,i.attr(B,Math.floor(s)))}});const U=d.extend({create:function(e){let t=this;r(e.body).on("dragstart"+C,(function(){var t=w.nodes(e.getRange()),n=!1;t.forEach((function(e){"IMG"===e.nodeName&&(n=!0)})),n&&t.length>1&&e.elementResizing._destroyResizeHandles()})).on("drop"+C,(function(){setTimeout((function(){var t=w.image(e.getRange());t&&(e.elementResizing._destroyResizeHandles(),e.elementResizing.element=t,e.elementResizing.showResizeHandles())}))})).on(R+C,I+H+"img",(function(n){var i=n.target;var r=n.currentTarget;var a=e.elementResizing;var s=a?a.element:null;if(a){if(s&&r!==s){if(o(r,s)&&s!==i&&o(s,i))return;s!==i&&(e._destroyElementResizing(),t._initResizing(e,r))}}else t._initResizing(e,r);e._showElementResizeHandles()})).on(R+C,(function(t){var n=e.elementResizing;var i=n?n.element:null;var a=t.target;var s=r(a).hasClass(k)||r(a).parents("."+k).length>0;!n||i===a||o(i,a)||s||e._destroyElementResizing()}))},dispose:function(e){r(e.body).off(C)},_initResizing:function(t,n){s.msie||(r(n).is(I)?t.elementResizing=t.tableResizing=new M(n,{appendHandlesTo:t.body,rtl:e.support.isRtl(t.element),rootElement:t.body,editor:t}):r(n).is("img")&&(t.elementResizing=new W(n,{appendHandlesTo:t.body,rtl:e.support.isRtl(t.element),rootElement:t.body,editor:t})),t._showElementResizeHandlesProxy&&(t.unbind(A,t._showElementResizeHandlesProxy),t.bind(A,t._showElementResizeHandlesProxy)))}});U.current=new U,a(l,{TableResizing:M,ImageResizing:W,ElementResizing:L,ElementResizingFactory:U})}(window.kendo),function(e,t){var n=window.kendo,i=n.ui.editor,r=i.EditorUtils,o=i.RangeUtils,a=i.Dom,s=r.registerTool,l=i.Command;var d=new i.BlockFormatFinder([{tags:["table"]}]);var c=new i.BlockFormatFinder([{tags:["td","th"]}]);var u=/([a-z]+|%)$/i;var p="scope";var f="col-index";var m="th";var h="td";var g=l.extend({exec:function(){var e=this;var r=e.editor;var o=e.range=e.lockRange();var a=e.options.tableCellWizard;var s=e._sourceTable=e.options.insertNewTable?t:e._selectedTable(o);var l=e._selectedTableCells=s?e._selectedCells(o):t;var d={visible:!1,messages:r.options.messages,closeCallback:e.onDialogClose.bind(e),table:e.parseTable(s,l),dialogOptions:r.options.dialogOptions,isRtl:n.support.isRtl(r.wrapper)};new i.TableWizardDialog(d).open(a)},onDialogClose:function(e){var t=this;t.releaseRange(t.range),e&&(t.options.insertNewTable?t.insertTable(t.createNewTable(e)):t.updateTable(e,t._sourceTable,t._selectedTableCells))},releaseRange:function(e){var t=this.editor.document;a.windowFromDocument(t).focus(),l.fn.releaseRange.call(this,e)},insertTable:function(e){var t=this.range;t.insertNode(e),t.collapse(!0),this.editor.selectRange(t),this._ensureFocusableAfterTable(e)},_ensureFocusableAfterTable:function(t){var n=e(t).parent().contents();var i=n.length-1;var r=n.get(i);for(;null!==r.nodeValue&&(" "===r.nodeValue||""===r.nodeValue);)i-=1,r=n.get(i);r===t&&a.insertAfter(a.createEmptyNode(this.editor.document,"p"),t)},updateTable:function(t,n,i){var r=this;var o=e(n.rows).toArray();var s=t.tableProperties;var l=s.rows;var d=n.tHead;var c=r._lastInCollection;var u,p;for(;i.length>1;)i.pop();u=i.length?c(i).parentNode:c(o),r._deleteTableRows(o,o.length-l),o.length<l&&r._addRows(u,l,o),a.reMapTableColumns(n,f),r._updateColumns(o,s.columns,i,u),r._updateTableProperties(n,s),p=t.cellProperties,i[0]&&a.attr(i[0],{id:(p||{}).id||null}),p&&(p.selectAllCells?e(o).children():e(i)).each((function(e,t){r._updateCellProperties(t,p,s)})),r._updateCaption(n,s),d?r._updateHeadersWithThead(n,t):r._updateHeadersNoThead(n,t),r._updateHeaderAssociates(n,s),a.clearTableMappings(n,f)},_isHeadingRow:function(e){return a.is(e.cells[0],m)&&a.is(e.parentNode,"thead")},_isHeadingCell:function(e){return a.is(e,m)},cellsWithHeadersAssociated:function(t){var n=e(t.rows).children();var i=[];var r=function(e){return i.indexOf(e)>-1};return n.each((function(e,t){t.id&&a.is(t,m)&&i.push(t.id)})),!!n.filter((function(e,t){var n=t.getAttribute("headers");var i;return!!(n&&!a.is(t,m)&&(i=n.split(" "))&&i.length>0)&&i.some(r)})).length},_insertCells:function(e,t,n){n=isNaN(n)?-1:n;for(var i=0;i<e;i++)t.insertCell(n).innerHTML="&nbsp;"},_deleteTableRows:function(e,t){for(var n,i,r=0;r<t;r++)(i=(n=e.pop()).parentNode).removeChild(n),i.rows.length||a.remove(i)},createNewTable:function(e){var t=this;var n=t.editor.document;var i=e.tableProperties;var r=a.create(n,"table");var o=0;var s;t._updateTableProperties(r,i),t._updateCaption(r,i),i.headerRows&&i.headerRows>0&&(s=r.createTHead(),t._createTableRows(e,s,o,!0),o+=i.headerRows);var l=r.createTBody();return t._createTableRows(e,l,o,!1),a.reMapTableColumns(r,f),"ids"===i.cellsWithHeaders?a.associateWithIds(r):"scope"===i.cellsWithHeaders&&t._addScopes(r,i.headerRows,i.headerColumns),a.clearTableMappings(r,f),r},_createTableRows:function(e,t,n,i){var r=e.tableProperties;var o=e.cellProperties;var a=r.columns;var s=i?r.headerRows:r.rows;var l=r.headerColumns;for(var d,c=n;c<s;c++){d=t.insertRow();for(var u,p=0;p<a;p++)u=i||l>p?document.createElement(m):document.createElement(h),d.appendChild(u),u.innerHTML="&nbsp;",o&&0===c&&0===p&&o.id&&(u.id=o.id),this._updateCellProperties(u,o&&(o.selectAllCells||0===c&&0===p)?o:{},r)}},_addRows:function(t,n,i){var r=e(t).index();var o=t.cells.length;var a=n-i.length;var s=t.parentNode;var l;for(;a;)l=s.insertRow(r+1),this._insertCells(o-l.cells.length,l),a--},_updateColumns:function(t,n,i,r){var o=this;var a=o._lastInCollection;var s=a(t[0].cells);var l=Number(s.getAttribute(f))+s.colSpan;if(l>n&&e(t).each((function(e,t){var i=a(t.cells);var r=Number(i.getAttribute(f))+i.colSpan;for(;r>n;)i.colSpan&&i.colSpan>1?i.colSpan-=1:t.deleteCell(-1),i=a(t.cells),r=Number(i.getAttribute(f))+i.colSpan})),l<n){var d=e(a(i)||a(r.cells)).index();e(t).each((function(e,t){var i=a(t.cells);o._insertCells(n-Number(i.getAttribute(f))-i.colSpan,t,d+1)}))}},_updateTableProperties:function(t,n){var i=this._getStylesData(n);a.attr(t,{cellSpacing:n.cellSpacing||null,topCellPadding:this._getNumericValue(n.topCellPadding)??"",leftCellPadding:this._getNumericValue(n.leftCellPadding)??"",bottomCellPadding:this._getNumericValue(n.bottomCellPadding)??"",rightCellPadding:this._getNumericValue(n.rightCellPadding)??"",className:n.className||null,id:n.id||null,summary:n.summary||null,style:i||null}),e(t).addClass("k-table")},_updateCellProperties:function(e,t,n){var i=this._getStylesData(t);i.paddingTop=this._getNumericValue(t.topCellPadding)??this._getNumericValue(n?.topCellPadding)??"",i.paddingLeft=this._getNumericValue(t.leftCellPadding)??this._getNumericValue(n?.leftCellPadding)??"",i.paddingBottom=this._getNumericValue(t.bottomCellPadding)??this._getNumericValue(n?.bottomCellPadding)??"",i.paddingRight=this._getNumericValue(t.rightCellPadding)??this._getNumericValue(n?.rightCellPadding)??"",i.margin=t.cellMargin||null,a.attr(e,{style:i||null,className:t.className||null})},_updateCaption:function(e,t){if(e.caption&&!t.captionContent)e.deleteCaption();else if(t.captionContent){var n=e.createCaption();n.innerHTML=t.captionContent;var i=this._getAlignmentData(t.captionAlignment);a.attr(n,{style:{textAlign:i.textAlign,verticalAlign:i.verticalAlign}})}},_updateHeadersNoThead:function(e,t){var n=t.tableProperties;var i=e.rows;var r,o,s,l;for(s=0;s<i.length;s++)for(r=i[s].cells,l=0;l<r.length;l++)o=r[l],!this._isHeadingCell(o)&&(s<n.headerRows||n.headerColumns>o.getAttribute(f))?a.changeTag(o,m,!1):this._isHeadingCell(o)&&s>=n.headerRows&&n.headerColumns<=o.getAttribute(f)&&a.changeTag(o,h,!1)},_updateHeadersWithThead:function(e,t){var n=this;var i=t.tableProperties;var r=e.tHead;var o=0;var s=e.tBodies[0];var l,d,c;if(s||(s=e.createTBody()),i.headerRows&&i.headerRows>0){for(r||(r=e.createTHead());r.rows.length<i.headerRows;)r.appendChild(s.rows[0]);for(;r.rows.length>i.headerRows;)s.appendChild(r.rows[0]);n._swapToHeaderCells(r)}else if(r){for(;r.rows.length>0;)s.appendChild(r.rows[r.rows.length-1]);e.deleteTHead()}for(;s.rows.length>o;){for(l=s.rows[o],c=0;c<l.cells.length;c++)d=l.cells[c],n._isHeadingCell(d)&&i.headerColumns<=d.getAttribute(f)?a.changeTag(d,h,!1):!n._isHeadingCell(d)&&i.headerColumns>d.getAttribute(f)&&a.changeTag(d,m,!1);o+=1}},_updateHeaderAssociates:function(e,t){var n=this;"ids"===t.cellsWithHeaders?(n.cellsWithHeadersAssociated(e)||n._removeScopes(e),a.associateWithIds(e)):"scope"===t.cellsWithHeaders?(n.cellsWithHeadersAssociated(e)&&n._removeAssociates(e),n._addScopes(e,t.headerRows,t.headerColumns)):n.cellsWithHeadersAssociated(e)?n._removeAssociates(e):n._removeScopes(e)},_addScopes:function(e,t,n){var i=e.rows;var r,o,a,s;for(r=0;r<i.length;r++)for(a=i[r],o=0;o<a.cells.length;o++)s=a.cells[o],r<t?s.setAttribute(p,"col"):s.getAttribute(f)<n&&s.setAttribute(p,"row")},_removeScopes:function(t){e(t).find(m).removeAttr(p),e(t).find("col").remove(),e(t).find("colgroup").remove()},_removeAssociates:function(t){e(t).find("th, td").removeAttr("id headers")},_swapToHeaderCells:function(t){e(t).find("td").each((function(e,t){a.changeTag(t,m,!1)}))},_getStylesData:function(t){var n=this._getAlignmentData(t.alignment);var i="wrapText"in t?t.wrapText?"":"nowrap":null;return e.extend({width:t.width?t.width+t.widthUnit:null,height:t.height?t.height+t.heightUnit:null,textAlign:n.textAlign,verticalAlign:n.verticalAlign,backgroundColor:t.bgColor||"",borderWidth:t.borderWidth,borderStyle:t.borderStyle,borderColor:t.borderColor||"",borderCollapse:t.collapseBorders?"collapse":null,whiteSpace:i},this._getTablePositionData(t.position))},_getAlignmentData:function(e){var t="";var n=t;if(e)if(-1!=e.indexOf(" ")){var i=e.split(" ");t=i[0],n=i[1]}else t=e;return{textAlign:t,verticalAlign:n}},_getTablePositionData:function(e){return e?{marginLeft:"left"!=e?"auto":"",marginRight:"right"!=e?"auto":""}:{}},parseTable:function(n,i){if(!n)return{tableProperties:{},selectedCells:[]};var r=this;var o=n.style;var s=n.rows;var l=n.caption;var d=e(l?l.cloneNode(!0):t);d.find(".k-marker").remove();var c=n.className;c=(c=(c=c.replace(/^k-table\s|\sk-table$/,"")).replace(/\sk-table\s/," ")).replace(/^k-table$/,"");var u=r._getAlignment(n,!0);var p=r._getTablePosition(n);var m=l?r._getAlignment(l):t;var h=a._getNumberOfHeaderRows(n);var g;g=r.cellsWithHeadersAssociated(n)?"ids":e(n).find("th[scope]").length>0?"scope":"none",a.reMapTableColumns(n,f);var v=a._getNumberOfColumns(n);var b=a._getNumberOfHeaderColumns(n,h);a.clearTableMappings(n,f);var y={tableProperties:{width:o.width||n.width?parseFloat(o.width||n.width):null,height:o.height||n.height?parseFloat(o.height||n.height):null,columns:v,rows:s.length,widthUnit:r._getUnit(o.width),heightUnit:r._getUnit(o.height),cellSpacing:n.cellSpacing,topCellPadding:n.topCellPadding,leftCellPadding:n.leftCellPadding,bottomCellPadding:n.bottomCellPadding,rightCellPadding:n.rightCellPadding,alignment:u.textAlign,position:p,bgColor:o.backgroundColor||n.bgColor,className:c,id:n.id,borderWidth:o.borderWidth||n.border,borderColor:o.borderColor,borderStyle:o.borderStyle||"",collapseBorders:!!o.borderCollapse,summary:n.summary,captionContent:l?d.html():"",captionAlignment:l&&m.textAlign?m.textAlign+" "+m.verticalAlign:"",headerRows:h,headerColumns:b,cellsWithHeaders:g},selectedCells:[]};return y.rows=r.parseTableRows(s,i,y),y},parseTableRows:function(t,n,i){var r,o,a,s,l=[];for(var d=0;d<t.length;d++){r={cells:[]},o=t[d].cells,l.push(r);for(var c=0;c<o.length;c++)a=o[c],s=this.parseCell(a),-1!=e.inArray(a,n)&&i.selectedCells.push(s),r.cells.push(s)}return l},parseCell:function(e){var t=this;var n=e.style;var i=t._getAlignment(e);return i=i.textAlign?i.textAlign+" "+i.verticalAlign:"",{width:n.width||e.width?parseFloat(n.width||e.width):null,height:n.height||e.height?parseFloat(n.height||e.height):null,widthUnit:t._getUnit(n.width),heightUnit:t._getUnit(n.height),cellMargin:n.margin,topCellPadding:n.paddingTop,leftCellPadding:n.paddingLeft,bottomCellPadding:n.paddingBottom,rightCellPadding:n.paddingRight,alignment:i,bgColor:n.backgroundColor||e.bgColor,className:e.className,id:e.id,borderWidth:n.borderWidth||e.border,borderColor:n.borderColor,borderStyle:n.borderStyle,wrapText:"nowrap"!=n.whiteSpace}},_getTablePosition:function(e){var t=e.style;return"auto"==t.marginLeft&&"auto"==t.marginRight?"center":"auto"==t.marginLeft?"right":"left"},_getAlignment:function(e,t){var n=e.style;var i=n.textAlign||e.align||"";if(t)return{textAlign:i};var r=n.verticalAlign||e.vAlign||"";return i&&r?{textAlign:i,verticalAlign:r}:!i&&r?{textAlign:"left",verticalAlign:r}:i&&!r?{textAlign:i,verticalAlign:"top"}:{textAlign:"",verticalAlign:""}},_getUnit:function(e){var t=(e||"").match(u);return t?t[0]:"px"},_selectedTable:function(e){var t=a.filterBy(o.nodes(e),a.htmlIndentSpace,!0);return d.findSuitable(t)[0]},_selectedCells:function(e){var t=a.filterBy(o.nodes(e),a.htmlIndentSpace,!0);return c.findSuitable(t)},_lastInCollection:function(e){return e[e.length-1]},_getNumericValue:function(e){return isNaN(e)&&"string"!=typeof e?null:e}});var v=i.Tool.extend({command:function(e){return e.insertNewTable=this.options.insertNewTable,e.tableCellWizard=!!this.options.tableCellWizard,new g(e)}});var b=v.extend({update:function(e,t){var n=!d.isFormatted(t),i=e.closest(".k-toolbar").getKendoToolBar();!0===n?i.hide(e):i.show(e)}});var y=v.extend({update:function(e,t){var n=!d.isFormatted(t),i=e.closest(".k-toolbar").getKendoToolBar();!0===n?i.hide(e):i.show(e)}});n.ui.editor.TableWizardTool=v,n.ui.editor.TableWizardCommand=g,s("tableProperties",new b({command:g,insertNewTable:!1,property:"tableProperties"})),s("tableCellProperties",new y({command:g,tableCellWizard:!0,insertNewTable:!1,property:"tableCellProperties"}))}(window.kendo.jQuery),function(e){const t="k-form-field",n="k-visibility-invisible",i=".";var r=window.kendo,o=r.htmlEncode,a={format:"0",min:0},s=["px","em"],l=["solid","dotted","dashed","double","groove","ridge","inset","outset","initial","inherit","none","hidden"];var d={dataSource:[{className:"text-wrap",value:"wrap"},{className:"parameter-string",value:"nowrap"}],dataTextField:"className",dataValueField:"value",template:({className:t,tooltip:n})=>r.ui.icon(e(`<span title="${o(n)}"></span>`),{icon:o(t)})+o(n),valueTemplate:({className:t,tooltip:n})=>r.ui.icon(e(`<span title="${o(n)}"></span>`),{icon:o(t),iconClass:"k-text-wrap"})+o(n)};var c={dataSource:[{className:"table-position-start",value:"left"},{className:"table-position-center",value:"center"},{className:"table-position-end",value:"right"}],dataTextField:"className",dataValueField:"value",template:({className:t,tooltip:n})=>r.ui.icon(e(`<span title="${o(n)}"></span>`),{icon:o(t)})+o(n),valueTemplate:({className:t,tooltip:n})=>r.ui.icon(e(`<span title="${o(n)}"></span>`),{icon:o(t),iconClass:"k-align-group"})+o(n)};var u={dataSource:[{className:"table-align-middle-left",value:"left"},{className:"table-align-middle-center",value:"center"},{className:"table-align-middle-right",value:"right"},{className:"align-remove",value:""}],dataTextField:"className",dataValueField:"value",template:({className:t,tooltip:n})=>r.ui.icon(e(`<span title="${o(n)}"></span>`),{icon:o(t)})+o(n),valueTemplate:({className:t,tooltip:n})=>r.ui.icon(e(`<span title="${o(n)}"></span>`),{icon:o(t),iconClass:"k-align-group"})+o(n)};var p={dataSource:[{className:"table-align-top-left",value:"left top"},{className:"table-align-top-center",value:"center top"},{className:"table-align-top-right",value:"right top"},{className:"table-align-middle-left",value:"left middle"},{className:"table-align-middle-center",value:"center middle"},{className:"table-align-middle-right",value:"right middle"},{className:"table-align-bottom-left",value:"left bottom"},{className:"table-align-bottom-center",value:"center bottom"},{className:"table-align-bottom-right",value:"right bottom"},{className:"align-remove",value:""}],dataTextField:"className",dataValueField:"value",template:({className:t,tooltip:n})=>r.ui.icon(e(`<span title="${o(n)}"></span>`),{icon:o(t)})+o(n),valueTemplate:({className:t,tooltip:n})=>r.ui.icon(e(`<span title="${o(n)}"></span>`),{icon:o(t),iconClass:"k-align-group"})+o(n)};var f={dataSource:[{className:"table-align-top-left",value:"left top"},{className:"table-align-top-center",value:"center top"},{className:"table-align-top-right",value:"right top"},{className:"table-align-bottom-left",value:"left bottom"},{className:"table-align-bottom-center",value:"center bottom"},{className:"table-align-bottom-right",value:"right bottom"},{className:"align-remove",value:""}],dataTextField:"className",dataValueField:"value",template:({className:t,tooltip:n})=>r.ui.icon(e(`<span title="${o(n)}"></span>`),{icon:o(t)}),valueTemplate:({className:t,tooltip:n})=>r.ui.icon(e(`<span title="${o(n)}"></span>`),{icon:o(t),iconClass:"k-align-group"})};var m=({messages:e})=>`<div class="k-editor-dialog k-editor-table-wizard-window k-action-window k-popup-edit-form"><div id="k-table-wizard-tabs" class="k-root-tabs"><ul><li class="k-active">${e.tableTab}</li><li>${e.accessibilityTab}</li></ul><div id="k-table-properties"></div><div id="k-accessibility-properties"></div></div><div class="k-actions k-actions-start k-actions-horizontal k-window-buttons">`+r.html.renderButton(`<button class="k-dialog-ok"><span class="k-button-text">${e.dialogOk}</span></button>`,{icon:"check",themeColor:"primary"})+r.html.renderButton(`<button class="k-dialog-close"><span class="k-button-text">${e.dialogCancel}</span></button>`,{icon:"cancel-outline"})+"</div></div>";var h=({messages:e})=>'<div class="k-editor-dialog k-editor-table-wizard-window k-action-window k-popup-edit-form"><div id="k-cell-properties"></div><div class="k-actions k-actions-start k-actions-horizontal k-window-buttons">'+r.html.renderButton(`<button class="k-dialog-ok"><span class="k-button-text">${e.dialogOk}</span></button>`,{icon:"check",themeColor:"primary"})+r.html.renderButton(`<button class="k-dialog-close"><span class="k-button-text">${e.dialogCancel}</span></button>`,{icon:"cancel-outline"})+"</div></div>";var g=r.Class.extend({init:function(e){this.options=e},_openTablePropertiesDialog:function(){var t,n=this,i=n.options,o=i.dialogOptions,a=i.table,s=i.messages,l=r.support.browser.msie;function d(e){e.preventDefault(),n.destroy(),t.destroy()}function c(e){d(e),i.closeCallback()}o.close=c,o.minWidth=700,o.width=700,o.title=s.tableProperties,o.visible=i.visible;var u=(t=e(n._dialogTemplate(s)).appendTo(document.body).kendoWindow(o).addClass("k-editor-window").closest(".k-window").toggleClass("k-rtl",i.isRtl).end().find(".k-dialog-ok").on("click",(function(e){n.collectTableDialogValues(a),d(e),n.change&&n.change(),i.closeCallback(a)})).end().find(".k-dialog-close").on("click",c).end().data("kendoWindow")).element;if(this.components={},n._initTabStripComponent(u),n._tablePropertiesForm=n._createTablePropertiesForm(t,s),n._accessibilityPropertiesForm=n._createAccessibilityPropertiesForm(t,s),t.center(),t.open(),l){var p=u.closest(".k-window").height();u.css("max-height",p)}},_openCellPropertiesDialog:function(){var t,n=this,i=n.options,o=i.dialogOptions,a=i.table,s=i.messages,l=r.support.browser.msie;function d(e){e.preventDefault(),n.destroy(),t.destroy()}function c(e){d(e),i.closeCallback()}o.close=c,o.minWidth=400,o.title=s.tableCellProperties,o.visible=i.visible;var u=(t=e(n._dialogTemplate(s,h)).appendTo(document.body).kendoWindow(o).addClass("k-editor-window").closest(".k-window").toggleClass("k-rtl",i.isRtl).end().find(".k-dialog-ok").on("click",(function(e){n.collectCellDialogValues(a),d(e),n.change&&n.change(),i.closeCallback(a)})).end().find(".k-dialog-close").on("click",c).end().data("kendoWindow")).element;if(n._cellPropertiesForm=n._createCellPropertiesForm(t,s),t.center(),t.open(),l){var p=u.closest(".k-window").height();u.css("max-height",p)}},open:function(e){e?this._openCellPropertiesDialog():this._openTablePropertiesDialog()},_initTabStripComponent:function(e){(this.components={}).tabStrip=e.find("#k-table-wizard-tabs").kendoTabStrip({animation:!1}).data("kendoTabStrip")},collectTableDialogValues:function(){var e=this;var t=e.options.table;e._collectTableViewValues(t),e._collectAccessibilityViewValues(t)},collectCellDialogValues:function(){var e=this.options.table;this._collectCellViewValues(e)},_collectTableViewValues:function(e){var t=this.components.tableView;var n=e.tableProperties;var i=e.cellProperties=e.cellProperties||{};n.width=t.width.value(),n.widthUnit=t.widthUnit.value(),n.height=t.height.value(),n.columns=t.columns.value(),n.rows=t.rows.value(),n.heightUnit=t.heightUnit.value(),n.cellSpacing=t.cellSpacing.value(),n.topCellPadding=t.topCellPadding.value(),n.leftCellPadding=t.leftCellPadding.value(),n.bottomCellPadding=t.bottomCellPadding.value(),n.rightCellPadding=t.rightCellPadding.value(),n.alignment=t.alignment.value(),n.position=t.position.value(),n.bgColor=t.bgColor.value(),n.borderWidth=t.borderWidth.value(),n.borderColor=t.borderColor.value(),n.borderStyle=t.borderStyle.value(),n.collapseBorders=t.collapseBorders.check(),i.width||(i.selectAllCells=!0,i.width=100/e.tableProperties.columns,i.widthUnit="%")},_collectCellViewValues:function(e){var t=e.cellProperties=e.cellProperties||{};var n=this.components.cellView;t.selectAllCells=n.selectAllCells.check(),t.width=n.width.value(),t.widthUnit=n.widthUnit.value(),t.height=n.height.value(),t.heightUnit=n.heightUnit.value(),t.independentCellPaddings=n.independentCellPaddings.check(),t.topCellPadding=n.topCellPadding.value(),t.leftCellPadding=n.leftCellPadding.value(),t.bottomCellPadding=n.bottomCellPadding.value(),t.rightCellPadding=n.rightCellPadding.value(),t.cellMargin=n.cellMargin.value(),t.alignment=n.alignment.value(),t.bgColor=n.bgColor.value(),t.className=n.className.value(),t.id=n.id.value(),t.borderWidth=n.borderWidth.value(),t.borderColor=n.borderColor.value(),t.borderStyle=n.borderStyle.value(),t.wrapText="wrap"==n.wrapTextValue.value(),t.width||(t.selectAllCells=!0,t.width=100/e.tableProperties.columns,t.widthUnit="%")},_collectAccessibilityViewValues:function(e){var t=e.tableProperties;var n=this.components.accessibilityView;t.captionContent=n.captionContent.value(),t.captionAlignment=n.captionAlignment.value(),t.summary=n.summary.value(),t.cellsWithHeaders=n.cellsWithHeaders.value(),t.className=n.className.value(),t.id=n.id.value(),t.headerRows=n.headerRows.value(),t.headerColumns=n.headerColumns.value()},_addUnit:function(t,n){n&&-1==e.inArray(n,t)&&t.push(n)},_initNumericTextbox:function(t,n,i,r,o){var s=r[n]=t.kendoNumericTextBox(o?e.extend({},a,o):a).data("kendoNumericTextBox");n in i&&s.value(parseInt(i[n],10))},_initDropDownList:function(e,t,n,i,r){var o=i[t]=e.kendoDropDownList({dataSource:r}).data("kendoDropDownList");this._setComponentValue(o,n,t)},_initBorderStyleDropDown:function(e,t,n,i,r){var o=i[t]=e.kendoDropDownList({dataSource:r,optionLabel:this.options.messages.borderNone}).data("kendoDropDownList");this._setComponentValue(o,n,t)},_initTablePositionDropDown:function(e,t){var n=this.options.messages;var i=this.components.tableView;var r=c.dataSource;r[0].tooltip=n.tableAlignLeft,r[1].tooltip=n.tableAlignCenter,r[2].tooltip=n.tableAlignRight,this._initPositionDropDown(e,c,"position",t,i)},_initTableAlignmentDropDown:function(e,t){var n=this.options.messages;var i=this.components.tableView;var r=u.dataSource;r[0].tooltip=n.alignLeft,r[1].tooltip=n.alignCenter,r[2].tooltip=n.alignRight,r[3].tooltip=n.alignRemove,this._initAlignmentDropDown(e,u,"alignment",t,i)},_initCellAlignmentDropDown:function(e,t){var n=this.options.messages;var i=this.components.cellView;var r=p.dataSource;r[0].tooltip=n.alignLeftTop,r[1].tooltip=n.alignCenterTop,r[2].tooltip=n.alignRightTop,r[3].tooltip=n.alignLeftMiddle,r[4].tooltip=n.alignCenterMiddle,r[5].tooltip=n.alignRightMiddle,r[6].tooltip=n.alignLeftBottom,r[7].tooltip=n.alignCenterBottom,r[8].tooltip=n.alignRightBottom,r[9].tooltip=n.alignRemove,this._initAlignmentDropDown(e,p,"alignment",t,i)},_initAccessibilityAlignmentDropDown:function(e,t){var n=this.options.messages;var i=this.components.accessibilityView;var r=f.dataSource;r[0].tooltip=n.alignLeftTop,r[1].tooltip=n.alignCenterTop,r[2].tooltip=n.alignRightTop,r[3].tooltip=n.alignLeftBottom,r[4].tooltip=n.alignCenterBottom,r[5].tooltip=n.alignRightBottom,r[6].tooltip=n.alignRemove,this._initAlignmentDropDown(e,f,"captionAlignment",t,i)},_initTextWrapDropDown:function(e,t){var n=this.options.messages;var i="wrapTextValue";t.wrapTextValue=t.wrapText?"wrap":"nowrap";var r=this.components.cellView;var o=d.dataSource;o[0].tooltip=n.wrapText,o[1].tooltip=n.fitToCell;var a=r[i]=e.kendoDropDownList(d).data("kendoDropDownList");a.list.addClass("k-text-wrap"),this._setComponentValue(a,t,i)},_initPositionDropDown:function(e,t,n,i,r){var o=r[n]=e.kendoDropDownList(t).data("kendoDropDownList");o.list.addClass("k-position"),this._setComponentValue(o,i,n)},_initAlignmentDropDown:function(e,t,n,i,r){var o=r[n]=e.kendoDropDownList(t).data("kendoDropDownList");o.list.addClass("k-align"),this._setComponentValue(o,i,n)},_initAssociationDropDown:function(e,t,n,i,r){var o=r[t]=e.kendoDropDownList(n).data("kendoDropDownList");this._setComponentValue(o,i,t)},_setComponentValue:function(e,t,n){n in t&&e.value(t[n])},_initColorPicker:function(e,t,n,i){var r=i[t]=e.kendoColorPicker({buttons:!1,clearButton:!0}).data("kendoColorPicker");n[t]&&r.value(n[t])},_initInput:function(e,t,n,i,r){var o=i[t]=e.kendoTextBox(r||{}).data("kendoTextBox");t in n&&o.value(n[t])},_initCheckbox:function(e,t,n,i,r){var o=i[t]=e.kendoCheckBox(r||{}).data("kendoCheckBox");t in n&&o.check(n[t])},_initTextArea:function(e,t,n,i,r){var o=i[t]=e.kendoTextArea(r||{}).data("kendoTextArea");t in n&&o.value(n[t])},destroy:function(){this._destroyComponents(this.components),delete this.components},_destroyComponents:function(e){for(var t in e)e[t].destroy&&e[t].destroy(),delete e[t]},_dialogTemplate:function(e,t){return r.template(t||m)({messages:e})},_onPaddingTopChange:function(e){let t=this.components.tableView?"tableView":"cellView",n=this.components[t],i=!n.independentCellPaddings.check(),r=n.topCellPadding,o=r.value(),a=n.leftCellPadding,s=n.bottomCellPadding,l=n.rightCellPadding;i&&(a.value(o),s.value(o),l.value(o)),r._cachedPadding=o},_onPaddingCheckChange:function(e){let r=this.components.tableView?"tableView":"cellView",o=this.options.messages,a=e.sender.check(),s=this.components[r],l=s.topCellPadding,d=s.leftCellPadding,c=s.bottomCellPadding,u=s.rightCellPadding,p=l.value(),f=c.value(),m=d.value(),h=u.value();a?(isNaN(l._cachedPadding)||l.value(l._cachedPadding),d.wrapper.closest(i+t).removeClass(n),c.wrapper.closest(i+t).removeClass(n),u.wrapper.closest(i+t).removeClass(n),l.wrapper.closest(i+t).find(".k-form-label").text(o.topPadding)):(p===f&&p===m&&p===h?(d.value(p),c.value(p),u.value(p)):l.value(null),d.wrapper.closest(i+t).addClass(n),c.wrapper.closest(i+t).addClass(n),u.wrapper.closest(i+t).addClass(n),l.wrapper.closest(i+t).find(".k-form-label").text(o.cellPadding))},_onColumnsNumberChange:function(e){var t=this.components.accessibilityView.headerColumns;var n=t.value();var i=e.sender.value();i<n&&t.value(i),t.max(i)},_onRowsNumberChange:function(e){var t=this.components.accessibilityView.headerRows;var n=t.value();var i=e.sender.value();i<n&&t.value(i),t.max(i)},_createTablePropertiesForm:function(t,n){var i=this;var r=i.options.table;var a=t.element.find("#k-table-properties");var d=i.components.tableView={};var c=r.tableProperties=r.tableProperties||{};var u;return i._addUnit(s,c.widthUnit),i._addUnit(s,c.heightUnit),c.borderStyle=c.borderStyle||"",(u=a.kendoForm({renderButtons:!1,layout:"grid",grid:{cols:4},items:[{colSpan:2,field:"k-editor-table-columns",label:o(n.columns),editor:function(t,n){i._initNumericTextbox(e('<input type="numeric" id="k-editor-table-columns" />').appendTo(t),"columns",c,d,{min:1,value:4,change:i._onColumnsNumberChange.bind(i)})}},{colSpan:2,field:"k-editor-table-rows",label:o(n.rows),editor:function(t,n){i._initNumericTextbox(e('<input type="numeric" id="k-editor-table-rows" />').appendTo(t),"rows",c,d,{min:1,value:4,change:i._onRowsNumberChange.bind(i)})}},{colSpan:1,field:"k-editor-table-width",label:o(n.width),editor:function(t,r){i._initNumericTextbox(e('<input id="k-editor-table-width" />').appendTo(t),"width",c,d,{placeholder:o(n.auto)})}},{colSpan:1,field:"k-editor-table-width-type",label:{encoded:!1,text:"&nbsp;"},editor:function(t,r){i._initDropDownList(e(`<input id="k-editor-table-width-type" aria-label="${n.units}" />`).appendTo(t),"widthUnit",c,d,s)}},{colSpan:1,field:"k-editor-table-height",label:o(n.height),editor:function(t,r){i._initNumericTextbox(e('<input id="k-editor-table-height" />').appendTo(t),"height",c,d,{placeholder:o(n.auto)})}},{colSpan:1,field:"k-editor-table-height-type",label:{encoded:!1,text:"&nbsp;"},editor:function(t,r){i._initDropDownList(e(`<input id="k-editor-table-height-type" aria-label="${n.units}" />`).appendTo(t),"heightUnit",c,d,s)}},{colSpan:2,field:"k-editor-table-position",label:o(n.position),editor:function(t,n){i._initTablePositionDropDown(e('<input id="k-editor-table-position" class="k-position" />').appendTo(t),c)}},{colSpan:2,field:"k-editor-table-alignment",label:o(n.alignment),editor:function(t,n){i._initTableAlignmentDropDown(e('<input id="k-editor-table-alignment" class="k-align" />').appendTo(t),c)}},{colSpan:2,field:"k-editor-table-cell-spacing",label:o(n.cellSpacing),editor:function(t,r){i._initNumericTextbox(e('<input id="k-editor-table-cell-spacing" />').appendTo(t),"cellSpacing",c,d,{placeholder:o(n.auto)})}},{type:"group",label:"Cell Paddings",layout:"grid",colSpan:4,grid:{cols:4,gutter:20},items:[{colSpan:"full",field:"k-editor-padding-all-sides",label:"",editor:function(t,r){i._initCheckbox(e('<input id="k-editor-padding-all-sides" />').appendTo(t),"independentCellPaddings",c,d,{checked:!0,label:o(n.independentCellPaddings),change:i._onPaddingCheckChange.bind(i)})}},{colSpan:1,field:"k-editor-table-cell-padding-top",label:o(n.topPadding),editor:function(t,r){i._initNumericTextbox(e('<input id="k-editor-table-cell-padding-top" />').appendTo(t),"topCellPadding",c,d,{placeholder:o(n.auto),change:i._onPaddingTopChange.bind(i)})}},{colSpan:1,field:"k-editor-table-cell-padding-right",label:o(n.rightPadding),editor:function(t,r){i._initNumericTextbox(e('<input id="k-editor-table-cell-padding-right" />').appendTo(t),"rightCellPadding",c,d,{placeholder:o(n.auto)})}},{colSpan:1,field:"k-editor-table-cells-padding-bottom",label:o(n.bottomPadding),editor:function(t,r){i._initNumericTextbox(e('<input id="k-editor-table-cell-padding-bottom" />').appendTo(t),"bottomCellPadding",c,d,{placeholder:o(n.auto)})}},{colSpan:1,field:"k-editor-table-cell-padding-left",label:o(n.leftPadding),editor:function(t,r){i._initNumericTextbox(e('<input id="k-editor-table-cell-padding-left" />').appendTo(t),"leftCellPadding",c,d,{placeholder:o(n.auto)})}}]},{type:"group",label:"Borders",layout:"grid",colSpan:4,grid:{cols:4,gutter:10},items:[{colSpan:"full",field:"k-editor-table-bg",label:o(n.tableBackground),editor:function(t,n){i._initColorPicker(e('<input id="k-editor-table-bg" />').appendTo(t),"bgColor",c,d)}},{colSpan:1,field:"k-editor-border-width",label:o(n.borderWidth),editor:function(t,n){i._initNumericTextbox(e('<input id="k-editor-border-width" />').appendTo(t),"borderWidth",c,d)}},{colSpan:1,field:"k-editor-border-color",label:o(n.borderColor),editor:function(t,n){i._initColorPicker(e('<input id="k-editor-border-color" />').appendTo(t),"borderColor",c,d)}},{colSpan:2,field:"k-editor-border-style",label:o(n.borderStyle),editor:function(t,n){i._initBorderStyleDropDown(e('<input id="k-editor-border-style" />').appendTo(t),"borderStyle",c,d,l)}},{colSpan:"full",field:"k-editor-collapse-borders",label:"",editor:function(t,r){i._initCheckbox(e('<input id="k-editor-collapse-borders"/>').appendTo(t),"collapseBorders",c,d,{label:o(n.collapseBorders)})}}]}]}).data("kendoForm")).layoutWrapper.addClass("k-gap-x-4"),u},_createCellPropertiesForm:function(t,n){var i=this;var r=i.options.table;var a=t.element.find("#k-cell-properties");var d=(i.components=i.components||{}).cellView={};var c=r.selectedCells&&r.selectedCells[0]||{borderStyle:"",wrapText:!0};var u;return i._addUnit(s,c.widthUnit),i._addUnit(s,c.heightUnit),(u=a.kendoForm({renderButtons:!1,layout:"grid",grid:{cols:4},items:[{colSpan:"full",field:"k-editor-selectAllCells",label:"",editor:function(t,a){i._initCheckbox(e('<input id="k-editor-selectAllCells" />').appendTo(t),"selectAllCells",r.tableProperties,d,{label:o(n.selectAllCells)})}},{colSpan:1,field:"k-editor-cell-width",label:o(n.width),hint:o(n.applyToColumn),editor:function(t,r){i._initNumericTextbox(e('<input id="k-editor-cell-width" />').appendTo(t),"width",c,d,{placeholder:o(n.auto)})}},{colSpan:1,field:"k-editor-cell-width-type",label:{encoded:!1,text:"&nbsp;"},editor:function(t,r){i._initDropDownList(e(`<input id="k-editor-cell-width-type" aria-label="${n.units}" />`).appendTo(t),"widthUnit",c,d,s)}},{colSpan:1,field:"k-editor-cell-height",label:o(n.height),hint:o(n.applyToRow),editor:function(t,r){i._initNumericTextbox(e('<input id="k-editor-cell-height" />').appendTo(t),"height",c,d,{placeholder:o(n.auto)})}},{colSpan:1,field:"k-editor-cell-height-type",label:{encoded:!1,text:"&nbsp;"},editor:function(t,r){i._initDropDownList(e(`<input id="k-editor-cell-height-type" aria-label="${n.units}" />`).appendTo(t),"heightUnit",c,d,s)}},{colSpan:2,field:"k-editor-cell-alignment",label:o(n.alignment),editor:function(t,n){i._initCellAlignmentDropDown(e('<input id="k-editor-cell-alignment" class="k-align" />').appendTo(t),c)}},{colSpan:2,field:"k-editor-wrap-text",label:"Text control",editor:function(t,n){i._initTextWrapDropDown(e('<input id="k-editor-wrap-text" />').appendTo(t),c)}},{colSpan:"full",field:"k-editor-cell-bg",label:o(n.background),editor:function(t,n){i._initColorPicker(e('<input id="k-editor-cell-bg" />').appendTo(t),"bgColor",c,d)}},{colSpan:2,field:"k-editor-table-cell-margin",label:o(n.cellMargin),editor:function(t,r){i._initNumericTextbox(e('<input id="k-editor-table-cell-margin" />').appendTo(t),"cellMargin",c,d,{placeholder:o(n.auto)})}},{type:"group",label:"Cell Paddings",layout:"grid",colSpan:4,grid:{cols:4,gutter:20},items:[{colSpan:"full",field:"k-editor-padding-all-sides",label:"",editor:function(t,a){i._initCheckbox(e('<input id="k-editor-padding-all-sides" />').appendTo(t),"independentCellPaddings",r.tableProperties,d,{checked:!0,label:o(n.independentCellPaddings),change:i._onPaddingCheckChange.bind(i)})}},{colSpan:1,field:"k-editor-table-cells-padding-top",label:o(n.topPadding),editor:function(t,r){i._initNumericTextbox(e('<input id="k-editor-table-cells-padding-top" />').appendTo(t),"topCellPadding",c,d,{placeholder:o(n.auto),change:i._onPaddingTopChange.bind(i)})}},{colSpan:1,field:"k-editor-table-cells-padding-right",label:o(n.rightPadding),editor:function(t,r){i._initNumericTextbox(e('<input id="k-editor-table-cells-padding-right" />').appendTo(t),"rightCellPadding",c,d,{placeholder:o(n.auto)})}},{colSpan:1,field:"k-editor-table-cells-padding-bottom",label:o(n.bottomPadding),editor:function(t,r){i._initNumericTextbox(e('<input id="k-editor-table-cells-padding-bottom" />').appendTo(t),"bottomCellPadding",c,d,{placeholder:o(n.auto)})}},{colSpan:1,field:"k-editor-table-cells-padding-left",label:o(n.leftPadding),editor:function(t,r){i._initNumericTextbox(e('<input id="k-editor-table-cells-padding-left" />').appendTo(t),"leftCellPadding",c,d,{placeholder:o(n.auto)})}}]},{type:"group",label:"Borders",layout:"grid",colSpan:4,grid:{cols:4,gutter:10},items:[{colSpan:1,field:"k-editor-cell-border-width",label:o(n.borderWidth),editor:function(t,r){i._initNumericTextbox(e('<input id="k-editor-cell-border-width" />').appendTo(t),"borderWidth",c,d,{placeholder:o(n.auto)})}},{colSpan:1,field:"k-editor-cell-border-color",label:o(n.borderColor),editor:function(t,r){i._initColorPicker(e('<input id="k-editor-cell-border-color" />').appendTo(t),"borderColor",c,d,{placeholder:o(n.auto)})}},{colSpan:2,field:"k-editor-cell-border-style",label:o(n.borderStyle),editor:function(t,n){i._initBorderStyleDropDown(e('<input id="k-editor-cell-border-style" />').appendTo(t),"borderStyle",c,d,l)}}]},{colSpan:"full",field:"k-editor-cell-id",label:{text:o(n.id),optional:!0},editor:function(t,n){i._initInput(e('<input id="k-editor-cell-id" />').appendTo(t),"id",c,d)}},{colSpan:"full",field:"k-editor-cell-css-class",label:{text:o(n.cssClass),optional:!0},editor:function(t,n){i._initInput(e('<input id="k-editor-cell-css-class" />').appendTo(t),"className",c,d)}}]}).data("kendoForm")).layoutWrapper.addClass("k-gap-x-4"),u},_createAccessibilityPropertiesForm:function(t,n){var i=this;var r=i.options.table;var a=t.element.find("#k-accessibility-properties");var s=i.components.accessibilityView={};var l=r.tableProperties;var d;return(d=a.kendoForm({renderButtons:!1,layout:"grid",grid:{cols:4},items:[{colSpan:"full",field:"k-editor-id",label:{text:o(n.id),optional:!0},editor:function(t,n){i._initInput(e('<input id="k-editor-id" />').appendTo(t),"id",l,s)}},{colSpan:"full",field:"k-editor-css-class",label:{text:o(n.cssClass),optional:!0},editor:function(t,n){i._initInput(e('<input id="k-editor-css-class" />').appendTo(t),"className",l,s)}},{layout:"grid",grid:{cols:4,gutter:16},colSpan:"full",type:"group",label:"Accessibility",items:[{colSpan:2,field:"k-editor-table-caption",label:{text:o(n.caption),optional:!0},editor:function(t,n){i._initInput(e('<input id="k-editor-table-caption" />').appendTo(t),"captionContent",l,s)}},{colSpan:2,field:"k-editor-accessibility-alignment",label:o(n.captionAlignment),editor:function(t,n){i._initAccessibilityAlignmentDropDown(e('<input id="k-editor-accessibility-alignment" />').appendTo(t),l)}},{colSpan:1,field:"k-editor-table-header-rows",label:o(n.headerRows),editor:function(t,n){i._initNumericTextbox(e('<input id="k-editor-table-header-rows" />').appendTo(t),"headerRows",l,s,{max:l.rows||4})}},{colSpan:1,field:"k-editor-table-header-columns",label:o(n.headerColumns),editor:function(t,n){i._initNumericTextbox(e('<input id="k-editor-table-header-columns" />').appendTo(t),"headerColumns",l,s,{max:l.columns||4})}},{colSpan:2,field:"k-editor-cells-headers",label:o(n.associateCellsWithHeaders),editor:function(t,r){var o=e(`<select id="k-editor-cells-headers">\n                                    <option value="none">${n.associateNone}</option>\n                                    <option value="scope">${n.associateScope}</option>\n                                    <option value="ids">${n.associateIds}</option>\n                                </select>`).appendTo(t);i._initAssociationDropDown(o,"cellsWithHeaders",{valuePrimitive:!0},l,s)}},{colSpan:"full",field:"k-editor-accessibility-summary",label:{text:o(n.summary),optional:!0},editor:function(t,r){i._initTextArea(e('<textarea id="k-editor-accessibility-summary"></textarea>').appendTo(t),"summary",l,s,{rows:5,placeholder:n.tableSummaryPlaceholder})}}]}]}).data("kendoForm")).layoutWrapper.addClass("k-gap-x-4"),d}});r.ui.editor.TableWizardDialog=g}(window.kendo.jQuery);var u=kendo;e.__meta__={id:"editor",name:"Editor",category:"web",description:"Rich text editor component",depends:["combobox","dropdownlist","window","colorpicker","toolbar","icons"],features:[{id:"editor-imagebrowser",name:"Image Browser",description:"Support for uploading and inserting images",depends:["imagebrowser"]},{id:"editor-resizable",name:"Resize handle",description:"Support for resizing the content area via a resize handle",depends:["resizable"]},{id:"editor-tablewizard",name:"Table wizard dialog",description:"Support for table properties configuration",depends:["tabstrip","button","numerictextbox","textarea"]},{id:"editor-pdf-export",name:"PDF export",description:"Export Editor content as PDF",depends:["pdf","drawing"]},{id:"editor-ai",name:"AI Prompt",description:"The AIPrompt component simplifies the incorporation of external AI services into apps.",depends:["aiprompt","inlineaiprompt","buttongroup","splitter","icons","html.input"]}]},e.default=u,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=kendo.editor.min.js.map
