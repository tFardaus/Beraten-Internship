/**
 * Kendo UI v2025.3.1002 (http://www.telerik.com/kendo-ui)
 * Copyright 2025 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Kendo UI commercial licenses may be obtained at
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete
 * If you do not own a commercial license, this file shall be governed by the trial license terms.
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("kendo.dom.js"),require("kendo.touch.js"),require("kendo.draganddrop.js"),require("kendo.icons.js")):"function"==typeof define&&define.amd?define(["exports","kendo.dom.min","kendo.touch.min","kendo.draganddrop.min","kendo.icons.min"],e):e(((t="undefined"!=typeof globalThis?globalThis:t||self).kendo=t.kendo||{},t.kendo._globals=t.kendo._globals||{},t.kendo._globals.GanttTimeline={}))}(this,(function(t){!function(t){var e=kendo.ui.Widget;var a=kendo.dom.element;var s=kendo.dom.text;var n=kendo.dom.html;var r=t.isPlainObject;var i=kendo._outerWidth;var o=kendo._outerHeight;var d=t.extend;var l=!1;var h=kendo.keys;var p=kendo.data.Query;var c=".kendoGanttTimeline";var v="click";var u="mousemove";var k="mouseenter";var f="mouseleave";var g=".";var m=({start:t})=>kendo.toString(t,"ddd M/dd");var _=({start:t,end:e})=>`${kendo.toString(t,"ddd M/dd")} - ${kendo.toString(kendo.date.addDays(e,-1),"ddd M/dd")}`;var y=({start:t})=>kendo.toString(t,"MMM");var w=({styles:t,messages:e,start:a,end:s,format:n})=>`<div class="${t.tooltipWrapper} k-gantt-resize-hint"><div class="${t.tooltipContent}"><div>${kendo.htmlEncode(e.start)}: ${kendo.toString(a,n)}</div><div>${kendo.htmlEncode(e.end)}: ${kendo.toString(s,n)}</div></div></div>`;var T=({styles:t,task:e,messages:a})=>`<div class="${kendo.htmlEncode(t.taskDetails)}"><strong>${kendo.htmlEncode(e.title)}</strong><div class="${t.taskDetailsPercent}">${kendo.toString(e.percentComplete,"p0")}</div><ul class="${t.reset}"><li>${kendo.htmlEncode(a.start)}: ${kendo.toString(e.start,"h:mm tt ddd, MMM d")}</li><li>${kendo.htmlEncode(a.end)}: ${kendo.toString(e.end,"h:mm tt ddd, MMM d")}</li></ul></div>`;var D=`<table ${kendo.attr("style-visibility")}="hidden"><tbody><tr ${kendo.attr("style-height")}="{0}"><td>&nbsp;</td></tr></tbody></table>`;var b={day:{type:"kendo.ui.GanttDayView"},week:{type:"kendo.ui.GanttWeekView"},month:{type:"kendo.ui.GanttMonthView"},year:{type:"kendo.ui.GanttYearView"}};function H(){var e=kendo._activeElement();e&&"body"!==e.nodeName.toLowerCase()&&t(e).trigger("blur")}var W=kendo.ui.GanttView=e.extend({init:function(t,a){e.fn.init.call(this,t,a),this.title=this.options.title||this.options.name,this.header=this.element.find(g+W.styles.gridHeader),this.content=this.element.find(g+W.styles.gridContent),this.contentWidth=this.content.width(),this._workDays=function(t){var e=[];var a=t.workWeekStart;for(e.push(a);t.workWeekEnd!=a;)a>6?a-=7:a++,e.push(a);return e}(this.options),this._headerTree=a.headerTree,this._taskTree=a.taskTree,this._taskTemplate=a.taskTemplate?kendo.template(a.taskTemplate,d({},kendo.Template,a.templateSettings)):null,this._dependencyTree=a.dependencyTree,this._taskCoordinates={},this._currentTime()},destroy:function(){e.fn.destroy.call(this),clearTimeout(this._tooltipTimeout),this.headerRow=null,this.header=null,this.content=null,this._dragHint=null,this._resizeHint=null,this._resizeTooltip=null,this._taskTooltip=null,this._percentCompleteResizeTooltip=null,this._headerTree=null,this._taskTree=null,this._dependencyTree=null},options:{showWorkHours:!1,showWorkDays:!1,workDayStart:new Date(1980,1,1,8,0,0),workDayEnd:new Date(1980,1,1,17,0,0),workWeekStart:1,workWeekEnd:5,hourSpan:1,slotSize:100,currentTimeMarker:{updateInterval:1e4}},renderLayout:function(){this._slots=this._createSlots(),this._tableWidth=this._calculateTableWidth(),this.createLayout(this._layout()),this._slotDimensions(),this._adjustHeight(),this.content.find(g+W.styles.dependenciesWrapper).width(this._tableWidth)},_adjustHeight:function(){this.content&&this.content.height(this.element.height()-o(this.header))},createLayout:function(t){var e=this._headers(t);var s=this._colgroup();var n=this._headerTree;var r=a("tbody",{className:W.styles.tbody},e);var i=a("table",{className:W.styles.headerTable,style:{width:this._tableWidth+"px"},role:"presentation"},[s,r]);n.render([i]),this.headerRow=this.header.find("table").first().find("tr").last()},_slotDimensions:function(){var t=this.headerRow[0].children;var e=this._timeSlots();var a;var s;for(var n=0,r=t.length;n<r;n++)s=t[n],(a=e[n]).offsetLeft=s.offsetLeft,a.offsetWidth=s.offsetWidth},render:function(t){var e=t.length;var a=W.styles;var s;var n=this._rowsTable(e);var r=this._columnsTable(e);var i=this._tasksTable(t);var o=this.options.currentTimeMarker;var d=this.options.calculatedSize;var l;this._taskTree.render([n,r,i]),s=this.content.find(g+a.rowsTable),d&&(l=d.row*t.length,this.content.find(g+a.tasksTable).height(l),s.height(l)),this._contentHeight=s.height(),this._rowHeight=d?d.row:this._contentHeight/s.find("tr").length,this.content.find(g+a.columnsTable).height(this._contentHeight),!1!==o&&void 0!==o.updateInterval&&this._renderCurrentTime()},_rowsTable:function(t){var e=[];var n;var r=W.styles;var i=[{className:r.tableRow},{className:r.alt}];for(var o=0;o<t;o++)n=a("tr",i[o%2],[a("td",{className:r.tableCell},[s(" ")])]),e.push(n);return this._createTable(1,e,{className:r.rowsTable+" k-grid-table "+r.table})},_columnsTable:function(){var t=[];var e;var n=W.styles;var r=this._timeSlots();var i=r.length;var o;var d;var l=0;var h;for(var p=0;p<i;p++)o=r[p],h={className:n.tableCell},l+=d=o.span,1!==d&&(h.colspan=d),o.isNonWorking&&(h.className+=" "+n.nonWorking),t.push(a("td",h,[s(" ")]));return e=a("tr",{className:n.tableRow},t),this._createTable(l,[e],{className:n.columnsTable+" "+n.table})},_tasksTable:function(t){var e=[];var s;var n;var r;var i;var o;var d=W.styles;var h=this._taskCoordinates={};var p=this._calculateMilestoneWidth();var c=Math.round(p.width);var v=this.options.resourcesField;var u=[d.resource,d.resourceAlt];var k=this.options.calculatedSize;var f;var g=this._calculateResourcesMargin();var m=this._calculateTaskBorderWidth();var _;var y=this.options.showPlannedTasks;var w=[{className:d.tableRow},{className:d.alt}];var T;for(var D=0,b=t.length;D<b;D++)o=t[D],r=this._taskPosition(o),y&&((i=this._taskPositionPlanned(o)).borderWidth=m),r.borderWidth=m,s=a("tr",w[D%2]),n=a("td",{className:d.tableCell}),o.start<=this.end&&o.end>=this.start&&(T=this._renderTask(t[D],r,i),this.options.navigatable&&(T.children[0].attr.tabIndex=D?-1:0),n.children.push(T),o[v]&&o[v].length&&(f=l?this._tableWidth-r.left:Math.max(r.width||p.clientWidth,0)+r.left,(_={width:this._tableWidth-(f+g)+"px"})[l?"right":"left"]=f+"px",k&&(_.height=k.cell+"px"),n.children.push(a("div",{className:d.resourcesWrap,style:_},this._renderResources(o[v],u[D%2])))),H=D,M=void 0,x=void 0,x=(M=r.left)+r.width,o.isMilestone()&&(x=(M-=c/2)+c),h[o.id]={start:M,end:x,rowIndex:H}),s.children.push(n),e.push(s);var H,M,x;return this._createTable(1,e,{className:W.styles.tasksTable+" "+d.table})},_createTable:function(t,e,s){var n=[];var r;var i;for(var o=0;o<t;o++)n.push(a("col"));return r=a("colgroup",null,n),i=a("tbody",{className:W.styles.tbody},e),s.style||(s.style={}),s.style.width=this._tableWidth+"px",s.role="presentation",a("table",s,[r,i])},_calculateTableWidth:function(){var t=this._timeSlots();var e=0;var a=0;var s;for(var n=0,r=t.length;n<r;n++)a+=s=t[n].span,s>e&&(e=s);return Math.round(a*this.options.slotSize/e)},_calculateMilestoneWidth:function(){var e;var a=W.styles.task+" "+W.styles.taskMilestone;var s;var n=t(`<div class="${a}">`).css({visibility:"hidden",position:"absolute"});return this.content.append(n),e={width:(s=n[0].getBoundingClientRect()).right-s.left,clientWidth:n[0].clientWidth},n.remove(),e},_calculateResourcesMargin:function(){var e;var a=t(`<div class="${W.styles.resourcesWrap}">`).css({visibility:"hidden",position:"absolute"});return this.content.append(a),e=parseInt(a.css(l?"margin-right":"margin-left"),10),a.remove(),e},_calculateTaskBorderWidth:function(){var e;var a=W.styles.task+" "+W.styles.taskSingle;var s;var n=t(`<div class="${a}">`).css({visibility:"hidden",position:"absolute"});return this.content.append(n),s=kendo.getComputedStyles(n[0],["border-left-width"]),e=parseFloat(s["border-left-width"],10),n.remove(),e},_renderTask:function(e,s,n){var r=this.options.editable;var i=s.left;var o=W.styles;var d=o.taskWrap;var h=this.options.calculatedSize;var p={};var c={className:d,style:{left:i+"px"}};var v=[];var u=0;var k=s.width;var f,g,m,_;var y,w,T,D;return h&&(c.style.height=h.cell+"px"),n&&(_=e.isMilestone()?this._renderPlannedMilestone(s,n):this._renderPlannedSingleTask(s,n,e),v.push(_),l&&n.left<=s.left&&(c.style.left=n.left+"px")),e.summary?(g=this._renderSummary(e,s,n),c.className+=" "+o.taskSummaryWrap):e.isMilestone()?(g=this._renderMilestone(e,s),c.className+=" "+o.taskMilestoneWrap):g=this._renderSingleTask(e,s,n),n&&!e.isMilestone()&&e.plannedStart<e.end&&e.plannedEnd>e.start&&e.plannedEnd<e.end?(k=l?s.left+s.width-n.left:n.left+n.width-s.left,D=l?n.left-s.left:s.left+s.width-(n.left+n.width),T=a("div",{className:o.taskOffset,style:{width:D-2*n.borderWidth+"px"}}),r&&!1!==r.resize&&!1!==r.update&&!e.summary&&(!1!==r.destroy&&T.children.push(a("span",{className:o.taskActions,"aria-hidden":"true"},[a("a",{className:o.link+" "+o.taskDelete,href:"#","aria-label":"Delete"},[a(t(kendo.ui.icon(o.iconDelete))[0])])])),l?T.children.push(a("span",{className:o.taskResizeHandle+" "+o.taskResizeHandleWest,style:{right:s.width-5+"px"}})):T.children.push(a("span",{className:o.taskResizeHandle+" "+o.taskResizeHandleEast}))),w=a("div",{className:o.taskOffsetWrap+" "+o.taskInnerWrap},[g,T]),v.push(w)):n?v.push(a("div",{className:o.taskInnerWrap},[g])):v.push(g),f=a("div",c,v),r&&!1!==r.dependencyCreate&&(n&&e.plannedEnd>e.end&&(u=n.left+n.width-s.left-s.width-3+"px"),f.children.push(a("div",{className:o.taskDot+" "+o.taskDotStart})),l&&(u="auto",n&&e.plannedEnd>e.end&&(y=s.left-n.left+"px")),f.children.push(a("div",{className:o.taskDot+" "+o.taskDotEnd,style:{right:u,left:y}}))),e.summary||e.isMilestone()||!r||!1===r.dragPercentComplete||!1===r.update||null!==this._taskTemplate||(m=Math.round(k*e.percentComplete),p[l?"right":"left"]=m+"px",f.children.push(a("div",{className:o.taskDragHandle,style:p}))),f},_renderSingleTask:function(e,r,i){var o=W.styles;var d;var h=[];var p;var c=this.options.editable;var v=o.task+" "+o.taskSingle;var u=r.width;i&&(e.plannedEnd&&e.plannedEnd<=e.start?v+=" "+o.taskDelayed:e.plannedEnd&&e.plannedEnd>e.end?v+=" "+o.taskAdvanced:e.plannedEnd&&e.plannedEnd<e.end&&(l?u=u+r.left-i.left:u-=r.left+r.width-i.left-i.width)),d=Math.round(u*e.percentComplete),null!==this._taskTemplate?p=n(this._taskTemplate(e)):(p=s(e.title),h.push(a("div",{className:o.taskComplete,style:{width:d+"px"},"aria-hidden":"true"})));var k=a("div",{className:o.taskContent},[a("div",{className:o.taskTemplate},[p])]);return h.push(k),c&&(!1!==c.destroy&&(!i||!e.plannedEnd||e.end<=e.plannedEnd||e.start>=e.plannedEnd)&&k.children.push(a("span",{className:o.taskActions,"aria-hidden":"true"},[a("a",{className:o.link+" "+o.taskDelete,href:"#","aria-label":"Delete"},[a(t(kendo.ui.icon(o.iconDelete))[0])])])),!1!==c.resize&&!1!==c.update&&(k.children.push(a("span",{className:o.taskResizeHandle+" "+o.taskResizeHandleWest})),k.children.push(a("span",{className:o.taskResizeHandle+" "+o.taskResizeHandleEast})))),a("div",{className:v,"data-uid":e.uid,role:"treeitem",style:{width:Math.max(u-2*r.borderWidth,0)+"px"}},h)},_renderMilestone:function(t){var e=W.styles;var s=e.task+" "+e.taskMilestone;return this.options.showPlannedTasks&&t.plannedEnd&&t.plannedEnd<t.start?s+=" "+e.taskDelayed:t.plannedStart&&t.plannedStart>t.end&&(s+=" "+e.taskAdvanced),a("div",{className:s,"data-uid":t.uid,role:"treeitem","aria-label":t.title})},_renderSummary:function(t,e,s){var n=W.styles;var r=e.width;var i;var o=n.task+" "+n.taskSummary;return s&&(t.plannedEnd&&t.plannedEnd<=t.start?o+=" "+n.taskDelayed:t.plannedEnd&&t.plannedEnd>t.end?o+=" "+n.taskAdvanced:t.plannedEnd&&t.plannedEnd<t.end&&(l?r=r+e.left-s.left:r-=e.left+e.width-s.left-s.width)),i=Math.round(r*t.percentComplete),a("div",{className:o,"data-uid":t.uid,role:"treeitem","aria-label":t.title,style:{width:r+"px"}},[a("div",{className:n.taskSummaryProgress,style:{width:i+"px"}},[a("div",{className:n.taskSummaryComplete,style:{width:e.width+"px"}})])])},_renderPlannedSingleTask:function(t,e,s){var n=W.styles;var r=[];var i={};return s.plannedStart&&s.plannedEnd?(r.push(a("div",{className:n.taskPlannedMoment+" "+n.taskPlannedMomentLeft})),r.push(a("div",{className:n.taskPlannedDuration,style:{width:Math.max(e.width-2*e.borderWidth-16,0)+"px"}})),r.push(a("div",{className:n.taskPlannedMoment}))):s.plannedStart?r.push(a("div",{className:n.taskPlannedMoment+" "+n.taskPlannedMomentLeft})):s.plannedEnd&&r.push(a("div",{className:n.taskPlannedMoment,style:{"margin-left":Math.max(e.width-5,0)+"px"}})),i=l?{"margin-right":t.left-e.left+t.width-e.width+"px"}:{"margin-left":e.left-t.left+"px"},a("div",{className:n.taskPlanned,style:i},r)},_renderPlannedMilestone:function(t,e){var s=W.styles;var n={};return n=l?{"margin-right":t.left-e.left+"px"}:{"margin-left":e.left-t.left+"px"},a("div",{className:s.taskPlanned,style:n},[a("div",{className:s.taskPlannedMoment})])},_renderResources:function(t,e){var n=[];var r;for(var i=0,o=t.length;i<o;i++)r=t[i],n.push(a("span",{className:e,style:{color:r.get("color")}},[s(r.get("name"))]));return l&&n.reverse(),n},_taskPosition:function(t){var e=Math.round;var a=e(this._offset(l?t.end:t.start));return{left:a,width:e(this._offset(l?t.start:t.end))-a}},_taskPositionPlanned:function(t){var e=Math.round;var a=e(this._offset(l?t.plannedEnd:t.plannedStart));return{left:a,width:e(this._offset(l?t.plannedStart:t.plannedEnd))-a}},_offset:function(t){var e=this._timeSlots();var a;var s=0;return e.length?((a=e[this._slotIndex("start",t)]).end<t?s=a.offsetWidth:a.start<=t&&(s=(t-a.start)/(a.end-a.start)*a.offsetWidth),l&&(s=a.offsetWidth+1-s),a.offsetLeft+s):0},_slotIndex:function(t,e,a){var s=this._timeSlots();var n=0;var r=s.length-1;var i;a&&(s=[].slice.call(s).reverse());do{s[i=Math.ceil((r+n)/2)][t]<e?n=i:(i===r&&i--,r=i)}while(n!==r);return a&&(n=s.length-1-n),n},_timeByPosition:function(t,e,a){var s=this._slotByPosition(t);if(e)return a?s.end:s.start;var n=t-this.element.find(g+W.styles.tasksTable).offset().left;var r=s.end-s.start;var i=n-s.offsetLeft;return l&&(i=s.offsetWidth-i),new Date(s.start.getTime()+r*(i/s.offsetWidth))},_slotByPosition:function(t){var e=t-this.element.find(g+W.styles.tasksTable).offset().left;var a=this._slotIndex("offsetLeft",e,l);return this._timeSlots()[a]},_renderDependencies:function(t){var e=[];var a=this._dependencyTree;for(var s=0,n=t.length;s<n;s++)e.push.apply(e,this._renderDependency(t[s]));a.render(e)},_renderDependency:function(t){var e=this._taskCoordinates[t.predecessorId];var a=this._taskCoordinates[t.successorId];var s;if(!e||!a)return[];for(var n=0,r=(s=this["_render"+["FF","FS","SF","SS"][l?3-t.type:t.type]](e,a)).length;n<r;n++)s[n].attr["data-uid"]=t.uid;return s},_renderFF:function(t,e){var a=this._dependencyFF(t,e,!1);return a[a.length-1].children[0]=this._arrow(!0),a},_renderSS:function(t,e){var a=this._dependencyFF(e,t,!0);return a[0].children[0]=this._arrow(!1),a.reverse()},_renderFS:function(t,e){var a=this._dependencyFS(t,e,!1);return a[a.length-1].children[0]=this._arrow(!1),a},_renderSF:function(t,e){var a=this._dependencyFS(e,t,!0);return a[0].children[0]=this._arrow(!0),a.reverse()},_dependencyFF:function(t,e,a){var s=this;var n=[];var r=0;var i=0;var o=0;var d=0;var l=a?"start":"end";var h;var p=this._rowHeight;var c=t.rowIndex*p+Math.floor(p/2)-1;var v=e.rowIndex*p+Math.floor(p/2)-1;var u=W.styles;var k=function(){n.push(s._line(u.line+" "+u.lineHorizontal,{left:r+"px",top:i+"px",width:o+"px"}))};var f=function(){n.push(s._line(u.line+" "+u.lineVertical,{left:r+"px",top:i+"px",height:d+"px"}))};return r=t[l],i=c,o=10,(h=e[l]-t[l])>0!==a&&(o=Math.abs(h)+10),a?(r-=o,o-=1,k()):(k(),r+=o-2),v<i?(d=i-v,d+=2,i=v,f()):(d=v-i,d+=2,f(),i+=d-2),o=Math.abs(r-e[l]),a||(r-=o-=1),k(),n},_dependencyFS:function(t,e,a){var s=this;var n=[];var r=0;var i=0;var o=0;var d=0;var l=this._rowHeight;var h=Math.floor(l/2);var p=e.start-t.end;var c=t.rowIndex*l+Math.floor(l/2)-1;var v=e.rowIndex*l+Math.floor(l/2)-1;var u=W.styles;var k=function(){n.push(s._line(u.line+" "+u.lineHorizontal,{left:r+"px",top:i+"px",width:o+"px"}))};var f=function(){n.push(s._line(u.line+" "+u.lineVertical,{left:r+"px",top:i+"px",height:d+"px"}))};return r=t.end,i=c,o=10,a&&(r+=1,p>20&&(o=p-8),o-=1),k(),r+=o-2,p<=20&&(d=a?Math.abs(v-c)-h:h,v<c?(i-=d,d+=2,f()):(f(),i+=d),(o=t.end-e.start+20)<10&&(o=10),r-=o-2,k()),v<c?(d=i-v,i=v,d+=2,f()):(d=v-i,f(),i+=d),o=e.start-r,a||(o-=1),k(),n},_line:function(t,e){return a("div",{className:t,style:e})},_arrow:function(t){return a("span",{className:t?W.styles.arrowWest:W.styles.arrowEast})},_colgroup:function(){var t=this._timeSlots();var e=t.length;var s=[];for(var n=0;n<e;n++)for(var r=0,i=t[n].span;r<i;r++)s.push(a("col"));return a("colgroup",null,s)},_createDragHint:function(t){var e=W.styles;var a;this._dragHint=t.clone().addClass(e.dragHint).css({cursor:"move"}),(a=this._dragHint.find(g+e.taskPlanned)).css({visibility:"hidden"}),l&&t.find(g+e.taskAdvanced).length>0&&(a.css({"margin-right":"auto",width:0}),this._dragHint.find(g+e.taskDotEnd).css({left:0})),t.closest("td").append(this._dragHint)},_updateDragHint:function(t){var e=this._offset(t);this._dragHint.css({left:e})},_removeDragHint:function(){this._dragHint&&(this._dragHint.remove(),this._dragHint=null)},_createResizeHint:function(e){var a=W.styles;var s=this._taskCoordinates[e.id].rowIndex*this._rowHeight;var n;var r=this.options;var d=r.messages;this._resizeHint=t((({styles:t})=>`<div class="${t.marquee}"><div class="${t.marqueeColor}"></div></div>`)({styles:a})).css({top:0,height:this._contentHeight}),this.content.append(this._resizeHint),this._resizeTooltip=t(w({styles:a,start:e.start,end:e.end,messages:d.views,format:r.resizeTooltipFormat})).css({"z-index":"100002",top:0,left:0}),this.content.append(this._resizeTooltip),this._resizeTooltipWidth=i(this._resizeTooltip),(n=s-o(this._resizeTooltip))<0&&(n=s+this._rowHeight),this._resizeTooltipTop=n},_updateResizeHint:function(e,a,s){var n=this._offset(l?a:e);var r=this._offset(l?e:a);var i=r-n;var o=s!==l?n:r;var d=this._tableWidth-kendo.support.scrollbar();var h=this._resizeTooltipWidth;var p=this.options;var c=p.messages;var v=this.element.find(g+W.styles.tasksTable).offset().left-this.element.find(g+W.styles.tasksWrapper).offset().left;l&&(n+=v),this._resizeHint.css({left:n,width:i}),this._resizeTooltip&&this._resizeTooltip.remove(),(o-=Math.round(h/2))<0?o=0:o+h>d&&(o=d-h),l&&(o+=v),this._resizeTooltip=t(w({styles:W.styles,start:e,end:a,messages:c.views,format:p.resizeTooltipFormat})).css({"z-index":"100002",top:this._resizeTooltipTop,left:o,"min-width":h}).appendTo(this.content)},_removeResizeHint:function(){this._resizeHint.remove(),this._resizeHint=null,this._resizeTooltip.remove(),this._resizeTooltip=null},_updatePercentCompleteTooltip:function(e,a,s){this._removePercentCompleteTooltip();var n=this._percentCompleteResizeTooltip=t((({styles:t,text:e})=>`<div ${kendo.attr("style-z-index")}="100002" class="${t.tooltipWrapper}" ><div class="${t.tooltipContent}">${e}%</div><div class="${t.tooltipCallout}" ${kendo.attr("style-left")}="13px"></div></div>`)({styles:W.styles,text:s}));kendo.applyStylesFromKendoAttributes(n,["z-index","left"]),n.appendTo(this.element);var r=Math.round(i(n)/2);var d=n.find(g+W.styles.callout);var l=Math.round(i(d)/2);n.css({top:e-(o(n)+l),left:a-r}),d.css("left",r-l)},_removePercentCompleteTooltip:function(){this._percentCompleteResizeTooltip&&this._percentCompleteResizeTooltip.remove(),this._percentCompleteResizeTooltip=null},_updateDependencyDragHint:function(t,e){this._removeDependencyDragHint(),this._creteDependencyDragHint(t,e)},_creteDependencyDragHint:function(e,a){var s=W.styles;var n=a.x-e.x;var r=a.y-e.y;var i=Math.sqrt(n*n+r*r);var o=Math.atan(r/n);n<0&&(o+=Math.PI),t("<div class='"+s.line+" "+s.lineHorizontal+" "+s.dependencyHint+"'></div>").css({top:e.y,left:e.x,width:i,"transform-origin":"0% 0","-ms-transform-origin":"0% 0","-webkit-transform-origin":"0% 0",transform:"rotate("+o+"rad)","-ms-transform":"rotate("+o+"rad)","-webkit-transform":"rotate("+o+"rad)"}).appendTo(this.content)},_removeDependencyDragHint:function(){this.content.find(g+W.styles.dependencyHint).remove()},_createTaskTooltip:function(e,a,s){var n=W.styles;var r=this.options;var i=this.content;var d=i.offset();var h=kendo.scrollLeft(i);var p=t(a).parents("tr").first();var c=p.offset();var v=r.tooltip&&r.tooltip.template?kendo.template(r.tooltip.template):T;var u=l?s-(d.left+h+kendo.support.scrollbar()):s-(d.left-h);var k=c.top+o(p)-d.top+i.scrollTop();var f=this._taskTooltip=t('<div class="'+n.tooltipWrapper+'" ><div class="'+n.taskContent+'"></div></div>');f.css({"z-index":"100002",left:u,top:k}).appendTo(i).find(g+n.taskContent).append(v({styles:n,task:e,messages:r.messages.views})),this._adjustTooltipDimensions(f,c,d,u,h)},_removeTaskTooltip:function(){this._taskTooltip&&this._taskTooltip.remove(),this._taskTooltip=null},_createOffsetTooltip:function(e,a,s){var n=W.styles;var r=this.content;var i=r.offset();var d=kendo.scrollLeft(r);var h=a.parents("tr").first();var p=h.offset();var c=l?s-(i.left+d+kendo.support.scrollbar()):s-(i.left-d);var v=p.top+o(h)-i.top+r.scrollTop();var u=this._offsetTooltip=t('<div class="'+n.tooltipWrapper+'" ></div>');var k=Math.round((e.end.getTime()-e.plannedEnd.getTime())/6e4);var f=this.options.messages.plannedTasks;var g=k%60;var m=g+" "+f.minutes;var _;k>=60&&(m=(_=k=Math.floor(k/60))+" "+f.hours,0!==g&&(m+=" "+g+" "+f.minutes),k>=24&&(_=k%24,m=(k=Math.floor(k/24))+" "+f.days,0!==_&&(m+=" "+_+" "+f.hours))),u.css({"z-index":"100002",left:c,top:v}).addClass(n.offsetTooltipDelay).appendTo(r).append((({offsetPrefix:t,offsetText:e})=>`<span>${t}: ${e}</span>`)({offsetPrefix:f.offsetTooltipDelay,offsetText:m})),this._adjustTooltipDimensions(u,p,i,c,d)},_removeOffsetTooltip:function(){this._offsetTooltip&&this._offsetTooltip.remove(),this._offsetTooltip=null},_createPlannedTooltip:function(e,a,s){var n=W.styles;var r=this.content;var i=r.offset();var d=kendo.scrollLeft(r);var h=a.parents("tr").first();var p=h.offset();var c=l?s-(i.left+d+kendo.support.scrollbar()):s-(i.left-d);var v=p.top+o(h)-i.top+r.scrollTop();var u=this._plannedTooltip=t('<div class="'+n.tooltipWrapper+" "+n.plannedTooltip+'" ></div>');var k=this.options.messages.editor;u.css({"z-index":"100002",left:c,top:v}).appendTo(r).append((({plannedStart:t,plannedEnd:e,startDate:a,endDate:s})=>`<div class="k-task-content"><div>${t}: ${a}</div><div>${e}: ${s}</div></div>`)({plannedStart:k.plannedStart,startDate:kendo.toString(e.plannedStart,"H:mm tt ddd, MMM dd"),plannedEnd:k.plannedEnd,endDate:kendo.toString(e.plannedEnd,"H:mm tt ddd, MMM dd")})),this._adjustTooltipDimensions(u,p,i,c,d)},_removePlannedTooltip:function(){this._plannedTooltip&&this._plannedTooltip.remove(),this._plannedTooltip=null},_adjustTooltipDimensions:function(t,e,a,s,n){var r=this.content;var d=r.width();var l;o(t)<e.top-a.top&&t.css("top",e.top-a.top-o(t)+r.scrollTop()),(l=i(t))+s-n>d&&((s-=l)<n&&(s=n+d-(l+17)),t.css("left",s))},_scrollTo:function(t){var e=t.offset().left;var a=t.width();var s=e+a;var n=t.closest("tr");var r=n.offset().top;var i=r+n.height();var o=this.content;var d=o.offset();var l=d.top;var h=l+o.height();var p=d.left;var c=o.width();var v=p+c;var u=kendo.support.scrollbar();r<l?o.scrollTop(o.scrollTop()+(r-l)):i>h&&o.scrollTop(o.scrollTop()+(i+u-h)),e<p&&a>c&&s<v||s>v&&a<c?kendo.scrollLeft(o,kendo.scrollLeft(o)+(s+u-v)):(s>v&&a>c&&e>p||e<p&&a<c)&&kendo.scrollLeft(o,kendo.scrollLeft(o)+(e-p))},_scrollToDate:function(t){var e=this.start;var a=this.end;var s;t>=e&&t<a&&(s=this._offset(t),kendo.support.isRtl(this.element)&&(s=this._tableWidth-s),kendo.scrollLeft(this.content,s))},_timeSlots:function(){return this._slots&&this._slots.length?this._slots[this._slots.length-1]:[]},_headers:function(t){var e=[];var s;var r;var i;var o;var d=W.styles;for(var l=0,h=t.length;l<h;l++){r=[];for(var p=0,c=(s=t[l]).length;p<c;p++)i=s[p],o=n(i.text),r.push(a("td",{colspan:i.span,className:d.header+(i.isNonWorking?" "+d.nonWorking:"")},[o]));e.push(a("tr",{className:d.tableRow},r))}return e},_hours:function(t,e){var a;var s=[];var n=this.options;var r=n.workDayStart.getHours();var i=n.workDayEnd.getHours();var o;var d;var l=n.hourSpan;for(t=new Date(t),e=new Date(e),n.showWorkHours&&t.setHours(r);t<e;)o=(d=(a=new Date(t)).getHours())>=r&&d<i,a.setHours(a.getHours()+l),d==a.getHours()&&a.setHours(a.getHours()+2*l),n.showWorkHours&&!o||s.push({start:t,end:a,isNonWorking:!o,span:1}),t=a;return s},_days:function(t,e){var a;var s=[];var n;for(t=new Date(t),e=new Date(e);t<e;)a=e<kendo.date.nextDay(t)?e:kendo.date.nextDay(t),n=this._isWorkDay(t),this.options.showWorkDays&&!n||s.push({start:t,end:a,isNonWorking:!n,span:1}),t=a;return s},_weeks:function(t,e){var a;var s=[];var n=this.calendarInfo().firstDay;var r;var i;for(t=new Date(t),e=new Date(e);t<e;)(a=kendo.date.dayOfWeek(kendo.date.addDays(t,1),n,1))>e&&(a=e),(i=(r=this._days(t,a)).length)>0&&s.push({start:r[0].start,end:r[i-1].end,span:i}),t=a;return s},_months:function(t,e){var a;var s;var n=[];var r;var i;for(t=new Date(t),e=new Date(e);t<e;)a=new Date(t),s=kendo.date.firstDayOfMonth(new Date(a.setMonth(a.getMonth()+1))),a=e<s?e:s,(i=(r=this._days(t,a)).length)>0&&n.push({start:r[0].start,end:r[i-1].end,span:i}),t=a;return n},_years:function(t,e){var a;var s;var n=[];for(t=new Date(t),e=new Date(e);t<e;)a=new Date(t),(a=kendo.date.firstDayOfMonth(new Date(a.setMonth(12))))>=e&&(a=e),s=(a.getMonth()||12)-t.getMonth(),n.push({start:t,end:a,span:s}),t=a;return n},_slotHeaders:function(t,e){var a=[];var s;for(var n=0,r=t.length;n<r;n++)s=t[n],a.push({text:e(s),isNonWorking:!!s.isNonWorking,span:s.span});return a},_isWorkDay:function(t){var e=t.getDay();var a=this._workDays;for(var s=0,n=a.length;s<n;s++)if(a[s]===e)return!0;return!1},calendarInfo:function(){return kendo.getCulture().calendars.standard},_renderCurrentTime:function(){var e=this._getCurrentTime();var a=this._offset(e);var s=t("<div class='k-current-time'></div>");var n=W.styles;var r=this.element.find(g+n.tasksWrapper);var i=this.element.find(g+n.tasksTable);var o;this.content&&this._timeSlots().length&&(this.content.find(".k-current-time").remove(),e<(o=this._timeSlots()[this._slotIndex("start",e)]).start||e>o.end||(r.length&&i.length&&(a+=i.offset().left-r.offset().left),s.css({left:a+"px",top:"0px",width:"1px",height:this._contentHeight+"px"}).appendTo(this.content)))},_getCurrentTime:function(){return new Date},_currentTime:function(){var t=this.options.currentTimeMarker;!1!==t&&void 0!==t.updateInterval&&(this._renderCurrentTime(),this._currentTimeUpdateTimer=setInterval(this._renderCurrentTime.bind(this),t.updateInterval))}});d(!0,W,{styles:{alt:"k-table-row k-table-alt-row",reset:"k-reset",nonWorking:"k-nonwork-hour",header:"k-header k-table-td",gridHeader:"k-grid-header",gridHeaderWrap:"k-grid-header-wrap",gridContent:"k-grid-content",tasksWrapper:"k-gantt-tables",rowsTable:"k-gantt-rows",columnsTable:"k-gantt-columns",tasksTable:"k-gantt-tasks",dependenciesWrapper:"k-gantt-dependencies",resource:"k-resource",resourceAlt:"k-resource k-alt",headerTable:"k-grid-header-table k-table k-table-md",table:"k-table k-table-md",tbody:"k-table-tbody",tableRow:"k-table-row",tableCell:"k-table-td",task:"k-task",taskSingle:"k-task-single",taskMilestone:"k-task-milestone",taskSummary:"k-task-summary",taskWrap:"k-task-wrap",taskMilestoneWrap:"k-milestone-wrap",taskSummaryWrap:"k-summary-wrap",taskPlanned:"k-task-planned",taskPlannedMoment:"k-task-moment",taskPlannedDuration:"k-task-duration",taskPlannedMomentLeft:"k-moment-left",taskAdvanced:"k-task-advanced",taskDelayed:"k-task-delayed",taskOffset:"k-task-offset",taskOffsetWrap:"k-task-offset-wrap",taskInnerWrap:"k-task-inner-wrap",resourcesWrap:"k-resources-wrap",taskDot:"k-task-dot",taskDotStart:"k-task-start",taskDotEnd:"k-task-end",taskDragHandle:"k-task-draghandle",taskContent:"k-task-content",taskTemplate:"k-task-template",taskActions:"k-task-actions",taskDelete:"k-task-delete",taskComplete:"k-task-complete",taskDetails:"k-task-details",taskDetailsPercent:"k-task-pct",link:"k-link",iconDelete:"x",taskResizeHandle:"k-resize-handle",taskResizeHandleWest:"k-resize-w",taskResizeHandleEast:"k-resize-e",taskSummaryProgress:"k-task-summary-progress",taskSummaryComplete:"k-task-summary-complete",line:"k-gantt-line",lineHorizontal:"k-gantt-line-h",lineVertical:"k-gantt-line-v",arrowWest:"k-arrow-w",arrowEast:"k-arrow-e",dragHint:"k-drag-hint",dependencyHint:"k-gantt-dependency-hint",tooltipWrapper:"k-tooltip",tooltipContent:"k-tooltip-content",tooltipCallout:"k-callout k-callout-s",callout:"k-callout",marquee:"k-marquee k-gantt-marquee",marqueeColor:"k-marquee-color",offsetTooltipAdvanced:"k-offset-tooltip-advanced",offsetTooltipDelay:"k-offset-tooltip-delayed",plannedTooltip:"k-planned-tooltip"}}),kendo.ui.GanttDayView=W.extend({name:"day",options:{timeHeaderTemplate:({start:t})=>kendo.toString(t,"t"),dayHeaderTemplate:m,resizeTooltipFormat:"h:mm tt ddd, MMM d"},range:function(t){var e=this.options.range;this.start=kendo.date.getDate(t.start),this.end=kendo.date.getDate(t.end),(kendo.date.getMilliseconds(t.end)>0||this.end.getTime()===this.start.getTime())&&(this.end=kendo.date.addDays(this.end,1)),e&&e.start&&(this.start=kendo.date.getDate(e.start),this.start.setHours(e.start.getHours())),e&&e.end&&(this.end=kendo.date.getDate(e.end),this.end.setHours(e.end.getHours()))},_createSlots:function(){var t;var e;var a;var s;var n=[];a=[];for(var r=0,i=(t=this._days(this.start,this.end)).length;r<i;r++)e=t[r],s=this._hours(e.start,e.end),e.span=s.length,a.push.apply(a,s);return n.push(t),n.push(a),n},_layout:function(){var t=[];var e=this.options;return t.push(this._slotHeaders(this._slots[0],kendo.template(e.dayHeaderTemplate))),t.push(this._slotHeaders(this._slots[1],kendo.template(e.timeHeaderTemplate))),t}}),kendo.ui.GanttWeekView=W.extend({name:"week",options:{dayHeaderTemplate:m,weekHeaderTemplate:_,resizeTooltipFormat:"h:mm tt ddd, MMM d"},range:function(t){var e=this.options.range;var a=this.calendarInfo().firstDay;var s=t.end;var n;a===s.getDay()&&s.setDate(s.getDate()+7),this.start=kendo.date.getDate(kendo.date.dayOfWeek(t.start,a,-1)),this.end=kendo.date.getDate(kendo.date.dayOfWeek(s,a,1)),e&&e.start&&(this.start=kendo.date.getDate(e.start)),e&&e.end&&(n=new Date(e.end),kendo.date.getDate(n)<e.end?this.end=kendo.date.getDate(new Date(n.setDate(n.getDate()+1))):this.end=kendo.date.getDate(n))},_createSlots:function(){var t=[];return t.push(this._weeks(this.start,this.end)),t.push(this._days(this.start,this.end)),t},_layout:function(){var t=[];var e=this.options;return t.push(this._slotHeaders(this._slots[0],kendo.template(e.weekHeaderTemplate))),t.push(this._slotHeaders(this._slots[1],kendo.template(e.dayHeaderTemplate))),t}}),kendo.ui.GanttMonthView=W.extend({name:"month",options:{weekHeaderTemplate:_,monthHeaderTemplate:y,resizeTooltipFormat:"dddd, MMM d, yyyy"},range:function(t){var e=this.options.range;var a;this.start=kendo.date.firstDayOfMonth(t.start),this.end=kendo.date.addDays(kendo.date.getDate(kendo.date.lastDayOfMonth(t.end)),1),e&&e.start&&(this.start=kendo.date.getDate(e.start)),e&&e.end&&(a=new Date(e.end),kendo.date.getDate(a)<e.end?this.end=kendo.date.getDate(new Date(a.setDate(a.getDate()+1))):this.end=kendo.date.getDate(a))},_createSlots:function(){var t=[];return t.push(this._months(this.start,this.end)),t.push(this._weeks(this.start,this.end)),t},_layout:function(){var t=[];var e=this.options;return t.push(this._slotHeaders(this._slots[0],kendo.template(e.monthHeaderTemplate))),t.push(this._slotHeaders(this._slots[1],kendo.template(e.weekHeaderTemplate))),t}}),kendo.ui.GanttYearView=W.extend({name:"year",options:{yearHeaderTemplate:({start:t})=>kendo.toString(t,"yyyy"),monthHeaderTemplate:y,resizeTooltipFormat:"dddd, MMM d, yyyy"},range:function(t){var e=this.options.range;var a;this.start=kendo.date.firstDayOfMonth(new Date(t.start.setMonth(0))),this.end=kendo.date.firstDayOfMonth(new Date(t.end.setMonth(12))),e&&e.start&&(this.start=kendo.date.firstDayOfMonth(e.start)),e&&e.end&&(a=kendo.date.firstDayOfMonth(e.end),this.end=kendo.date.getDate(new Date(a.setMonth(a.getMonth()+1))))},_createSlots:function(){var e=[];var a=this._months(this.start,this.end);return t(a).each((function(t,e){e.span=1})),e.push(this._years(this.start,this.end)),e.push(a),e},_layout:function(){var t=[];var e=this.options;return t.push(this._slotHeaders(this._slots[0],kendo.template(e.yearHeaderTemplate))),t.push(this._slotHeaders(this._slots[1],kendo.template(e.monthHeaderTemplate))),t}});var M=kendo.ui.GanttTimeline=e.extend({init:function(t,a){e.fn.init.call(this,t,a),this.options.views&&this.options.views.length||(this.options.views=["day","week","month"]),l=kendo.support.isRtl(t),this._wrapper(),this._domTrees(),this._views(),this._selectable(),this._draggable(),this._resizable(),this._percentResizeDraggable(),this._createDependencyDraggable(),this._attachEvents(),this._navigatable(),this._tooltip()},options:{name:"GanttTimeline",messages:{views:{day:"Day",week:"Week",month:"Month",year:"Year",start:"Start",end:"End"}},snap:!0,selectable:!0,editable:!0},destroy:function(){e.fn.destroy.call(this),clearTimeout(this._tooltipTimeout),this._currentTimeUpdateTimer&&clearInterval(this._currentTimeUpdateTimer),this._unbindView(this._selectedView),this._moveDraggable&&this._moveDraggable.destroy(),this._resizeDraggable&&this._resizeDraggable.destroy(),this._percentDraggable&&this._percentDraggable.destroy(),this._dependencyDraggable&&this._dependencyDraggable.destroy(),this.touch&&this.touch.destroy(),this._headerTree=null,this._taskTree=null,this._dependencyTree=null,this.wrapper.off(c),kendo.destroy(this.wrapper)},_findNext:function(t){return t.next().find(".k-task")},_findFirst:function(t){return t.closest(".k-table-tbody").find(".k-task").first()},_findLast:function(t){return t.closest(".k-table-tbody").find(".k-task").last()},_findPrev:function(t){return t.prev().find(".k-task")},_scrollTasks:function(t){var e=this.wrapper;var a=kendo.scrollLeft(e.find(".k-grid-content"));kendo.scrollLeft(e.find(".k-grid-content"),a+20*t)},_navigatable:function(){var e=this;e.options.navigatable&&e.wrapper.on("keydown"+c,".k-gantt-tables .k-gantt-tasks .k-task",(function(a){var s=t(a.target);var n=s.closest(".k-table-row");var r=!1;var i;a.keyCode==h.HOME&&(i=e._findFirst(n)),a.keyCode==h.END&&(i=e._findLast(n)),a.keyCode==h.DOWN&&(i=e._findNext(n)),a.keyCode==h.UP&&(i=e._findPrev(n)),i&&(r=!0,i[0]!==s[0]&&(s.closest(".k-gantt-tasks").find(".k-task").attr("tabindex",-1),i.attr("tabindex",0),i.trigger("focus"))),a.keyCode==h.LEFT&&(a.altKey?s.hasClass("k-task-summary")&&(e.trigger("collapse",{uid:s.attr("data-uid")}),setTimeout((function(){e.select().trigger("focus")}),1)):e._scrollTasks(-1),r=!0),a.keyCode==h.RIGHT&&(a.altKey?s.hasClass("k-task-summary")&&(e.trigger("expand",{uid:s.attr("data-uid")}),setTimeout((function(){e.select().trigger("focus")}),1)):e._scrollTasks(1),r=!0),a.keyCode==h.ENTER&&(r=!0,!1!==e.options.editable.update&&(e.trigger("editTask",{uid:s.attr("data-uid")}),a.stopPropagation())),a.keyCode==h.DELETE&&(r=!0,!1!==e.options.editable.update&&(e.trigger("removeTask",{uid:s.attr("data-uid")}),a.stopPropagation())),r&&a.preventDefault()})).on(v+c,g+M.styles.task,(function(a){a.preventDefault();var s=t(this);e.wrapper.find(g+M.styles.task).attr("tabindex","-1"),s.attr("tabindex","0").trigger("focus")}))},_wrapper:function(){var e=M.styles;var a=this;var s=this.options;var n,r,i,d,l;this.wrapper=this.element.addClass(e.wrapper).append("<div class='"+e.gridHeader+"'><div class='"+e.gridHeaderWrap+"'></div></div>").append("<div role='tree' class='"+e.gridContentWrap+"'><div class='"+e.tasksWrapper+"'></div><div class='"+e.dependenciesWrapper+"'></div></div>"),s.rowHeight&&(this._calculatedSize=(n="string"==typeof s.rowHeight?s.rowHeight:s.rowHeight+"px",r=t(kendo.format(D,n)),l=a.wrapper.find(g+e.tasksWrapper),kendo.applyStylesFromKendoAttributes(r,["height","visibility"]),l.append(r),i=o(r.find("tr")),d=r.find("td").height(),r.remove(),{row:i,cell:d}))},_domTrees:function(){var t=M.styles;var e=kendo.dom.Tree;var a=this.wrapper;this._headerTree=new e(a.find(g+t.gridHeaderWrap)[0]),this._taskTree=new e(a.find(g+t.tasksWrapper)[0]),this._dependencyTree=new e(a.find(g+t.dependenciesWrapper)[0])},_views:function(){var t=this.options.views;var e;var a;var s;var n;var i;this.views={};for(var o=0,l=t.length;o<l;o++)e=t[o],(a=r(e))&&!1===e.selectable||(s=a?"string"!=typeof e.type?e.title:e.type:e,(n=b[s])&&(a&&(e.type=n.type),n.title=this.options.messages.views[s]),e=d({title:s},n,a?e:{}),s&&(this.views[s]=e,i&&!e.selected||(i=s)));i&&(this._selectedViewName=i)},view:function(t){return t&&(this._selectView(t),this.trigger("navigate",{view:t,action:"changeView"})),this._selectedView},_selectView:function(t){t&&this.views[t]&&(this._selectedView&&this._unbindView(this._selectedView),this._selectedView=this._initializeView(t),this._selectedViewName=t)},_viewByIndex:function(t){var e;var a=this.views;for(e in a){if(!t)return e;t--}},_initializeView:function(t){var e=this.views[t];if(e){var a=e.type;if("string"==typeof a&&(a=kendo.getter(e.type)(window)),!a)throw new Error("There is no such view");var s={};d(s,this.options.range,e.range);var n=e.date||this.options.date;e=new a(this.wrapper,(delete(r=d(!0,{headerTree:this._headerTree,taskTree:this._taskTree,dependencyTree:this._dependencyTree,calculatedSize:this._calculatedSize},e,this.options,{date:n,range:s})).name,delete r.prefix,delete r.views,r))}var r;return e},_unbindView:function(t){t&&t.destroy()},_range:function(t){if(!t||!t.length)return{start:new Date,end:new Date};var e=new p(t).sort({field:"start",dir:"asc"}).toArray()[0].start||new Date;var a=new p(t).sort({field:"end",dir:"desc"}).toArray()[0].end||new Date;return{start:new Date(e),end:new Date(a)}},_render:function(t){var e=this.view();var a=this._range(t);var s=e.options.date;this._tasks=t,e.range(a),e.renderLayout(),e.render(t),s&&e._scrollToDate(s)},_renderDependencies:function(t){this.view()._renderDependencies(t)},_taskByUid:function(t){var e=this._tasks;var a=e.length;var s;for(var n=0;n<a;n++)if((s=e[n]).uid===t)return s},_draggable:function(){var t=this;var e;var a;var s;var n;var r=this.options.snap;var i=M.styles;var o=this.options.editable;var d=function(){t.view()._removeDragHint(),e&&e.css("opacity",1),e=null,a=null,t.dragInProgress=!1};o&&!1!==o.move&&!1!==o.update&&(this._moveDraggable=new kendo.ui.Draggable(this.wrapper,{distance:0,filter:g+i.task+","+g+i.taskOffset,holdToDrag:kendo.support.mobileOS,ignore:g+i.taskResizeHandle}),this._moveDraggable.bind("dragstart",(function(o){var d=t.view();e=o.currentTarget.closest(g+i.taskWrap),a=t._taskByUid(o.currentTarget.parent().find(g+i.task).attr("data-uid")),t.trigger("moveStart",{task:a})?o.preventDefault():(s=a.start,n=d._timeByPosition(o.x.location,r)-s,d._createDragHint(e),e.css("opacity",.5),clearTimeout(t._tooltipTimeout),t.dragInProgress=!0)})).bind("drag",kendo.throttle((function(e){if(t.dragInProgress){var i=t.view();var o=new Date(i._timeByPosition(e.x.location,r)-n);var d=o;t.trigger("move",{task:a,start:o})||(s=o,l&&(d=new Date(s.getTime()+a.duration())),i._updateDragHint(d))}}),15)).bind("dragend",(function(){t.trigger("moveEnd",{task:a,start:s}),d()})).bind("dragcancel",(function(){d()})).userEvents.bind("select",(function(){H()})))},_resizable:function(){var t=this;var e;var a;var s;var n;var r;var i=this.options.snap;var o=M.styles;var d=this.options.editable;var h=function(){t.view()._removeResizeHint(),e=null,a=null,t.dragInProgress=!1};d&&!1!==d.resize&&!1!==d.update&&(this._resizeDraggable=new kendo.ui.Draggable(this.wrapper,{distance:0,filter:g+o.taskResizeHandle,holdToDrag:!1}),this._resizeDraggable.bind("dragstart",(function(i){r=i.currentTarget.hasClass(o.taskResizeHandleWest),l&&(r=!r),e=i.currentTarget.closest(g+o.taskWrap).find(g+o.task),a=t._taskByUid(e.attr("data-uid")),t.trigger("resizeStart",{task:a})?i.preventDefault():(s=a.start,n=a.end,t.view()._createResizeHint(a),clearTimeout(t._tooltipTimeout),t.dragInProgress=!0)})).bind("drag",kendo.throttle((function(e){if(t.dragInProgress){var o=t.view();var d=o._timeByPosition(e.x.location,i,!r);r?s=d<n?d:n:n=d>s?d:s,t.trigger("resize",{task:a,start:s,end:n})||o._updateResizeHint(s,n,r)}}),15)).bind("dragend",(function(){t.trigger("resizeEnd",{task:a,resizeStart:r,start:s,end:n}),h()})).bind("dragcancel",(function(){h()})).userEvents.bind("select",(function(){H()})))},_percentResizeDraggable:function(){var t=this;var e;var a;var s;var n;var r;var o;var d;var h;var p;var c=M.styles;var v;var u=this.options.editable;var k=function(){t.view()._removePercentCompleteTooltip(),a=null,e=null,t.dragInProgress=!1};var f=function(t){var e=a.siblings(g+c.taskDragHandle);e.length||(e=a.closest(g+c.taskWrap).find(g+c.taskDragHandle)),e.css(l?"right":"left",t),a.find(g+c.taskComplete).width(t)};u&&!1!==u.dragPercentComplete&&!1!==u.update&&(this._percentDraggable=new kendo.ui.Draggable(this.wrapper,{distance:0,filter:g+c.taskDragHandle,holdToDrag:!1}),this._percentDraggable.bind("dragstart",(function(l){t.trigger("percentResizeStart")?l.preventDefault():((a=l.currentTarget.siblings(g+c.task)).length||(a=l.currentTarget.closest(g+c.taskWrap).find(g+c.task)),e=t._taskByUid(a.attr("data-uid")),d=e.percentComplete,s=a.offset(),n=this.element.offset(),r=a.find(g+c.taskComplete).width(),o=i(a),clearTimeout(t._tooltipTimeout),t.dragInProgress=!0)})).bind("drag",kendo.throttle((function(e){if(t.dragInProgress){v=l?-e.x.initialDelta:e.x.initialDelta;var a=Math.max(0,Math.min(o,r+v));d=Math.round(a/o*100),f(a),h=s.top-n.top,p=s.left+a-n.left,l&&(p+=o-2*a),t.view()._updatePercentCompleteTooltip(h,p,d)}}),15)).bind("dragend",(function(){t.trigger("percentResizeEnd",{task:e,percentComplete:d/100}),k()})).bind("dragcancel",(function(){f(r),k()})).userEvents.bind("select",(function(){H()})))},_createDependencyDraggable:function(){var e=this;var a;var s=t();var n=t();var r;var d;var l=M.styles;var h=this.options.editable;var p=function(){a.css("display","").removeClass(l.hovered),a.parent().removeClass(l.origin),a=null,c(!1),n=t(),s=t(),e.view()._removeDependencyDragHint(),e.dragInProgress=!1};var c=function(t){n.hasClass(l.origin)||(n.find(g+l.taskDot).css("display",t?"block":""),s.toggleClass(l.hovered,t))};h&&!1!==h.dependencyCreate&&(this._dependencyDraggable=new kendo.ui.Draggable(this.wrapper,{distance:0,filter:g+l.taskDot,holdToDrag:!1}),this._dependencyDraggable.bind("dragstart",(function(t){if(e.trigger("dependencyDragStart"))t.preventDefault();else{(a=t.currentTarget.css("display","block").addClass(l.hovered)).parent().addClass(l.origin);var s=a.offset();var n=e.wrapper.find(g+l.tasksWrapper).offset();r=Math.round(s.left-n.left+o(a)/2),d=Math.round(s.top-n.top+i(a)/2),clearTimeout(e._tooltipTimeout),e.dragInProgress=!0}})).bind("drag",kendo.throttle((function(a){if(e.dragInProgress){e.view()._removeDependencyDragHint();var i=t(kendo.elementUnderCursor(a));var o=e.wrapper.find(g+l.tasksWrapper).offset();var h=a.x.location-o.left;var p=a.y.location-o.top;e.view()._updateDependencyDragHint({x:r,y:d},{x:h,y:p}),c(!1),s=i.hasClass(l.taskDot)?i:t(),n=i.closest(g+l.taskWrap),c(!0)}}),15)).bind("dragend",(function(){if(s.length){var t=a.hasClass(l.taskDotStart);var n=s.hasClass(l.taskDotStart);var r=t?n?3:2:n?1:0;var i=a.siblings(g+l.task);i.length||(i=a.closest(g+l.taskWrap).find(g+l.task));var o=e._taskByUid(i.attr("data-uid"));var d=s.siblings(g+l.task);d.length||(d=s.closest(g+l.taskWrap).find(g+l.task));var h=e._taskByUid(d.attr("data-uid"));o!==h&&e.trigger("dependencyDragEnd",{type:r,predecessor:o,successor:h})}p()})).bind("dragcancel",(function(){p()})).userEvents.bind("select",(function(){H()})))},_selectable:function(){var e=this;var a=M.styles;this.options.selectable&&this.wrapper.on(v+c,g+a.task+","+g+a.taskOffset,(function(s){s.stopPropagation();var n=t(this).attr("data-uid");n||(n=t(this).closest(g+a.taskWrap).find(g+a.task).data("uid")),s.ctrlKey?e.trigger("clear"):e.trigger("select",{uid:n})})).on(v+c,g+a.taskWrap,(function(e){e.stopPropagation(),t(this).css("z-index","0");var s=t(document.elementFromPoint(e.clientX,e.clientY));s.hasClass(a.line)&&s.click(),t(this).css("z-index","")})).on(v+c,g+a.tasksWrapper,(function(){e.selectDependency().length>0?e.clearSelection():e.trigger("clear")})).on(v+c,g+a.line,(function(t){t.stopPropagation(),e.selectDependency(this)}))},select:function(t){var e=this.wrapper.find(t);var a=M.styles;return e.length?(this.clearSelection(),e.addClass(a.selected),void(kendo.support.mobileOS&&e.parent().addClass(a.taskWrapActive))):this.wrapper.find(g+a.task+g+a.selected)},selectDependency:function(e){var a=this.wrapper.find(e);var s;var n=M.styles;return a.length?(this.clearSelection(),this.trigger("clear"),s=t(a).attr("data-uid"),void this.wrapper.find(g+n.line+"[data-uid='"+s+"']").addClass(n.selected)):this.wrapper.find(g+n.line+g+n.selected)},clearSelection:function(){var t=M.styles;this.wrapper.find(g+t.selected).removeClass(t.selected),kendo.support.mobileOS&&this.wrapper.find(g+t.taskWrapActive).removeClass(t.taskWrapActive)},_attachEvents:function(){var e=this;var a=M.styles;this.options.editable&&(this.wrapper.on(v+c,g+a.taskDelete,(function(s){e.trigger("removeTask",{uid:t(this).closest(g+a.taskWrap).find(g+a.task).attr("data-uid")}),s.stopPropagation(),s.preventDefault()})).on("keydown"+c,(function(t){var a;var s=e.options.editable;t.keyCode===h.DELETE&&s&&!1!==s.dependencyDestroy&&(a=e.selectDependency()).length&&(e.trigger("removeDependency",{uid:a.attr("data-uid")}),e.clearSelection())})),kendo.support.mobileOS?this.touch=this.wrapper.kendoTouch({filter:g+a.task+","+g+a.taskOffset,doubletap:function(s){!1!==e.options.editable.update&&e.trigger("editTask",{uid:t(s.touch.currentTarget).closest(g+a.taskWrap).find(g+a.task).attr("data-uid")})}}).data("kendoTouch"):this.wrapper.on("dblclick"+c,g+a.task+","+g+a.taskOffset,(function(s){!1!==e.options.editable.update&&(e.trigger("editTask",{uid:t(this).closest(g+a.taskWrap).find(g+a.task).attr("data-uid")}),s.stopPropagation(),s.preventDefault())})))},_tooltip:function(){var e=this;var a=this.options.tooltip;var s=M.styles;var n;var r=function(t){n=t.clientX};a&&!1===a.visible||(kendo.support.mobileOS?(this.wrapper.on(v+c,g+s.taskDelete,(function(t){t.stopPropagation(),e.view()._removeTaskTooltip()})).on(f+c,g+s.task,(function(a){0===t(a.relatedTarget).parents(g+s.taskWrap,g+s.task).length&&e.view()._removeTaskTooltip()})).on(f+c,g+s.taskOffset,(function(a){0===t(a.relatedTarget).parents(g+s.taskWrap,g+s.task).length&&e.view()._removeOffsetTooltip()})).on(f+c,g+s.taskPlanned,(function(a){0===t(a.relatedTarget).parents(g+s.taskWrap,g+s.task).length&&e.view()._removePlannedTooltip()})),this.touch&&this.touch.bind("tap",(function(a){var n=t(a.touch.target);var r=a.touch.x.client;var i;n.hasClass(s.task)?(i=e._taskByUid(n.attr("data-uid")),e.view()._taskTooltip&&e.view()._removeTaskTooltip(),e.view()._createTaskTooltip(i,n,r)):(i=e._taskByUid(n.closest(g+s.taskWrap).find(g+s.task).attr("data-uid")),e.view()._offsetTooltip&&e.view()._removeOffsetTooltip(),e.view()._createOffsetTooltip(i,n,r))})).bind("doubletap",(function(){e.view()._removeTaskTooltip(),e.view()._removeOffsetTooltip()}))):this.wrapper.on(k+c,g+s.task,(function(){var a=this;var s=e._taskByUid(t(this).attr("data-uid"));e.dragInProgress||(e._tooltipTimeout=setTimeout((function(){e.view()._createTaskTooltip(s,a,n)}),800),t(this).on(u,r))})).on(f+c,g+s.task,(function(){clearTimeout(e._tooltipTimeout),e.view()._removeTaskTooltip(),t(this).off(u,r)})).on(k+c,g+s.taskOffset,(function(){var a=t(this).closest(g+s.taskWrap).find(g+s.task);var i=e._taskByUid(a.attr("data-uid"));e.dragInProgress||(e._offsetTooltipTimeout=setTimeout((function(){e.view()._createOffsetTooltip(i,a,n)}),800),t(this).on(u,r))})).on(f+c,g+s.taskOffset,(function(){clearTimeout(e._offsetTooltipTimeout),e.view()._removeOffsetTooltip(),t(this).off(u,r)})).on(k+c,g+s.taskPlanned,(function(){var a=t(this).closest(g+s.taskWrap).find(g+s.task);var i=e._taskByUid(a.attr("data-uid"));e._plannedTooltipTimeout=setTimeout((function(){e.view()._createPlannedTooltip(i,a,n)}),800),t(this).on(u,r)})).on(f+c,g+s.taskPlanned,(function(){clearTimeout(e._plannedTooltipTimeout),e.view()._removePlannedTooltip(),t(this).off(u,r)})))},_setPlanned:function(t){this.options.showPlannedTasks=t,this.view().options.showPlannedTasks=t}});d(!0,M,{styles:{wrapper:"k-gantt-timeline k-grid",gridHeader:"k-grid-header",gridHeaderWrap:"k-grid-header-wrap",gridContent:"k-grid-content",gridContentWrap:"k-grid-content",tasksWrapper:"k-gantt-tables",dependenciesWrapper:"k-gantt-dependencies",task:"k-task",taskOffset:"k-task-offset",taskOffsetWrap:"k-task-offset-wrap",taskPlanned:"k-task-planned",line:"k-gantt-line",taskResizeHandle:"k-resize-handle",taskResizeHandleWest:"k-resize-w",taskDragHandle:"k-task-draghandle",taskComplete:"k-task-complete",taskDelete:"k-task-delete",taskWrapActive:"k-task-wrap-active",taskWrap:"k-task-wrap",taskDot:"k-task-dot",taskDotStart:"k-task-start",taskDotEnd:"k-task-end",hovered:"k-hover",selected:"k-selected",origin:"k-origin"}})}(window.kendo.jQuery);var e=kendo;t.__meta__={id:"gantt.timeline",name:"Gantt Timeline",category:"web",description:"The Gantt Timeline",depends:["dom","touch","draganddrop","icons"],hidden:!0},t.default=e,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=kendo.gantt.timeline.min.js.map
