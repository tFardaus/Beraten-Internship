/**
 * Kendo UI v2025.3.1002 (http://www.telerik.com/kendo-ui)
 * Copyright 2025 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Kendo UI commercial licenses may be obtained at
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete
 * If you do not own a commercial license, this file shall be governed by the trial license terms.
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("kendo.data.js"),require("kendo.draganddrop.js")):"function"==typeof define&&define.amd?define(["exports","kendo.data.min","kendo.draganddrop.min"],e):e(((t="undefined"!=typeof globalThis?globalThis:t||self).kendo=t.kendo||{},t.kendo._globals=t.kendo._globals||{},t.kendo._globals.TreeviewDraganddrop={}))}(this,(function(t){!function(t){var e=window.kendo;var o=e.ui;var i=t.extend;var s="visibility";var n="k-drag-status";var r=`<span class="${n}"></span>`;var a="k-hover";o.HierarchicalDragAndDrop=e.Class.extend({init:function(s,n){this.element=s,this.hovered=s,this.options=i({dragstart:t.noop,drag:t.noop,drop:t.noop,dragend:t.noop},n),this._draggable=new o.Draggable(s,{ignore:"input,a:not(.k-treeview-leaf),textarea,.k-multiselect-wrap,select,button,a.k-button>.k-icon,.k-button>.k-button-text,button.k-button>.k-icon,span.k-toggle-icon,a.k-button>.k-svg-icon,button.k-button>.k-svg-icon,.k-button>.k-svg-icon>svg,.k-button>.k-svg-icon>svg>path",filter:n.filter,autoScroll:n.autoScroll,cursorOffset:{left:10,top:e.support.mobileOS?-40/e.support.zoomLevel():10},hint:this._hint.bind(this),dragstart:this.dragstart.bind(this),dragcancel:this.dragcancel.bind(this),hintDestroyed:this.dragcancel.bind(this),drag:this.drag.bind(this),dragend:this.dragend.bind(this),holdToDrag:n.holdToDrag,clickMoveClick:n.clickMoveClick})},_hint:function(t){return"<div class='k-drag-clue'>"+r+this.options.hintText(t)+"</div>"},_removeTouchHover:function(){e.support.touch&&this.hovered&&(this.hovered.find("."+a).removeClass(a),this.hovered=!1)},_hintStatus:function(t){var e=this._draggable.hint.find(`.${n}`);t?(this.status=t,o.icon(e,{icon:t})):(this.status="",e.replaceWith(r))},dragstart:function(e){this.dropHint&&this.dropHint.remove(),this.source=e.currentTarget.closest(this.options.itemSelector),this.options.dragstart(this.source)&&e.preventDefault(),this.options.reorderable?this.dropHint=t("<div class='k-drop-hint k-drop-hint-h'><div class='k-drop-hint-start'></div><div class='k-drop-hint-line'></div></div>").css(s,"hidden").appendTo(this.element):this.dropHint=t()},drag:function(o){var i=this.options;var n=this.source;var r=this.dropTarget=t(e.eventTarget(o));var d=r.closest(i.allowedContainers);var l,h,c,v,g;var p,u,k;var f,b,m;d.length?n[0]==r[0]||i.contains(n[0],r[0])||o.clickMoveClick&&o.currentTarget.hasClass("k-drag-cell")&&0===r.closest(".k-drag-cell").length||o.clickMoveClick&&o.currentTarget.hasClass("k-treeview-leaf")&&0===r.closest(".k-treeview-leaf").length?m="cancel":(m="insert-middle",(l=(f=i.itemFromTarget(r)).item).length?(this._removeTouchHover(),h=e._outerHeight(l),v=f.content,i.reorderable?(g=h/(v.length>0?4:2),c=e.getOffset(l).top,p=o.y.location<c+g,u=c+h-g<o.y.location,k=v.length&&!p&&!u):(k=!0,p=!1,u=!1),this.hovered=!!k&&d,this.dropHint.css(s,k?"hidden":"visible"),this._lastHover&&this._lastHover[0]!=v[0]&&this._lastHover.removeClass(a),this._lastHover=v.toggleClass(a,k),k?m="plus":((b=l.position()).top+=p?0:h,this.dropHint.css(b)[p?"prependTo":"appendTo"](i.dropHintContainer(l)),p&&f.first&&(m="insert-top"),u&&f.last&&(m="insert-bottom"))):r[0]!=this.dropHint[0]&&(this._lastHover&&this._lastHover.removeClass(a),m=t.contains(this.element[0],d[0])?"cancel":"plus")):(m="cancel",this._removeTouchHover()),this.options.drag({originalEvent:o.originalEvent,source:n,target:r,pageY:o.y.location,pageX:o.x.location,status:m,setStatus:function(t){m=t}}),0!==m.indexOf("insert")&&this.dropHint.css(s,"hidden"),this._hintStatus(m)},dragcancel:function(){this.dropHint&&this.dropHint.remove()},dragend:function(o){var i,n,r,d,l="over",h=this.source,c=this.dropHint,v=this.dropTarget||t(e.eventTarget(o));c&&"visible"==c.css(s)?(l=this.options.dropPositionFrom(c),i=c.closest(this.options.itemSelector),d=!0):v&&((i=v.closest(this.options.itemSelector)).length||(i=v.closest(this.options.allowedContainers))),!d||i.length?(n={originalEvent:o.originalEvent,source:h[0],destination:i[0],valid:"cancel"!=this.status,setValid:function(t){this.valid=t},dropTarget:v[0],position:l},r=this.options.drop(n),c.remove(),this._removeTouchHover(),this._lastHover&&this._lastHover.removeClass(a),n.valid&&!r?(this._draggable.dropped=!0,this.options.dragend({originalEvent:o.originalEvent,source:h,destination:i,position:l})):this._draggable.dropped=n.valid):this.dragcancel()},destroy:function(){this._lastHover=this.hovered=null,this._draggable.destroy()}})}(window.kendo.jQuery);var e=kendo;t.__meta__={id:"treeview.draganddrop",name:"Hierarchical Drag & Drop",category:"framework",depends:["core","draganddrop"],advanced:!0},t.default=e,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=kendo.treeview.draganddrop.min.js.map
