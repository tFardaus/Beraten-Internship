{"version":3,"sources":["raw-js/kendo.webspeech-common.cmn.chunk.js"],"names":["global","factory","exports","module","define","amd","globalThis","self","kendo","_globals","WebspeechCommonCmnChunk","this","START","END","RESULT","ERROR","DEFAULT_SPEECH_OPTIONS","lang","continuous","interimResults","maxAlternatives","events","getSpeechRecognitionCtor","window","SpeechRecognition","webkitSpeechRecognition","undefined","K","constructor","options","recognition","isListening","handleResult","event","triggerOnResult","handleError","triggerOnError","handleEnd","triggerOnEnd","handleStart","triggerOnStart","init","RecognitionCtor","console","error","setOptions","bindEvents","destroy","unbindEvents","onresult","onerror","onend","onstart","abort","mergedEvents","Object","assign","start","stop","isSupported","isActive","__meta__","id","name","category","description","depends","hidden","chunk"],"mappings":"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","file":"kendo.webspeech-common.cmn.chunk.min.js","sourcesContent":["(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n    typeof define === 'function' && define.amd ? define(['exports'], factory) :\n    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory((global.kendo = global.kendo || {}, global.kendo._globals = global.kendo._globals || {}, global.kendo._globals.WebspeechCommonCmnChunk = {})));\n})(this, (function (exports) {\n    const __meta__ = {\n        id: \"webspeech-common.cmn.chunk\",\n        name: \"WebspeechCommonCmnChunk\",\n        category: \"web\",\n        description: \"A reusable outputed chunk of code\",\n        depends: [],\n        hidden: true,\n        chunk: true,\n        \n    };\n\n    const START = \"start\";\n    const END = \"end\";\n    const RESULT = \"result\";\n    const ERROR = \"error\";\n    const DEFAULT_SPEECH_OPTIONS = {\n        lang: 'en-US',\n        continuous: false,\n        interimResults: false,\n        maxAlternatives: 1,\n        events: {\n            [START]: null,\n            [END]: null,\n            [RESULT]: null,\n            [ERROR]: null\n        }\n    };\n    function getSpeechRecognitionCtor() {\n        return window ? (window.SpeechRecognition || window.webkitSpeechRecognition) : undefined;\n    }\n    class KendoSpeechRecognition {\n        constructor(options) {\n            this.recognition = null;\n            this.isListening = false;\n            this.options = { ...DEFAULT_SPEECH_OPTIONS };\n            this.handleResult = (event) => {\n                this.triggerOnResult(event);\n            };\n            this.handleError = (event) => {\n                this.triggerOnError(event);\n            };\n            this.handleEnd = () => {\n                this.triggerOnEnd();\n                this.isListening = false;\n            };\n            this.handleStart = () => {\n                this.triggerOnStart();\n                this.isListening = true;\n            };\n            this.init(options);\n        }\n        init(options) {\n            const RecognitionCtor = getSpeechRecognitionCtor();\n            if (!RecognitionCtor) {\n                console.error('Speech recognition is not supported in this browser.');\n                this.recognition = null;\n                return;\n            }\n            this.recognition = new RecognitionCtor();\n            this.setOptions(options);\n            this.bindEvents();\n        }\n        destroy() {\n            this.unbindEvents();\n            this.isListening = false;\n        }\n        bindEvents() {\n            if (!this.recognition) {\n                return;\n            }\n            this.recognition.onresult = this.handleResult;\n            this.recognition.onerror = this.handleError;\n            this.recognition.onend = this.handleEnd;\n            this.recognition.onstart = this.handleStart;\n        }\n        unbindEvents() {\n            if (this.recognition) {\n                this.recognition.onresult = null;\n                this.recognition.onerror = null;\n                this.recognition.onend = null;\n                this.recognition.onstart = null;\n                this.recognition.abort();\n                this.recognition = null;\n            }\n        }\n        setOptions(options) {\n            if (!this.recognition) {\n                return;\n            }\n            const mergedEvents = { ...this.options.events, ...options.events };\n            this.options = {\n                ...this.options,\n                ...options,\n                events: mergedEvents\n            };\n            const { lang, continuous, interimResults, maxAlternatives } = this.options;\n            Object.assign(this.recognition, { lang, continuous, interimResults, maxAlternatives });\n        }\n        triggerOnStart() {\n            if (this.options.events[START]) {\n                this.options.events[START]();\n            }\n        }\n        triggerOnEnd() {\n            if (this.options.events[END]) {\n                this.options.events[END]();\n            }\n        }\n        triggerOnResult(event) {\n            if (this.options.events[RESULT]) {\n                this.options.events[RESULT](event);\n            }\n        }\n        triggerOnError(event) {\n            if (this.options.events[ERROR]) {\n                this.options.events[ERROR](event);\n            }\n        }\n        start() {\n            if (this.recognition && !this.isListening) {\n                this.recognition.start();\n            }\n        }\n        stop() {\n            if (this.recognition && this.isListening) {\n                this.recognition.stop();\n            }\n        }\n        abort() {\n            if (this.recognition && this.isListening) {\n                this.recognition.abort();\n            }\n        }\n        isSupported() {\n            return !!getSpeechRecognitionCtor();\n        }\n        isActive() {\n            return this.isListening;\n        }\n    }\n\n    exports.K = KendoSpeechRecognition;\n    exports.__meta__ = __meta__;\n\n}));\n"]}