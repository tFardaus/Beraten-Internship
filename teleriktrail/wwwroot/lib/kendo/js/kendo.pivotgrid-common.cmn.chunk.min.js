/**
 * Kendo UI v2025.3.1002 (http://www.telerik.com/kendo-ui)
 * Copyright 2025 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Kendo UI commercial licenses may be obtained at
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete
 * If you do not own a commercial license, this file shall be governed by the trial license terms.
 */
!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("kendo.data-query.cmn.chunk.js")):"function"==typeof define&&define.amd?define(["exports","kendo.data-query.cmn.chunk.min"],r):r(((e="undefined"!=typeof globalThis?globalThis:e||self).kendo=e.kendo||{},e.kendo._globals=e.kendo._globals||{},e.kendo._globals.PivotgridCommonCmnChunk={}),e.kendo._globals.DataQueryCmnChunk)}(this,(function(e,r){var n={contains:', InStr({0}.CurrentMember.MEMBER_CAPTION,"{1}") > 0',doesnotcontain:', InStr({0}.CurrentMember.MEMBER_CAPTION,"{1}")',endswith:', Right({0}.CurrentMember.MEMBER_CAPTION,Len("{1}"))="{1}"',eq:', {0}.CurrentMember.MEMBER_CAPTION = "{1}"',neq:', {0}.CurrentMember.MEMBER_CAPTION = "{1}"',startswith:', Left({0}.CurrentMember.MEMBER_CAPTION,Len("{1}"))="{1}"'};var t="doesnotcontain",a="in",o="neq";function i(e){var r="";var i=String(e.value);var u=e.field;var c=e.operator;return c===a?(r+="{",r+=i,r+="}"):(r+=c===o||c===t?"-":"",r+="Filter(",r+=u+".MEMBERS",r+=function(e){var r=[];for(var n=1;n<arguments.length;n++)r[n-1]=arguments[n];return r.forEach((function(r,n){e=e.replace(new RegExp("\\{".concat(n,"\\}"),"g"),r)})),e}(n[c],u,i),r+=")"),r}function u(e,r,n){var t="";var a=function(e){var r=[];var n=[];var t=[];var a=0;var o;for(;a<e.length;a++){var i=e[a];var u=i.name;if(o=!1,u.length>1)n.push(i);else{var c=v(u[0]);for(var l=0,s=t.length;l<s;l++)if(0===t[l].name[0].indexOf(c)){o=!0;break}o||t.push(i),i.expand&&r.push(i)}}return r=r.concat(n),{expanded:r,root:t}}(e=e||[]);var o=a.expanded;var i=function(e){var r=[];return e.forEach((function(e){var n=e.name[0];var t=v(n);r.some((function(e){return 0===e.indexOf(t)}))||r.push(n)})),r}(a.root);var u=[];var c=o.length;var m=0;var p;var d=[];if(i.length>1||r.length>0){for(u.push(s(i,r));m<c;m++)d=l(p=f(o[m].name,n),i),u.push(s(d,r));t+=u.join(",")}else{for(;m<c;m++)p=f(o[m].name,n),d.push(p[0]);t+=i.concat(d).join(",")}return t}function c(e){var r=e.length;var n=[];var t;for(var a=0;a<r;a++)t=e[a],n.push(void 0!==t.name?t.name:t);return n}function l(e,r){var n=r.length;r=r.slice(0);for(var t=0;t<e.length;t++){var a=e[t];for(var o=0;o<n;o++){var i=v(r[o]);if(-1!==a.indexOf(i)){r[o]=a;break}}}return r}function s(e,r){var n=e.slice(0);return r.length>0&&n.push("{"+c(r).join(",")+"}"),m(n)}function f(e,r){var n=e.length-1;var t=e[n];var a=function(e,r){for(var n=0,t=e.length;n<t;n++)if(0===r.indexOf(e[n].field))return e[n];return null}(r,t);return a&&a.dir?t="ORDER("+t+".Children,"+a.field+".CurrentMember.MEMBER_CAPTION,"+a.dir+")":t+=".Children",e[n]=t,e}function v(e){var r=e.split(".");return r.length>2?r[0]+"."+r[1]:e}function m(e){var r="CROSSJOIN({";var n;return e.length>2?(n=e.pop(),r+=m(e)):(r+=e.shift(),n=e.pop()),r+="},{",r+=n,r+="})"}function p(e){var r='<Envelope xmlns="http://schemas.xmlsoap.org/soap/envelope/"><Header/><Body><Execute xmlns="urn:schemas-microsoft-com:xml-analysis"><Command><Statement>';var n=e.columnAxes,t=void 0===n?[]:n,a=e.rowAxes,o=void 0===a?[]:a;var l=e.measureAxes,s=void 0===l?[]:l,f=e.sort,v=void 0===f?[]:f,m=e.filter,p=void 0===m?[]:m;var d="rows"===e.measuresAxis;return r+="SELECT NON EMPTY {",!t.length&&o.length&&(!s.length||s.length&&d)&&(t=o,o=[],d=!1),t.length||o.length||(d=!1),t.length?r+=u(t,d?[]:s,v):s.length&&!d&&(r+=c(s).join(",")),r+="} DIMENSION PROPERTIES CHILDREN_CARDINALITY, PARENT_UNIQUE_NAME ON COLUMNS",(o.length||d&&s.length>1)&&(r+=", NON EMPTY {",o.length?r+=u(o,d?s:[],v):r+=c(s).join(","),r+="} DIMENSION PROPERTIES CHILDREN_CARDINALITY, PARENT_UNIQUE_NAME ON ROWS"),p.length?(r+=" FROM ",r+="(",r+=function(e,r){var n="";var t="";for(var a=e.length-1;a>=0;a--)t="SELECT (",t+=i(e[a]),t+=") ON 0",n=a===e.length-1?t+=" FROM ["+r+"]":t+" FROM ( "+n+" )";return n}(p,e.connection.cube),r+=")"):r+=" FROM ["+e.connection.cube+"]",(r+="</Statement></Command><Properties><PropertyList><Catalog>"+e.connection.catalog+"</Catalog><Format>Multidimensional</Format></PropertyList></Properties></Execute></Body></Envelope>").replace(/&/g,"&amp;")}var d=function(e,r){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])},d(e,r)};function h(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}d(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}var A=function(){return A=Object.assign||function(e){for(var r,n=1,t=arguments.length;n<t;n++)for(var a in r=arguments[n])Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a]);return e},A.apply(this,arguments)};function E(e,r,n,t){return new(n||(n=Promise))((function(a,o){function i(e){try{c(t.next(e))}catch(e){o(e)}}function u(e){try{c(t.throw(e))}catch(e){o(e)}}function c(e){var r;e.done?a(e.value):(r=e.value,r instanceof n?r:new n((function(e){e(r)}))).then(i,u)}c((t=t.apply(e,r||[])).next())}))}function y(e,r){var n,t,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=u(0),i.throw=u(1),i.return=u(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(c){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(o=0)),o;)try{if(n=1,t&&(a=2&u[0]?t.return:u[0]?t.throw||((a=t.return)&&a.call(t),0):t.next)&&!(a=a.call(t,u[1])).done)return a;switch(t=0,a&&(u=[2&u[0],a.value]),u[0]){case 0:case 1:a=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,t=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==u[0]&&2!==u[0])){o=0;continue}if(3===u[0]&&(!a||u[1]>a[0]&&u[1]<a[3])){o.label=u[1];break}if(6===u[0]&&o.label<a[1]){o.label=a[1],a=u;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(u);break}a[2]&&o.ops.pop(),o.trys.pop();continue}u=r.call(e,o)}catch(e){u=[6,e],t=0}finally{n=a=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}}Object.create;function g(e,r,n){if(n||2===arguments.length)for(var t,a=0,o=r.length;a<o;a++)!t&&a in r||(t||(t=Array.prototype.slice.call(r,0,a)),t[a]=r[a]);return e.concat(t||Array.prototype.slice.call(r))}Object.create;"function"==typeof SuppressedError&&SuppressedError;function N(e){var r=(new DOMParser).parseFromString(e,"text/xml");var n=Array.from(r.querySelectorAll("Axis"));var t=Array.from(r.querySelectorAll("CellData > Cell")).map((function(e){return{fmtValue:I(e,"FmtValue"),ordinal:parseInt(e.getAttribute("CellOrdinal"),10),value:I(e,"Value")}}));var a={tuples:[]};var o={tuples:[]};var i=[];n.forEach((function(e){if("SlicerAxis"!==e.getAttribute("name")){var r=0===a.tuples.length?a.tuples:o.tuples;Array.prototype.push.apply(r,function(e){var r=Array.from(e.querySelectorAll("Tuple"));return r.map((function(e){return{members:Array.from(e.querySelectorAll("Member")).map((function(e){var r=parseInt(I(e,"LNum")||"0",10);var n=parseInt(I(e,"CHILDREN_CARDINALITY")||"0",10)>0;return{caption:I(e,"Caption"),children:[],hasChildren:n,hierarchy:e.getAttribute("Hierarchy"),levelName:I(e,"LName"),levelNum:r,name:I(e,"UName"),parentName:I(e,"PARENT_UNIQUE_NAME")}}))}}))}(e))}}));var u=new Array(o.tuples.length*a.tuples.length).fill(null);t.forEach((function(e){u[e.ordinal]=e}));var c=0;return o.tuples.forEach((function(e){a.tuples.forEach((function(r){i.push({columnTuple:r,data:u[c],rowTuple:e}),c++}))})),{columns:a,data:i,rows:o}}function I(e,r){var n=e.querySelector(r);return n?n.textContent:""}var O={schemaCatalogs:"DBSCHEMA_CATALOGS",schemaCubes:"MDSCHEMA_CUBES",schemaDimensions:"MDSCHEMA_DIMENSIONS",schemaHierarchies:"MDSCHEMA_HIERARCHIES",schemaKPIs:"MDSCHEMA_KPIS",schemaLevels:"MDSCHEMA_LEVELS",schemaMeasures:"MDSCHEMA_MEASURES",schemaMembers:"MDSCHEMA_MEMBERS"};function _(e){var r={};var n='<Envelope xmlns="http://schemas.xmlsoap.org/soap/envelope/"><Header/><Body><Discover xmlns="urn:schemas-microsoft-com:xml-analysis">';return n+="<RequestType>"+(O[e.command]||e.command)+"</RequestType>",n+="<Restrictions>"+x("RestrictionList",e.restrictions,!0)+"</Restrictions>",e.connection&&e.connection.catalog&&(r.Catalog=e.connection.catalog),n+="<Properties>"+x("PropertyList",r,!1)+"</Properties>",n+="</Discover></Body></Envelope>"}function x(e,r,n){var t="";if(r){t+="<"+e+">";var a=void 0;for(var o in r)r[o]&&(a=r[o],n&&(o=o.replace(/([A-Z]+(?=$|[A-Z][a-z])|[A-Z]?[a-z]+)/g,"$1_").toUpperCase().replace(/_$/,"")),t+="<"+o+">"+a+"</"+o+">");t+="</"+e+">"}else t+="<"+e+"/>";return t}var S={schemaCatalogs:function(e){var r=(new DOMParser).parseFromString(e,"text/xml");return Array.from(r.querySelectorAll("DiscoverResponse > return > root > row")).map((function(e){return{name:I(e,"CATALOG_NAME"),description:I(e,"DESCRIPTION")}}))},schemaCubes:function(e){var r=(new DOMParser).parseFromString(e,"text/xml");return Array.from(r.querySelectorAll("DiscoverResponse > return > root > row")).map((function(e){return{name:I(e,"CUBE_NAME"),caption:I(e,"CUBE_CAPTION"),description:I(e,"DESCRIPTION"),type:I(e,"CUBE_TYPE")}}))},schemaDimensions:function(e){var r=(new DOMParser).parseFromString(e,"text/xml");return Array.from(r.querySelectorAll("DiscoverResponse > return > root > row")).map((function(e){return{caption:I(e,"DIMENSION_CAPTION"),defaultHierarchy:I(e,"DEFAULT_HIERARCHY"),description:I(e,"DESCRIPTION"),name:I(e,"DIMENSION_NAME"),type:parseInt(I(e,"DIMENSION_TYPE"),10),uniqueName:I(e,"DIMENSION_UNIQUE_NAME")}}))},schemaHierarchies:function(e){var r=(new DOMParser).parseFromString(e,"text/xml");return Array.from(r.querySelectorAll("DiscoverResponse > return > root > row")).map((function(e){return{name:I(e,"HIERARCHY_NAME"),caption:I(e,"HIERARCHY_CAPTION"),description:I(e,"DESCRIPTION"),uniqueName:I(e,"HIERARCHY_UNIQUE_NAME"),dimensionUniqueName:I(e,"DIMENSION_UNIQUE_NAME"),displayFolder:I(e,"HIERARCHY_DISPLAY_FOLDER"),origin:I(e,"HIERARCHY_ORIGIN"),defaultMember:I(e,"DEFAULT_MEMBER")}}))},schemaKPIs:function(e){var r=(new DOMParser).parseFromString(e,"text/xml");return Array.from(r.querySelectorAll("DiscoverResponse > return > root > row")).map((function(e){return{name:I(e,"KPI_NAME"),uniqueName:I(e,"KPI_NAME"),caption:I(e,"KPI_CAPTION"),value:I(e,"KPI_VALUE"),goal:I(e,"KPI_GOAL"),status:I(e,"KPI_STATUS"),trend:I(e,"KPI_TREND"),statusGraphic:I(e,"KPI_STATUS_GRAPHIC"),trendGraphic:I(e,"KPI_TREND_GRAPHIC"),description:I(e,"KPI_DESCRIPTION"),groupName:I(e,"MEASUREGROUP_NAME"),type:"kpi"}}))},schemaLevels:function(e){var r=(new DOMParser).parseFromString(e,"text/xml");return Array.from(r.querySelectorAll("DiscoverResponse > return > root > row")).map((function(e){return{name:I(e,"LEVEL_NAME"),caption:I(e,"LEVEL_CAPTION"),description:I(e,"DESCRIPTION"),uniqueName:I(e,"LEVEL_UNIQUE_NAME"),dimensionUniqueName:I(e,"DIMENSION_UNIQUE_NAME"),displayFolder:I(e,"LEVEL_DISPLAY_FOLDER"),orderingProperty:I(e,"LEVEL_ORDERING_PROPERTY"),origin:I(e,"LEVEL_ORIGIN"),hierarchyUniqueName:I(e,"HIERARCHY_UNIQUE_NAME")}}))},schemaMeasures:function(e){var r=(new DOMParser).parseFromString(e,"text/xml");return Array.from(r.querySelectorAll("DiscoverResponse > return > root > row")).map((function(e){return{name:I(e,"MEASURE_NAME"),caption:I(e,"MEASURE_CAPTION"),uniqueName:I(e,"MEASURE_UNIQUE_NAME"),description:I(e,"DESCRIPTION"),aggregator:I(e,"MEASURE_AGGREGATOR"),groupName:I(e,"MEASUREGROUP_NAME"),displayFolder:I(e,"MEASURE_DISPLAY_FOLDER"),defaultFormat:I(e,"DEFAULT_FORMAT_STRING")}}))},schemaMembers:function(e){var r=(new DOMParser).parseFromString(e,"text/xml");return Array.from(r.querySelectorAll("DiscoverResponse > return > root > row")).map((function(e){return{name:I(e,"MEMBER_NAME"),caption:I(e,"MEMBER_CAPTION"),uniqueName:I(e,"MEMBER_UNIQUE_NAME"),dimensionUniqueName:I(e,"DIMENSION_UNIQUE_NAME"),hierarchyUniqueName:I(e,"HIERARCHY_UNIQUE_NAME"),levelUniqueName:I(e,"LEVEL_UNIQUE_NAME"),childrenCardinality:I(e,"CHILDREN_CARDINALITY")}}))}};var M=function(e){return"[Measures]"===e.hierarchy};var R=function(e,r){return void 0===r&&(r=new Set),(e.children||[]).forEach((function(e){r.add(e.levelName),R(e,r)})),r.size};var T=function(e){var r=0;return(e.children||[]).forEach((function(e){r+=T(e)||1})),r};var C=function(e,r){return(r&&r.hierarchy===e.hierarchy?g(g([],(r.normalizedPath||[]).slice(0,-1),!0),[e.name||null],!1):g(g([],r&&r.normalizedPath?r.normalizedPath:[],!0),[e.name],!1)).filter(Boolean)};var b=function(e,r,n,t,a,o,i,u){void 0===r&&(r=-1),void 0===n&&(n=0),void 0===t&&(t=void 0),void 0===a&&(a=void 0),void 0===o&&(o=void 0),void 0===i&&(i=void 0),void 0===u&&(u=void 0);var c=R(e);var l=T(e);var s=t||c;var f=a||l;var v=o?o.slice():[];var m=i?i.slice():new Array(f);var p=v.findIndex((function(r){return r&&r.name===e.levelName&&r.level===e.levelNum}));var d=v[p];var h={name:e.levelName,level:e.levelNum,index:r,cells:new Array(f).fill(null)};var A=-1!==r&&-1!==n;var E={caption:e.caption,name:e.name,levelName:e.levelName,levelNum:e.levelNum,hasChildren:e.hasChildren,parentName:e.parentName,hierarchy:e.hierarchy,total:void 0!==e.total&&e.total||u&&u.children.length<=1&&u.total,parent:u,rowIndex:r,colIndex:n,depth:1,breadth:1,path:e.path||[],normalizedPath:e.normalizedPath||[],children:e.children.filter((function(r){return r.hierarchy===e.hierarchy}))};if(A)if(d)d.cells[n]=E,d.index>=r&&(r=d.index);else if(v[r]&&v[r].cells.length){for(var y=r;y<v.length;y++){v[y].index++}v.splice(r,0,h),v[r].cells[n]=E}else v[r]=h,v[r].cells[n]=E;var g=0;return e.children&&e.children.length?e.children.forEach((function(e){var t=b(e,r+1,n+g,s,f,v,m,E),a=t[0],o=t[1],i=t[3];g+=i||1,v=a.slice(),m=o.slice()})):e.normalizedPath&&(m[n]={total:E.total,path:e.normalizedPath}),E.depth=c,E.breadth=l,[v,m,c,l]};var w=function(e,r,n){var t;void 0===r&&(r=null),void 0===n&&(n=0);var a=A(A({},e),{total:!0,hasChildren:!1,children:[]});for(var o=0;o<e.children.length;o++){var i=w(e.children[o],e,o);t=t||i.hierarchy,i.hierarchy===t||!r||r.children.some((function(e){return e.total&&e.name===a.name}))||e.total||(a.children.push(i),e.children.splice(o,1),o--)}if(e.children.filter((function(e){return!e.total})).length>=1&&r&&!r.children.some((function(e){return e.total&&e.name===a.name}))&&!e.total){var u=e.children[0].hierarchy;e.hierarchy===u&&r.children.splice(n+1,0,a)}return e};function P(e){return JSON.parse(JSON.stringify(e))}var D=function(e,r,n){return{hierarchyUniqueName:e,uniqueName:r,caption:r,measure:r,name:r,type:n,kpi:!0}};function k(e){var r=e.name;return[D(r,e.value,"value"),D(r,e.goal,"goal"),D(r,e.status,"status"),D(r,e.trend,"trend")]}var H=function(e,r){return String(e.name)===String([r.defaultHierarchy?r.defaultHierarchy:r.uniqueName])};var U=function(e,r){return String(e.name)===String(r.name)};var L=function(e,r){var n=function(n){var t=e[n];var a=t.name.findIndex((function(e){return H({name:[e]},r)||String(e).startsWith(r.uniqueName)}));if(-1!==a)if(a===t.name.length-1||1===t.name.length)e.splice(n,1);else{t.name.splice(a,1);var o=e.findIndex((function(e){return e!==t&&String(e.name)===String(t.name)}));-1!==o&&(e[o]=A(A(A({},e[o]),t),e[o].expand||t.expand?{expand:!0}:{}),e.splice(n,1))}};for(var t=e.length-1;t>=0;t--)n(t)};var F=function(e,r,n){var t=-1;if(n.dropTarget&&n.dropDirection){var a=n.dropDirection?"before"===n.dropDirection?0:1:0;t=e.findIndex((function(e){return U(e,n.dropTarget)}))+a}-1!==t?(e.forEach((function(e){var n;e.expand&&e.name.length>1&&e.name.length>t&&(n=e.name).splice.apply(n,g([t,0],r.name,!1))})),e.splice(t,0,r)):e.push(r)};var q=function(e){var r=e.length&&e[0];var n=r&&r.members[r.members.length-1];if(n&&M(n)){var t=[];var a=new Set(e.map((function(e){return e.members[e.members.length-1].caption}))).size;for(var o=0;o<e.length;o+=a)t.push(e.slice(o,o+a));var i=[];return t.forEach((function(e){i.push.apply(i,e.reverse())})),i}return e};var V;!function(e){e.toggle="HEADERS_ACTION_TOGGLE",e.expand="HEADERS_ACTION_EXPAND",e.collapse="HEADERS_ACTION_COLLAPSE"}(V||(V={}));var G=function(e,r,n){var t=new Set;return e.children.forEach((function(e){var a=r(e);n&&t.add(String(e.path)),G(e,r,n||a).map((function(e){t.add(e)}))})),Array.from(t.values())};var j=function(e,r){switch(r.type){case V.toggle:var n=e.find((function(e){return String(e.name)===String(r.payload)}));return j(e,A(A({},r),{type:n&&n.expand?V.collapse:V.expand}));case V.expand:var t=e.find((function(e){return String(e.name)===String(r.payload)}));if(t&&!0===t.expand)return e;if(!t||!1!==t.expand&&void 0!==t.expand){var a=e.slice();return a.push({name:r.payload,expand:!0}),a}return e.map((function(e){return e===t?A(A({},t),{expand:!0}):e}));case V.collapse:var o=G(r.tree,(function(e){return!e.total&&String(e.path)===String(r.payload)}));return e.slice().filter((function(e){return!o.some((function(r){return r===String(e.name)}))})).map((function(e){return A(A({},e),{expand:Boolean(e.expand)})})).map((function(e){return String(e.name)===String(r.payload)?r.payload.length>1?void 0:{name:r.payload,expand:!1}:e})).filter(Boolean);default:return e}};var B;e.H=void 0,(B=e.H||(e.H={})).toggleSelection="PIVOT_CONFIGURATOR_ACTION_TOGGLE_SELECTION",B.addColumnAxis="PIVOT_CONFIGURATOR_ACTION_ADD_COLUMN_AXIS",B.addColumnAxes="PIVOT_CONFIGURATOR_ACTION_ADD_COLUMN_AXES",B.removeColumnAxis="PIVOT_CONFIGURATOR_ACTION_REMOVE_COLUMN_AXIS",B.removeColumnAxes="PIVOT_CONFIGURATOR_ACTION_REMOVE_COLUMN_AXES",B.addRowAxis="PIVOT_CONFIGURATOR_ACTION_ADD_ROW_AXIS",B.addRowAxes="PIVOT_CONFIGURATOR_ACTION_ADD_ROW_AXES",B.removeRowAxis="PIVOT_CONFIGURATOR_ACTION_REMOVE_ROW_AXIS",B.removeRowAxes="PIVOT_CONFIGURATOR_ACTION_REMOVE_ROW_AXES",B.addMeasureAxis="PIVOT_CONFIGURATOR_ACTION_ADD_MEASURE_AXIS",B.addMeasureAxes="PIVOT_CONFIGURATOR_ACTION_ADD_MEASURE_AXES",B.removeMeasureAxis="PIVOT_CONFIGURATOR_ACTION_REMOVE_MEASURE_AXIS",B.removeMeasureAxes="PIVOT_CONFIGURATOR_ACTION_REMOVE_MEASURE_AXES",B.remove="PIVOT_CONFIGURATOR_ACTION_REMOVE",B.setSort="PIVOT_CONFIGURATOR_ACTION_SET_SORT",B.setFilter="PIVOT_CONFIGURATOR_ACTION_SET_FILTER",B.addFilter="PIVOT_CONFIGURATOR_ACTION_ADD_FILTER",B.changeFilter="PIVOT_CONFIGURATOR_ACTION_CHANGE_FILTER",B.removeFilter="PIVOT_CONFIGURATOR_ACTION_REMOVE_FILTER",B.setDragItem="PIVOT_CONFIGURATOR_ACTION_SET_DRAGITEM",B.drop="PIVOT_CONFIGURATOR_ACTION_DROP",B.setDropZone="PIVOT_CONFIGURATOR_ACTION_SET_DROP_ZONE",B.setDropTarget="PIVOT_CONFIGURATOR_ACTION_SET_DROP_TARGET",B.setDropDirection="PIVOT_CONFIGURATOR_ACTION_SET_DROP_DIRECTION";var Y=function(r,n){var t;var a;var o;var i;var u;var c;var l;var s;var f;switch(n.type){case e.H.toggleSelection:if(!Array.isArray(n.payload)){var v=n.payload;if(2===v.type||"aggregator"in v)return r.measureAxes.some((function(e){return H(e,v)}))?Y(r,A(A({},n),{type:e.H.removeMeasureAxis})):Y(r,A(A({},n),{type:e.H.addMeasureAxis}));if("kpi"===v.type){var m=k(v);return m.every((function(e){return r.measureAxes.some((function(r){return H(r,e)}))}))?Y(r,A(A({},n),{type:e.H.removeMeasureAxes,payload:m})):Y(r,A(A({},n),{type:e.H.addMeasureAxes,payload:m.filter((function(e){return!r.measureAxes.some((function(r){return H(r,e)}))}))}))}return n.payload.kpi?r.measureAxes.some((function(e){return H(e,v)}))?Y(r,A(A({},n),{type:e.H.removeMeasureAxis})):Y(r,A(A({},n),{type:e.H.addMeasureAxis})):r.columnAxes.some((function(e){return H(e,v)}))?Y(r,A(A({},n),{type:e.H.removeColumnAxis})):r.rowAxes.some((function(e){return H(e,v)}))?Y(r,A(A({},n),{type:e.H.removeRowAxis})):!r.columnAxes||!r.columnAxes.length||r.rowAxes&&r.rowAxes.length?Y(r,A(A({},n),{type:e.H.addColumnAxis})):Y(r,A(A({},n),{type:e.H.addRowAxis}))}break;case e.H.addColumnAxis:a=g(g([],r.columnAxes||[],!0),[{name:[n.payload.defaultHierarchy||n.payload.uniqueName]}],!1);break;case e.H.addColumnAxes:break;case e.H.removeColumnAxis:a=g([],(r.columnAxes||[]).filter((function(e){return!H(e,n.payload)})),!0),L(a,n.payload);break;case e.H.removeColumnAxes:break;case e.H.addRowAxis:t=g(g([],r.rowAxes||[],!0),[{name:[n.payload.defaultHierarchy||n.payload.uniqueName]}],!1);break;case e.H.addRowAxes:break;case e.H.removeRowAxis:t=g([],(r.rowAxes||[]).filter((function(e){return!H(e,n.payload)})),!0),L(t,n.payload);break;case e.H.removeRowAxes:break;case e.H.addMeasureAxis:o=g(g([],r.measureAxes||[],!0),[{name:[n.payload.defaultHierarchy||n.payload.uniqueName]}],!1);break;case e.H.removeMeasureAxis:o=g([],(r.measureAxes||[]).filter((function(e){return!H(e,n.payload)})),!0);break;case e.H.addMeasureAxes:o=g(g([],r.measureAxes||[],!0),(n.payload||[]).map((function(e){return{name:[e.defaultHierarchy||e.uniqueName]}})),!0);break;case e.H.removeMeasureAxes:o=g([],(r.measureAxes||[]).filter((function(e){return!n.payload.some((function(r){return H(e,r)}))})),!0);break;case e.H.remove:r.columnAxes.some((function(e){return U(e,n.payload)}))&&(a=g([],r.columnAxes.filter((function(e){return!U(e,n.payload)})),!0),L(a,{uniqueName:n.payload.name})),r.rowAxes.some((function(e){return U(e,n.payload)}))&&(t=g([],r.rowAxes.filter((function(e){return!U(e,n.payload)})),!0),L(t,{uniqueName:n.payload.name})),r.measureAxes.some((function(e){return U(e,n.payload)}))&&(o=g([],r.measureAxes.filter((function(e){return!U(e,n.payload)})),!0));break;case e.H.setDragItem:c=n.payload;break;case e.H.setDropZone:l=n.payload;break;case e.H.setDropTarget:f=n.payload;break;case e.H.setDropDirection:s=n.payload;break;case e.H.drop:if(r.dragItem&&r.dropZone){var p=r.columnAxes.find((function(e){return U(e,n.payload)}));var d=r.rowAxes.find((function(e){return U(e,n.payload)}));var h=r.measureAxes.find((function(e){return U(e,n.payload)}));var E=void 0;switch(p&&(E=p,a=g([],r.columnAxes.filter((function(e){return!U(e,n.payload)})),!0),L(a,{uniqueName:n.payload.name})),d&&(E=d,t=g([],r.rowAxes.filter((function(e){return!U(e,n.payload)})),!0),L(t,{uniqueName:n.payload.name})),h&&(E=h,o=g([],r.measureAxes.filter((function(e){return!U(e,n.payload)})),!0)),r.dropZone){case"columnAxes":a=a||r.columnAxes.slice(),F(a,E,r);break;case"rowAxes":t=t||r.rowAxes.slice(),F(t,E,r);break;case"measureAxes":o=o||r.measureAxes.slice(),F(o,E,r)}}c=null,l=null,f=null;break;case e.H.setSort:i=n.payload;break;case e.H.setFilter:u=Array.isArray(n.payload)?n.payload:[n.payload];break;case e.H.addFilter:u=(r.filter||[]).slice(),Array.isArray(n.payload)?u.push.apply(u,n.payload):u.push(n.payload);break;case e.H.changeFilter:u=Array.isArray(n.payload)?(r.filter||[]).map((function(e){return n.payload.some((function(r){return r.field===e.field}))?n.payload.find((function(r){return r.field===e.field})):e})):(r.filter||[]).map((function(e){return e.field===n.payload.field?n.payload:e}));break;case e.H.removeFilter:u=(r.filter||[]).slice(),u=Array.isArray(n.payload)?u.filter((function(e){return!n.payload.some((function(r){return r.field===e.field&&r.operator===e.operator}))})):u.filter((function(e){return!(e.field===n.payload.field&&e.operator===n.payload.operator)}))}return{dragItem:c,dropTarget:f,dropDirection:s,dropZone:l,columnAxes:a,rowAxes:t,measureAxes:o,filter:u,sort:i}};var K;!function(e){e[e.Sum=0]="Sum",e[e.Count=1]="Count",e[e.Min=2]="Min",e[e.Max=3]="Max",e[e.Average=4]="Average"}(K||(K={}));var z=0;var Q=function(e){var r="".concat(K[e],"_").concat(z++);switch(e){case K.Sum:return{init:function(e){r in e==!1&&(e[r]=0)},merge:function(e,n){n[r]+=e[r]},accumulate:function(e,n){e[r]+=n},result:function(e){return e[r]},format:function(e){return e.toFixed(2)}};case K.Count:return{init:function(e){r in e==!1&&(e[r]=0)},merge:function(e,n){n[r]+=e[r]},accumulate:function(e,n){e[r]+=1},result:function(e){return e[r]},format:function(e){return e.toFixed()}};case K.Min:return{init:function(e){r in e==!1&&(e[r]=Number.POSITIVE_INFINITY)},merge:function(e,n){n[r]=Math.min(e[r],n[r])},accumulate:function(e,n){e[r]=Math.min(n,e[r])},result:function(e){return Number.isFinite(e[r])?e[r]:NaN},format:function(e){return e.toFixed(2)}};case K.Max:return{init:function(e){r in e==!1&&(e[r]=Number.NEGATIVE_INFINITY)},merge:function(e,n){n[r]=Math.max(e[r],n[r])},accumulate:function(e,n){e[r]=Math.max(n,e[r])},result:function(e){return Number.isFinite(e[r])?e[r]:NaN},format:function(e){return e.toFixed(2)}};case K.Average:var n="".concat(r,"_sum");var t="".concat(r,"_count");return{init:function(e){t in e==!1&&(e[n]=0,e[t]=0)},merge:function(e,r){r[n]+=e[n],r[t]+=e[t]},accumulate:function(e,r){e[n]+=r,e[t]+=1},result:function(e){return e[n]/e[t]},format:function(e){return e.toFixed(2)}};default:throw new Error("Invalid aggregate type provided")}};var X=Q(K.Sum);var W=Q(K.Count);var Z=Q(K.Min);var J=Q(K.Max);var $=Q(K.Average);function ee(e,r){"filters"in e?e.filters.map((function(e){return ee(e,r)})):r(e)}var re=function(e,r){(Array.isArray(e)?e:e.filters).forEach((function(e){return ee(e,r)}))};var ne=function(e,r,n){var t=e.get(r);return t||(t=n||new Map,e.set(r,t)),t};var te=function(e){var r=e.indexOf("&");return-1!==r?[e.substring(0,r),e.substring(r+1)]:[e,void 0]};var ae=function(e,r,n){e.forEach((function(t,a){if(a!==n){t.size>0&&ae(t,r,n);var o=t.get(n);var i=ne(e,n,{});r.forEach((function(e){e.aggregate.init(i),e.aggregate.merge(o,i)}))}}))};var oe=function(e,r,n,t){e.forEach((function(e,a){var o;a!==t?(o=ne(r,a),oe(e,o,n,t)):(o=ne(r,a,{}),n.forEach((function(r){r.aggregate.init(o),r.aggregate.merge(e,o)})))}))};var ie=function(e,r,n,t){e.forEach((function(a,o){if(o!==n){a.size>0&&ie(a,r,n,t);var i=ne(a,n);var u=ne(e,n);oe(i,u,r,t)}}))};var ue=function(e,r,n){var t=te(e),a=t[0],o=t[1];var i=n.slice();if(a&&o){var u=r.find((function(e){return e.key===a}));var c=u?u.caption:"";return i.map((function(r){return r===c?e:r}))}return i};var ce=function(e,r,n,t,a,o,i){var u=i||new Map;var c=t.map((function(e){return e.caption}));for(;r.length>1&&t.some((function(e){return e.caption===r[r.length-1].caption}));)r.pop(),c.pop();var l=e;return r.forEach((function(e,r){if(c=ue(e.name,t,c),l&&!t.some((function(r){return r.caption===e.name}))){if(!l.has(e.name)&&!u.has(c.slice(0,c.indexOf(e.name)+1).join("-"))){var i=Array.from(l).find((function(e){return e[0]!==n}));var s=i&&i[0];var f=s&&te(s)[0];var v=f?r-t.findIndex((function(e){return e.key===f})):0;var m=function(r){var i=[];l.forEach((function(e,r){r!==n&&i.push.apply(i,Array.from(e).filter((function(e){return e[0]!==n})))}));var s=new Map;i.forEach((function(e){if(s.has(e[0])){var r=s.get(e[0]);var n=e[1];var t=new Map;oe(r,t,a,o),oe(n,t,a,o),s.set(e[0],t)}else s.set(e[0],new Map(e[1]))}));var f=c.slice(0,c.indexOf(e.name));s.forEach((function(e,r){u.set(ue(r,t,f.concat([r])).join("-"),e)})),s.set(n,l.get(n)),l=s};for(var p=0;p<v;p++)m()}l=l.get(e.name)||u.get(c.slice(0,c.indexOf(e.name)+1).join("-"))}})),l};var le=function(e,r,n,t,a,o,i){var u=[];var c=t.dataField,l=t.columnsData;var s=new Map;return r.forEach((function(r){var t=ce(e,r.members.slice(),l,o,i,c,s);var f=t&&t.get(l);n.forEach((function(e){var n=e.members.slice();var t=i[0];if("[Measures].[MeasuresLevel]"===n[n.length-1].levelName){var o=n.pop();t=i.find((function(e){return String(e.name)===o.caption}))||t}var l=f&&ce(f,n,c,a,i,c);var s="",v="";if(l&&t){var m=t.aggregate.result(l.get(c));s=String(m),v=t.aggregate.format(m)}u.push({columnTuple:e,data:{fmtValue:v,ordinal:0,value:s},rowTuple:r})}))})),u};var se=function(e,r,n){e.forEach((function(e,t){if(!n[t]){var a=ne(r,t);se(e,a,n)}}))};var fe=function(e){var r=new Set;return e.forEach((function(e){1!==e.name.length||te(e.name[0])[1]||r.add(e.name[0])})),r};var ve=function(e,r,n,t,a){var o=fe(r);var i=[];var u=function(e,r){var n={members:[]};return e.forEach((function(e){var t=r.find((function(r){return r.key===e}));var a=t?t.caption:"";var o={caption:a,children:[],hasChildren:!0,parentName:"",levelNum:0,levelName:a,hierarchy:e,name:a};n.members.push(o)})),n}(o,e);i.push(u);var c=function(u){var c=r[u];if(1===c.name.length&&!c.expand&&o.has(c.name[0]))return"continue";var l=new Set(o.keys());var s=[];var f=[];var v=[];var m;c.name.forEach((function(r,o){var u;var p=te(r),d=p[0],h=p[1];if(m=e.find((function(e){return e.key===d})),h){l.delete(d),f.push(r);var A={children:[],caption:h,hierarchy:d,levelNum:1,levelName:d+" "+d,name:r,parentName:m?m.caption:""};s.push(A)}else if(c.expand&&c.name.length-1===o){l.delete(r),f.push(r);var E=function(e,r,n){var t=[];var a=function(e){return Array.from(e).filter((function(e){return!n[e[0]]}))};var o=new Map(e);var i;var u=function(e){if(i=o.get(r[e]))o=new Map(i);else if(e<r.length-1&&Array.from(o).some((function(n){return te(n[0])[0]===r[e]}))){var u=[];o.forEach((function(e,r){n[r]||u.push.apply(u,a(new Map(e)))})),o=new Map,u.forEach((function(e){if(o.has(e[0])){var r=o.get(e[0]);var t=e[1];var a=new Map;se(r,a,n),se(t,a,n),o.set(e[0],a)}else o.set(e[0],new Map(e[1]))}))}else 0!==e&&e!==r.length-1||Array.from(o).some((function(n){return te(n[0])[0]===r[e]}))&&t.push.apply(t,a(o))};for(var c=0;c<r.length;c++)u(c);return t}(n,f,a);var y=t.find((function(e){return e.field===d}));y&&y.dir&&E.sort(function(e,r){return function(n,t){var a=e.dir;var o=r.sortValue(te(n[0])[1]);var i=r.sortValue(te(t[0])[1]);return o<i?"asc"===a?-1:1:o>i?"asc"===a?1:-1:0}}(y,m));for(var g=0;g<E.length;g++){var N=E[g][0];var I={members:[]};v.push(I);var O=te(N)[1];m=e.find((function(e){return e.key===r}));A={caption:O,children:[],levelName:r+" "+r,levelNum:1,parentName:m?m.caption:"",hierarchy:r,name:N};(u=I.members).push.apply(u,s),I.members.push(A)}}else if(c.expand){var _=(m=e.find((function(e){return e.key===r})))?m.caption:"";l.delete(r),f.push(r);A={children:[],caption:_,hierarchy:r,levelName:_,levelNum:0,name:_,parentName:""};s.push(A)}l.forEach((function(r){v.forEach((function(n){var t=(m=e.find((function(e){return e.key===r})))?m.caption:"";var a={children:[],hasChildren:!0,caption:t,hierarchy:r,levelName:t,levelNum:0,name:t,parentName:""};n.members.push(a)}))})),i.push.apply(i,v)}))};for(var l=0;l<r.length;l++)c(l);return i};var me=function(e){return{caption:String(e.name),children:[],hasChildren:!1,hierarchy:"[Measures]",levelName:"[Measures].[MeasuresLevel]",levelNum:0,name:"[Measures].["+e.name+"]",parentName:""}};var pe=function(e,r){var n=me(r);var t=P(e);return t.members.push(n),t};var de=function(e,r){if(r.length<2)return e;var n=e.slice();for(var t=n.length-1;t>=0;t--){var a=n[t];n[t]=pe(n[t],r[0]);for(var o=1;o<r.length;o++){var i=pe(a,r[o]);n.splice(t+o,0,i)}}return q(n)};var he=function(){function e(e){this.tabIndex=0,this.root=null,this.eventHandlers={},this.update=function(){},this.tabIndex=e.tabIndex}return Object.defineProperty(e.prototype,"elements",{get:function(){return this.root?Array.from(this.root.querySelectorAll(this.selectors.join(","))):[]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"first",{get:function(){return this.root&&this.root.querySelector(this.selectors.join(","))||null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"last",{get:function(){var e=this.elements;return e[e.length-1]||null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"current",{get:function(){return this.elements.find((function(e){return e.matches(":focus")}))},enumerable:!1,configurable:!0}),e.prototype.start=function(e){var r=this;this.root=e;var n=function(n){t.mouseEvents[n]&&(t.eventHandlers[n]=function(e){var t=e.target instanceof Element&&e.target.closest(r.selectors.join(","));t&&r.mouseEvents[n].call(void 0,t,r,e)},e.addEventListener(n,t.eventHandlers[n]))};var t=this;for(var a in this.mouseEvents)n(a);var o=function(n){i.keyboardEvents[n]&&(i.eventHandlers[n]=function(e){var t=e.target instanceof Element&&e.target.closest(r.selectors.join(","));var a=" "===e.key?"Space":e.key;t&&r.keyboardEvents[n][a]&&r.keyboardEvents[n][a].call(void 0,t,r,e)},e.addEventListener(n,i.eventHandlers[n]))};var i=this;for(var a in this.keyboardEvents)o(a)},e.prototype.stop=function(){if(this.root)for(var e in this.eventHandlers)this.eventHandlers[e]&&this.root.removeEventListener(e,this.eventHandlers[e]);this.root=null},e.prototype.focusElement=function(e,r){e&&(r&&(r.removeAttribute("tabindex"),r.classList.remove("k-focus")),e.setAttribute("tabindex",String(this.tabIndex)),e.focus({preventScroll:!0}))},e}();var Ae=".k-pivotgrid .k-pivotgrid-values";var Ee=".k-pivotgrid .k-pivotgrid-column-headers";var ye=".k-pivotgrid .k-pivotgrid-row-headers";var ge=".k-pivotgrid > .k-pivotgrid-empty-cell";var Ne="table.k-pivotgrid-table";var Ie=".k-pivotgrid-cell";var Oe=[Ae,Ee,ye].join(",");var _e=[ge,[Ee,Ne,Ie].join(" "),[ye,Ne,Ie].join(" "),[Ae,Ne,Ie].join(" ")];var xe=function(e,r,n){var t=e.querySelector(".k-icon, .k-svg-icon");if(t){var a=r.elements.indexOf(e);r.update=function(){r.focusElement(r.elements[a],null),r.update=function(){}},t.click(),n.preventDefault()}};var Se=function(e,r,n){e.offsetLeft<r.scrollLeft&&(n.scrollLeft=e.offsetLeft)};var Me=function(e,r,n){e.offsetLeft+e.offsetWidth>r.scrollLeft+r.offsetWidth&&e.offsetWidth<r.offsetWidth&&(n.scrollLeft=e.offsetLeft+e.offsetWidth-r.offsetWidth)};var Re=function(e,r,n){r.scrollTop&&e.offsetTop<r.scrollTop&&(n.scrollTop=e.offsetTop)};var Te=function(e,r,n){e.offsetTop+e.offsetHeight>r.scrollTop+r.offsetHeight&&e.offsetHeight<r.offsetHeight&&(n.scrollTop=e.offsetTop+e.offsetHeight-r.offsetHeight)};var Ce=function(e,r,n){var t=r.querySelector(Ae);var a=e&&e.closest(Oe);t&&a&&e&&n.forEach((function(r){return r(e,a,t)}))};var be=function(e){var r=Array.from(e.rows);var n=Array.from(r&&r[0]&&r[0].cells||[]).map((function(e){return e.colSpan})).reduce((function(e,r){return e+r}),0);var t=r.map((function(){return new Array(n)}));return r.forEach((function(e,r){var n=0;Array.from(e.cells).forEach((function(e){for(var a=0;a<e.colSpan;a++){for(var o=0;o<e.rowSpan;o++){var i=t[r+o].findIndex((function(e,r){return r>=n&&!e}));t[r+o][i]=e}n++}}))})),t};var we=function(e){var r=be(e.querySelector([Ee,Ne].join(" ")));var n=be(e.querySelector([ye,Ne].join(" ")));var t=be(e.querySelector([Ae,Ne].join(" ")));var a=e.querySelector(ge);var o=new Array(n[0].length).fill(a);var i=[];for(var u=0;u<r.length;u++)i.push(o.concat(r[u]));for(u=0;u<n.length;u++)i.push(n[u].concat(t[u]));return i};var Pe=function(e){return e.ctrlKey||e.metaKey};var De=function(e,r,n){var t=we(e);var a=function(e,r){for(var n=0;n<e.length;n++)for(var t=0;t<e[n].length;t++)if(e[n][t]===r)return[n,t];return[-1,-1]}(t,r);var o=[a[0]+n[0],a[1]+n[1]];var i=t[o[0]]&&t[o[0]][o[1]];for(;i&&i===r;)i=t[(o=[o[0]+n[0],o[1]+n[1]])[0]]&&t[o[0]][o[1]];return i};var ke={keydown:{ArrowLeft:function(e,r,n){n.preventDefault();var t=De(r.root,e,[0,-1]);r.focusElement(t,e),Ce(t,r.root,[Me,Se,Te,Re])},ArrowRight:function(e,r,n){n.preventDefault();var t=De(r.root,e,[0,1]);r.focusElement(t,e),Ce(t,r.root,[Se,Me,Te,Re])},ArrowUp:function(e,r,n){n.preventDefault();var t=De(r.root,e,[-1,0]);r.focusElement(t,e),Ce(t,r.root,[Me,Se,Te,Re])},ArrowDown:function(e,r,n){n.preventDefault();var t=De(r.root,e,[1,0]);r.focusElement(t,e),Ce(t,r.root,[Me,Se,Re,Te])},o:function(e,r,n){if(r.root){var t=r.root.nextElementSibling;t&&t instanceof HTMLElement&&t.matches("div.k-pivotgrid-configurator-button")&&(t.click(),setTimeout((function(){if(r.root.parentNode){var e=r.root.parentNode.querySelector(".k-pivotgrid-configurator-content .k-form-field .k-fields-list-wrapper .k-treeview");e instanceof HTMLElement&&(e.setAttribute("tabindex",String(r.tabIndex)),e.focus())}}),0))}},Enter:xe,Space:xe,Home:function(e,r,n){var t=we(r.root);var a=(Pe(n)?t[0]:t.find((function(r){return Boolean(r.find((function(r){return r===e})))}))||[])[0];a&&(r.focusElement(a,e),Ce(a,r.root,[Me,Se,Te,Re]),n.preventDefault())},End:function(e,r,n){var t=we(r.root);var a=Pe(n)?t[t.length-1]:t.find((function(r){return Boolean(r.find((function(r){return r===e})))}))||[];var o=a&&a[a.length-1]||null;o&&(r.focusElement(o,e),Ce(o,r.root,[Se,Me,Re,Te]),n.preventDefault())}}};var He={click:function(e,r){if(e&&e instanceof HTMLElement){var n=r.elements.find((function(e){return e.hasAttribute("tabindex")}))||null;r.focusElement(e,n)}}};var Ue=function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r.selectors=_e,r.mouseEvents=He,r.keyboardEvents=ke,r}return h(r,e),r}(he);var Le=[".k-pivotgrid-configurator-content .k-form-field .k-fields-list-wrapper .k-treeview",".k-pivotgrid-configurator-content .k-chip",".k-pivotgrid-configurator-actions button"];var Fe=function(e,r,n,t){n.preventDefault();var a=r.elements;var o=a.indexOf(e)+t;o<0&&(o=a.length-1),r.focusElement(a[o%a.length],e)};var qe=function(e,r,n){n.target instanceof HTMLElement&&(n.target.querySelector(".k-icon.k-i-x-circle, .k-svg-icon.k-svg-i-x-circle")instanceof HTMLElement&&(n.preventDefault(),Fe(e,r,n,-1)))};var Ve={keydown:{Tab:function(e,r,n){Fe(e,r,n,n.shiftKey?-1:1)},Escape:function(e,r,n){if(n.target instanceof HTMLElement&&r.root){var t=r.root.previousElementSibling;var a=r.root.nextElementSibling;var o=Array.from(t instanceof HTMLElement?t.querySelectorAll("[tabindex]"):[]).find((function(e){return e.tabIndex>=0}));o instanceof HTMLElement&&(o.focus(),a instanceof HTMLElement&&a.click())}},Delete:qe,Backspace:qe}};var Ge={click:function(e,r){if(e&&e instanceof HTMLElement){var n=r.elements.find((function(e){return e.hasAttribute("tabindex")}))||null;r.focusElement(e,n)}}};var je=function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r.selectors=Le,r.mouseEvents=Ge,r.keyboardEvents=Ve,r}return h(r,e),r}(he);e.A=function(e){var r=[];for(var n=0,t=Object.keys(e);n<t.length;n++){var a=t[n];r.push({name:JSON.parse(a),expand:e[a]})}return r},e.B=Y,e.C=U,e.D=function(e,r,n){var t=new Map;return oe(e,t,n,r),t},e.E=k,e.F=de,e.G=function(e){var r;var n=0;for(;n<e.length;n++)if(2===e[n].type){r=!0;break}r&&e.splice(n+1,0,{caption:"KPIs",defaultHierarchy:"[KPIs]",name:"KPIs",uniqueName:"[KPIs]"})},e.I=je,e.P=Ue,e.__meta__={id:"pivotgrid-common.cmn.chunk",name:"PivotgridCommonCmnChunk",category:"web",description:"A reusable outputed chunk of code",depends:["data-query.cmn.chunk"],hidden:!0,chunk:!0},e.a=function(e){var r;var n=e.dataTree,t=e.rowSettings,a=e.columnSettings,o=e.rowAxes,i=e.columnAxes,u=e.measures,c=e.sort,l=e.fields;var s=((r={})[l.columnsData]=l.columnsData,r[l.dataField]=l.dataField,r);var f=i.length?ve(a,i,n.get(l.columnsData),c,s):u.map((function(e){return{members:[me(e)]}}));var v=i.length>0?de(f,u):f;var m=o.length?ve(t,o,n,c,s):[{members:[]}];return{columns:v,data:le(n,m,v,l,a,t,u),rows:m}},e.b=W,e.c=function(e,n,t,a,o,i){var u=new Map;var c=new Map;var l=n.concat(t);var s=new Set;var f=o.dataField,v=o.columnsData;var m=function(e,n,t){var a=t?Array.isArray(t)?{logic:"and",filters:t}:t:void 0;var o=a?r.c(a):function(){return!0};var i=e.concat(n);var u=[];re(t||[],(function(e){"field"in e&&e.field&&u.push(e.field)}));var c={hasFilter:!1,predicate:o,filteringAxes:[]};if(u.some((function(e){return"function"==typeof e})))c.filteringAxes=i.slice();else if(u.length>0){var l=Array.from(new Set(u).values());var s=i.filter((function(e){return l.indexOf(e.key)>=0}));c.filteringAxes=s}return c.hasFilter=c.filteringAxes.length>0,c}(n,t,i),p=m.hasFilter,d=m.predicate,h=m.filteringAxes;return e.forEach((function(e){if(p){var r={};if(h.forEach((function(n){r[n.key]=n.displayValue(e)})),!d(r))return}var o=l.map((function(r){return r.displayValue(e)}));var i="".concat.apply("",o);var m=c.get(i);if(!m){var A=u;var E=function(r){var n,t;A=ne(A,(n=r.key,t=r.displayValue(e),n+"&"+t))};n.forEach(E),A=ne(A,v),s.add(A),t.forEach(E),m={},A.set(f,m),c.set(i,m),a.forEach((function(e){e.aggregate.init(m)}))}a.forEach((function(r){r.aggregate.accumulate(m,r.value(e))}))})),s.forEach((function(e){return ae(e,a,f)})),ie(u,a,v,f),u},e.d=Z,e.e=$,e.f=function(e,r){return E(void 0,void 0,void 0,(function(){var n,t;return y(this,(function(a){switch(a.label){case 0:return n=A({body:_(r),headers:{"Content-Type":"text/xml"},method:"POST"},e.init),[4,fetch(e.url,n)];case 1:return[4,a.sent().text()];case 2:return t=a.sent(),[2,S[r.command](t)]}}))}))},e.g=function(e,r){return E(void 0,void 0,void 0,(function(){var n;return y(this,(function(t){switch(t.label){case 0:return n=A({body:p(r),headers:{"Content-Type":"text/xml"},method:"POST"},e.init),[4,fetch(e.url,n)];case 1:return[4,t.sent().text()];case 2:return[2,N(t.sent())]}}))}))},e.h=function(e){return{columns:q(e.columns.tuples),data:e.data,rows:e.rows.tuples}},e.i=j,e.j=function(e){var r={children:[]};var n={};if(e.every((function(e){return 1===e.members.length&&M(e.members[0])})))return{children:e.map((function(e){var r=e.members[0];return A(A({},r),{normalizedPath:[r.name],parentName:r.name,path:[r.hierarchy]})}))};for(var t=0;t<e.length;t++){var a=P(e[t]);var o="";var i=function(e){var t=a.members[e];var i;if(r.children&&0===r.children.length)i=r;else if(n[o]&&!n[o+t.name]&&0===t.levelNum)i=n[o];else if(n[o+t.parentName]&&t.levelNum>0&&!n[o+t.parentName+t.name])i=n[o+t.parentName];else if(!n[o+t.parentName]&&t.levelNum>0&&!n[o+t.parentName+t.name]){var u=Object.keys(n).find((function(e){return t.parentName===n[e].name}));u&&(i=n[u])}if(i){t.path=(l=t,((s=i)&&s.hierarchy===l.hierarchy?g(g([],(s.path||[]).slice(0,-1),!0),[(0===l.levelNum?l.hierarchy:l.name)||null],!1):g(g([],s&&s.path?s.path:[],!0),[0===l.levelNum?l.hierarchy:l.name],!1)).filter(Boolean)),t.normalizedPath=C(t,i);var c=i.children.findIndex((function(e){return e.hierarchy!==i.hierarchy}));-1!==c?i.children.splice(c,0,t):i.children.push(t)}var l,s;t.parentName+=t.name,o+=t.parentName,n[o]||(n[o]=t)};for(var u=0;u<a.members.length;u++)i(u)}return P(w(r))},e.k=function(e){var r=b(e),n=r[0],t=r[1],a=r[2],o=r[3];for(var i=0;i<o;i++){var u=null;for(var c=0;c<a;c++)if(n[c]){var l=n[c].cells[i];!l&&u&&(u.rowSpan=(u.rowSpan||1)+1),u&&(u.colSpan=u.breadth||1),l&&(u=l)}}return[n,t,a,o]},e.l=function(e){var r=b(e),n=r[0],t=r[1],a=r[2],o=r[3];for(var i=0;i<o;i++){var u=null;for(var c=0;c<a;c++)if(n[c]){var l=n[c].cells[i];!l&&u&&(u.rowSpan=(u.rowSpan||1)+1),u&&(u.colSpan=u.breadth),l&&(u=l)}}return function(e,r,n,t){var a=new Array(t);for(var o=0;o<t;o++)for(var i=0;i<n;i++)if(e[i]&&e[i].cells[o]){var u=e[i].cells[o];a[o]||(a[o]={cells:new Array(n).fill(null)}),a[o].cells[i]=A(A({},u),{rowSpan:u.colSpan,colSpan:u.rowSpan})}return[a,r,t,n]}(n,t,a,o)},e.m=J,e.n=function(e,r){void 0===r&&(r=[]),e.sort=r},e.o=function(e,r){void 0===r&&(r=[]),e.filter=r},e.p=le,e.q=N,e.r=fe,e.s=X,e.t=function(e,r,n,t,a){var o=Array.from(new Array(a),(function(){return{cells:Array.from(new Array(t),(function(){return null}))}}));var i=function(e){return e.join("|")};var u=function(e){return e.members.map((function(e){return e.name}))};var c=new Map;var l=new Map;return r.forEach((function(e,r){c.set(i(e.path),r)})),n.forEach((function(e,r){l.set(i(e.path),r)})),e.forEach((function(e){var r=c.get(i(u(e.columnTuple)));var t=l.get(i(u(e.rowTuple)));void 0!==r&&void 0!==t&&(o[t].cells[r]||(o[t].row=n[t].path,o[t].cells[r]=e))})),o},e.u=oe,e.v=O,e.w=ve,e.x=p,e.y=function(e,r){var n=Object.keys(e).map((function(e){return{caption:e,defaultHierarchy:e,description:"",name:e,uniqueName:e,hierarchyUniqueName:e,measure:!0,type:1}}));return r.length&&n.push({caption:"Measures",children:r.map((function(e){return{aggregator:"1",caption:String(e.name),defaultFormat:"",description:"",displayFolder:"",groupName:String(e.name),name:String(e.name),uniqueName:String(e.name)}})),type:2,description:"",name:"Measures",uniqueName:"[Measures]"}),n},e.z=_}));
//# sourceMappingURL=kendo.pivotgrid-common.cmn.chunk.min.js.map
