{"version":3,"sources":["raw-js/kendo.file-saver.cmn.chunk.js"],"names":["global","factory","exports","module","define","amd","globalThis","self","kendo","_globals","FileSaverCmnChunk","this","anchor","document","createElement","canDownload","saveAsBlob","data","fileName","blob","parts","split","contentType","base64","atob","array","Uint8Array","length","idx","charCodeAt","Blob","buffer","type","navigator","msSaveBlob","saveAsDataURI","dataURI","window","URL","createObjectURL","fileSaver","download","href","e","createEvent","initMouseEvent","dispatchEvent","setTimeout","revokeObjectURL","postToProxy","options","proxyURL","form","setAttribute","proxyTarget","formData","proxyData","name","replace","hasOwnProperty","input","appendChild","body","submit","removeChild","String","fromCharCode","__meta__","id","category","description","depends","hidden","chunk","s","save","forceProxy","Error"],"mappings":";;;;;;;;CAAA,SAAAA,EAAAC,GACA,iBAAAC,SAAA,oBAAAC,OAAAF,EAAAC,SACA,mBAAAE,QAAAA,OAAAC,IAAAD,OAAA,CAAA,WAAAH,GACAA,IAAAD,EAAA,oBAAAM,WAAAA,WAAAN,GAAAO,MAAAC,MAAAR,EAAAQ,OAAA,CAAA,EAAAR,EAAAQ,MAAAC,SAAAT,EAAAQ,MAAAC,UAAA,CAAA,EAAAT,EAAAQ,MAAAC,SAAAC,kBAAA,CAAA,GACA,CAJA,CAIAC,MAAA,SAAAT,GAkCA,IAAAU,EAAA,WAAA,OAAAC,SAAAC,cAAA,IAAA,EACA,IAAAC,EAAA,WAAA,MAAA,aAAAH,GAAA,EAEA,SAAAI,EAAAC,EAAAC,GACA,IAAAC,EAAAF,EAEA,GAAA,iBAAAA,EAAA,CACA,IAAAG,EAAAH,EAAAI,MAAA,YACA,IAAAC,EAAAF,EAAA,GACA,IAAAG,EAAAC,KAAAJ,EAAA,IACA,IAAAK,EAAA,IAAAC,WAAAH,EAAAI,QAEA,IAAA,IAAAC,EAAA,EAAAA,EAAAL,EAAAI,OAAAC,IACAH,EAAAG,GAAAL,EAAAM,WAAAD,GAGAT,EAAA,IAAAW,KAAA,CAAAL,EAAAM,QAAA,CAAAC,KAAAV,GACA,CAEAW,UAAAC,WAAAf,EAAAD,EACA,CAEA,SAAAiB,EAAAlB,EAAAC,GACA,IAAAkB,EAAAnB,EACAoB,OAAAP,MAAAb,aAAAa,OACAM,EAAAE,IAAAC,gBAAAtB,IAGA,IAAAuB,EAAA5B,IACA4B,EAAAC,SAAAvB,EACAsB,EAAAE,KAAAN,EAEA,IAAAO,EAAA9B,SAAA+B,YAAA,eACAD,EAAAE,eAAA,SAAA,GAAA,EAAAR,OACA,EAAA,EAAA,EAAA,EAAA,GAAA,GAAA,GAAA,GAAA,EAAA,EAAA,MAEAG,EAAAM,cAAAH,GACAI,YAAA,WAAA,OAAAT,IAAAU,gBAAAZ,EAAA,GACA,CAEA,SAAAa,EAAAb,EAAAlB,EAAAgC,GACA,GAAAA,EAAAC,SAAA,CAIA,IAAAC,EAAAvC,SAAAC,cAAA,QACAsC,EAAAC,aAAA,SAAAH,EAAAC,UACAC,EAAAC,aAAA,SAAA,QACAD,EAAAC,aAAA,SAAAH,EAAAI,aAAA,SAEA,IAAAC,EAAAL,EAAAM,WAAA,CAAA,EACAD,EAAArC,SAAAA,EAEA,IAAAE,EAAAgB,EAAAf,MAAA,YAIA,IAAA,IAAAoC,KAHAF,EAAAjC,YAAAF,EAAA,GAAAsC,QAAA,QAAA,IACAH,EAAAhC,OAAAH,EAAA,GAEAmC,EACA,GAAAA,EAAAI,eAAAF,GAAA,CACA,IAAAG,EAAA/C,SAAAC,cAAA,SACA8C,EAAAP,aAAA,OAAA,UACAO,EAAAP,aAAA,OAAAI,GACAG,EAAAP,aAAA,QAAAE,EAAAE,IAEAL,EAAAS,YAAAD,EACA,CAGA/C,SAAAiD,KAAAD,YAAAT,GACAA,EAAAW,SACAlD,SAAAiD,KAAAE,YAAAZ,EA3BA,CA4BA,CAGAa,OAAAC,aAwDAhE,EAAAiE,SAnKA,CACAC,GAAA,uBACAX,KAAA,oBACAY,SAAA,MACAC,YAAA,oCACAC,QAAA,GACAC,QAAA,EACAC,OAAA,GA6JAvE,EAAAwE,EAzJA,SAAAzD,EAAAC,EAAAgC,QACA,IAAAA,IAAAA,EAAA,CAAA,GAEA,IAAAyB,EAAA1B,EAEA,GAAAC,EAAA0B,aAAA1B,EAAAC,SACA,MAAA,IAAA0B,MAAA,8CAGA3B,EAAA0B,aACA7D,MACA4D,EAAAxC,GAGAF,UAAAC,aACAyC,EAAA3D,IAIA2D,EAAA1D,EAAAC,EAAAgC,EACA,CAuIA","file":"kendo.file-saver.cmn.chunk.min.js","sourcesContent":["(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory((global.kendo = global.kendo || {}, global.kendo._globals = global.kendo._globals || {}, global.kendo._globals.FileSaverCmnChunk = {})));\n})(this, (function (exports) {\n  const __meta__ = {\n      id: \"file-saver.cmn.chunk\",\n      name: \"FileSaverCmnChunk\",\n      category: \"web\",\n      description: \"A reusable outputed chunk of code\",\n      depends: [],\n      hidden: true,\n      chunk: true,\n      \n  };\n\n  function saveAs(data, fileName, options) {\n    if ( options === void 0 ) options = {};\n\n    var save = postToProxy;\n\n    if (options.forceProxy && !options.proxyURL) {\n      throw new Error('No proxyURL is set, but forceProxy is true');\n    }\n\n    if (!options.forceProxy) {\n      if (canDownload()) {\n        save = saveAsDataURI;\n      }\n\n      if (navigator.msSaveBlob) {\n        save = saveAsBlob;\n      }\n    }\n\n    save(data, fileName, options);\n  }\n\n  var anchor = function () { return document.createElement('a'); };\n  var canDownload = function () { return 'download' in anchor(); };\n\n  function saveAsBlob(data, fileName) {\n    var blob = data; // could be a Blob object\n\n    if (typeof data === 'string') {\n      var parts = data.split(';base64,');\n      var contentType = parts[0];\n      var base64 = atob(parts[1]);\n      var array = new Uint8Array(base64.length);\n\n      for (var idx = 0; idx < base64.length; idx++) {\n        array[idx] = base64.charCodeAt(idx);\n      }\n\n      blob = new Blob([ array.buffer ], { type: contentType });\n    }\n\n    navigator.msSaveBlob(blob, fileName);\n  }\n\n  function saveAsDataURI(data, fileName) {\n    var dataURI = data;\n    if (window.Blob && data instanceof Blob) {\n      dataURI = URL.createObjectURL(data);\n    }\n\n    var fileSaver = anchor();\n    fileSaver.download = fileName;\n    fileSaver.href = dataURI;\n\n    var e = document.createEvent('MouseEvents');\n    e.initMouseEvent('click', true, false, window,\n      0, 0, 0, 0, 0, false, false, false, false, 0, null);\n\n    fileSaver.dispatchEvent(e);\n    setTimeout(function () { return URL.revokeObjectURL(dataURI); });\n  }\n\n  function postToProxy(dataURI, fileName, options) {\n    if (!options.proxyURL) {\n      return;\n    }\n\n    var form = document.createElement('form');\n    form.setAttribute('action', options.proxyURL);\n    form.setAttribute('method', 'POST');\n    form.setAttribute('target', options.proxyTarget || '_self');\n\n    var formData = options.proxyData || {};\n    formData.fileName = fileName;\n\n    var parts = dataURI.split(\";base64,\");\n    formData.contentType = parts[0].replace(\"data:\", \"\");\n    formData.base64 = parts[1];\n\n    for (var name in formData) {\n      if (formData.hasOwnProperty(name)) {\n        var input = document.createElement('input');\n        input.setAttribute('type', 'hidden');\n        input.setAttribute('name', name);\n        input.setAttribute('value', formData[name]);\n\n        form.appendChild(input);\n      }\n    }\n\n    document.body.appendChild(form);\n    form.submit();\n    document.body.removeChild(form);\n  }\n\n  var KEY_STR = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n  var fromCharCode = String.fromCharCode;\n\n  function encodeBase64(plainText) {\n    var input = encodeUTF8(plainText);\n    var output = \"\";\n    var chr1, chr2, chr3, enc1, enc2, enc3, enc4;\n    var i = 0;\n\n    while (i < input.length) {\n      chr1 = input.charCodeAt(i++);\n      chr2 = input.charCodeAt(i++);\n      chr3 = input.charCodeAt(i++);\n\n      enc1 = chr1 >> 2;\n      enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);\n      enc3 = ((chr2 & 15) << 2) | (chr3 >> 6);\n      enc4 = chr3 & 63;\n\n      if (isNaN(chr2)) {\n        enc3 = enc4 = 64;\n      } else if (isNaN(chr3)) {\n        enc4 = 64;\n      }\n\n      output = output +\n        KEY_STR.charAt(enc1) + KEY_STR.charAt(enc2) +\n        KEY_STR.charAt(enc3) + KEY_STR.charAt(enc4);\n    }\n\n    return output;\n  }\n\n  function encodeUTF8(input) {\n    var output = \"\";\n\n    for (var i = 0; i < input.length; i++) {\n      var c = input.charCodeAt(i);\n\n      if (c < 0x80) {\n        // One byte\n        output += fromCharCode(c);\n      } else if (c < 0x800) {\n        // Two bytes\n        output += fromCharCode(0xC0 | (c >>> 6));\n        output += fromCharCode(0x80 | (c & 0x3f));\n      } else if (c < 0x10000) {\n        // Three bytes\n        output += fromCharCode(0xE0 | (c >>> 12));\n        output += fromCharCode(0x80 | (c >>> 6 & 0x3f));\n        output += fromCharCode(0x80 | (c & 0x3f));\n      }\n    }\n\n    return output;\n  }\n\n  exports.__meta__ = __meta__;\n  exports.s = saveAs;\n\n}));\n"]}