/**
 * Kendo UI v2025.3.1002 (http://www.telerik.com/kendo-ui)
 * Copyright 2025 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Kendo UI commercial licenses may be obtained at
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete
 * If you do not own a commercial license, this file shall be governed by the trial license terms.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("kendo.scheduler.view.js"),require("kendo.icons.js")):"function"==typeof define&&define.amd?define(["exports","kendo.scheduler.view.min","kendo.icons.min"],t):t(((e="undefined"!=typeof globalThis?globalThis:e||self).kendo=e.kendo||{},e.kendo._globals=e.kendo._globals||{},e.kendo._globals.SchedulerAgendaview={}))}(this,(function(e){!function(e){var t=window.kendo,r=t.ui,a=t.htmlEncode,s=".kendoAgendaView",n="role";var i=e=>`<div class="k-task" title="${a((e.title||"").replace(/"/g,"'"))}" ${t.attr("uid")}="${e.uid}">`+(e.resources[0]?`<span class="k-scheduler-mark" ${t.attr("style-background-color")}="${e.resources[0].color}"></span>`:"")+`${e.isException()?t.ui.icon("arrows-no-repeat"):e.isRecurring()?t.ui.icon("arrow-rotate-cw"):""}`+`<span class="k-scheduler-task-text">${t.template(e.template)(e)}</span>`+(e.showDelete?`<a href="#" class="k-link k-event-delete" title="${e.messages.destroy}" aria-label="${e.messages.destroy}">${t.ui.icon("x")}</a>`:"")+"</div>";var o=t.Class.extend({init:function(e){this._view=e},_getColumns:function(e,t){return e.concat(t)},_getGroupsInDay:function(){return[]},_getSumOfItemsForDate:function(){return 0},_renderTaskGroupsCells:function(e,t,r,a){var s=this._view;0===r&&0===a&&t.length&&s._renderTaskGroupsCells(e,t)},_renderDateCell:function(e,r,a,s,n,i){var o=this._view;var l=o._isMobile();e.push(t.format('<td class="k-scheduler-datecolumn{3}{2}" rowspan="{0}">{1}</td>',a.length,o._dateTemplate({date:s,isMobile:l}),r.length?"":" k-first"))},_renderDates:function(){},_getParents:function(e){return e.splice(0)},_getGroupsByDate:function(){},_renderTaskGroups:function(e,t,r){var a=this._view;e.append(a._renderTaskGroups(t,r))}});var l=t.Class.extend({init:function(e){this._view=e},_getColumns:function(e,t){if(this._view._isMobile())return e.concat(t);var r=t.slice(0,1);var a=t.slice(1);return r.concat(e).concat(a)},_compareDateGroups:function(e,t,r){return e[r].text==t[r].text&&(0===r||this._compareDateGroups(e,t,r-1))},_getGroupsInDay:function(e,t){var r=[];var a=null;for(var s=0;s<e.length;s++)for(var n=0;n<e[s].items.length;n++){var i=0;if(0===r.length)for(;i<t[s].length;i++)r.push([1]);else for(;i<t[s].length;i++)if(this._compareDateGroups(t[s],a,i))r[i][r[i].length-1]++;else{var o=r[i][r[i].length-1]-1;for(var l=0;l<o;l++)r[i].push(0);r[i].push(1)}a=t[s]}return r},_getSumOfItemsForDate:function(e){var t=0;for(var r=0;r<e.length;r++)t+=e[r].items.length;return t},_renderTaskGroupsCells:function(e,r,a,s,n,i,o,l){var d=this._view;var u=d._isMobile();if(u)0===a&&0===s&&r.length&&d._renderTaskGroupsCells(e,r);else{0===a&&0===s&&e.push(t.format('<td class="k-scheduler-datecolumn k-first" rowspan="{0}">{1}</td>',i,d._dateTemplate({date:o,isMobile:u})));for(var c=0;c<r[a].length;c++)n[c][l]&&e.push(t.format('<td class="k-scheduler-groupcolumn" rowspan="{0}">{1}</td>',n[c][l],d._groupTemplate({value:r[a][c].text,isMobile:u}),r[a][c].className))}},_renderDateCell:function(){},_renderDates:function(e){var t=this._view;var r=t._groupsByDate.sort((function(e,t){return e.array[0].value.getTime()-t.array[0].value.getTime()}));for(var a=0;a<r.length;a++)e.append(t._renderTaskGroups(r[a].array,r[a].groups))},_getParents:function(e){return e.slice(0)},_getGroupsByDate:function(e,t,r){var a=this._view;if(e[t].items)for(var s=0;s<e[t].items.length;s++){var n=e[t].items[s].value;var i=!1;for(var o=0;o<a._groupsByDate.length;o++)a._groupsByDate[o].array[0].value.getTime()===n.getTime()&&(i=!0,a._groupsByDate[o].array.push(e[t].items[s]),a._groupsByDate[o].groups.push(r));i||a._groupsByDate.push({array:[e[t].items[s]],groups:[r]})}},_renderTaskGroups:function(){}});function d(e){var t=0;for(var r=0,a=e.length;r<a;r++)t+=e[r].items.length;return t}function u(e,r){return e.valuePrimitive&&(r=t.getter(e.dataValueField)(r)),r}function c(e){var t=[].concat(e),r=t.shift(),a=[],s=[].push;for(;r;)r.groups?s.apply(t,r.groups):r.items?s.apply(t,r.items):s.call(a,r),r=t.shift();return a}t.ui.scheduler.AgendaGroupedView=o,t.ui.scheduler.AgendaGroupedByDateView=l,r.AgendaView=r.SchedulerView.extend({init:function(a,n){r.SchedulerView.fn.init.call(this,a,n),this._groupedView=this._getGroupedView(),(n=this.options).editable&&(n.editable=e.extend({delete:!0},n.editable,{create:!1,update:!1},{messages:n.messages})),this.title=n.title,this._eventTemplate=t.template(i),this._dateTemplate=t.template(n.eventDateTemplate),this._groupTemplate=t.template(n.eventGroupTemplate),this._timeTemplate=t.template(n.eventTimeTemplate),this.element.on("mouseenter"+s,".k-scheduler-content tr","_mouseenter").on("mouseleave"+s,".k-scheduler-content tr","_mouseleave").on("click"+s,".k-scheduler-content .k-link:has(.k-i-x),.k-scheduler-content .k-link:has(.k-svg-i-x)","_remove"),this._renderLayout(n.date),this.refreshLayout()},name:"agenda",_aria:function(){var e=this.table;e.attr(n,"grid"),e.children("tbody").attr(n,"none"),e.find("table").attr(n,"none"),e.find("table > tbody").attr(n,"rowgroup"),e.find("table tr").attr(n,"row"),e.find("table td").attr(n,"gridcell"),e.find(".k-scheduler-header-wrap th").attr(n,"columnheader"),e.find(".k-scheduler-content .k-scheduler-datecolumn, .k-scheduler-content .k-scheduler-groupcolumn").attr(n,"rowheader")},clearSelection:function(){this.element.find(".k-selected").attr("aria-selected",!1),t.ui.SchedulerView.fn.clearSelection.call(this)},_isVirtualized:function(){return!1},_getGroupedView:function(){return this._isGroupedByDate()?new t.ui.scheduler.AgendaGroupedByDateView(this):new t.ui.scheduler.AgendaGroupedView(this)},_mouseenter:function(t){e(t.currentTarget).addClass("k-hover")},_mouseleave:function(t){e(t.currentTarget).removeClass("k-hover")},_remove:function(r){r.preventDefault(),this.trigger("remove",{uid:e(r.currentTarget).closest(".k-task").attr(t.attr("uid"))})},nextDate:function(){return t.date.nextDay(this.startDate())},startDate:function(){return this._startDate},endDate:function(){return this._endDate},previousDate:function(){return t.date.previousDay(this.startDate())},_renderLayout:function(e){this._startDate=e,this._endDate=t.date.addDays(e,7),this.createLayout(this._layout()),this._footer()},_layout:function(){var e=[{text:this.options.messages.time,className:"k-scheduler-timecolumn"},{text:this.options.messages.event}];this._isMobile()||e.splice(0,0,{text:this.options.messages.date,className:"k-scheduler-datecolumn"});var t=this.groupedResources;if(t.length){var r=[];for(var a=0;a<t.length;a++)r.push({text:"",className:"k-scheduler-groupcolumn"});e=this._groupedView._getColumns(r,e)}return{columns:e}},_tasks:function(e){var r=[];for(var a=0;a<e.length;a++){var s=e[a];var n=s.start;var i=s.isAllDay?t.date.getDate(s.end):s.end;var o=t.date.getDate(n);var l=6e4*(o.getTimezoneOffset()-i.getTimezoneOffset());var d=Math.ceil((i-o+l)/t.date.MS_PER_DAY);s.isAllDay&&(d+=1);var u=s.clone();if(u.startDate=t.date.getDate(n),u.startDate>=this.startDate()&&r.push(u),d>1){u.end=t.date.nextDay(n),u.head=!0;for(var c=1;c<d;c++)n=u.end,(u=s.clone()).start=u.startDate=t.date.getDate(n),u.end=t.date.nextDay(n),c==d-1?(u.end=new Date(u.start.getFullYear(),u.start.getMonth(),u.start.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),u.tail=!0):(u.isAllDay=!0,u.middle=!0),(t.date.getDate(u.end)<=this.endDate()&&u.start>=this.startDate()||t.date.getDate(u.start).getTime()==this.endDate().getTime())&&r.push(u)}}return new t.data.Query(r).sort([{field:"start",dir:"asc"},{field:"end",dir:"asc"}]).groupBy({field:"startDate"}).toArray()},_renderTaskGroups:function(e,r){var a=[];var s=this.options.editable;var n=s&&!1!==s.destroy&&!this._isMobile();var i=this._isMobile();var o=this._groupedView._getSumOfItemsForDate(e);var l=this._groupedView._getGroupsInDay(e,r);var d=0;for(var u=0;u<e.length;u++){var c=e[u].value;var h=e[u].items;var p=t.date.isToday(c);for(var g=0;g<h.length;g++){var f=h[g];var v=[];var m=i?[]:v;this._groupedView._renderTaskGroupsCells(m,r,u,g,l,o,c,d),d++,0===g&&(i?(m.push(t.format('<td class="k-scheduler-datecolumn {1}" colspan="2">{0}</td>',this._dateTemplate({date:c,isMobile:i}),this.groupedResources.length?"":"k-first")),a.push('<tr role="row" aria-selected="false"'+(p?' class="k-today">':">")+m.join("")+"</tr>")):this._groupedView._renderDateCell(v,r,h,c,u,e)),f.head?f.format="{0:t}":f.tail?f.format="{1:t}":f.format="{0:t}-{1:t}",f.resources=this.eventResources(f),v.push(t.format('<td class="k-scheduler-timecolumn {4}"><div>{0}{1}{2}</div></td><td>{3}</td>',f.tail||f.middle?t.ui.icon("caret-alt-left"):"",this._timeTemplate(f.clone({start:f._startTime||f.start,end:f.endTime||f.end,messages:this.options.messages})),f.head||f.middle?t.ui.icon("caret-alt-right"):"",this._eventTemplate(f.clone({showDelete:n,messages:this.options.messages,template:this.options.eventTemplate})),!this.groupedResources.length&&i?"k-first":"")),a.push('<tr role="row" aria-selected="false"'+(p?' class="k-today">':">")+v.join("")+"</tr>")}}return a.join("")},_renderTaskGroupsCells:function(e,r){var a=this._isMobile();for(var s=0;s<r.length;s++)e.push(t.format('<td class="k-scheduler-groupcolumn{2}" rowspan="{0}">{1}</td>',r[s].rowSpan,this._groupTemplate({value:r[s].text,isMobile:a}),r[s].className))},render:function(r){var a=this.content.find("table").empty();var s=[];if(r.length>0){var n=this.groupedResources;if(a.append(e("<tbody>")),n.length)s=this._createGroupConfiguration(r,n,null),this._groupsByDate=[],this._renderGroups(s,a.find("tbody"),[]),this._groupedView._renderDates(a.find("tbody"));else{s=this._tasks(r);var i=e(this._renderTaskGroups(s,[]));t.applyStylesFromKendoAttributes(i,["background-color"]),a.find("tbody").append(i)}}this._eventsList=function(e){var t,r=0,a=e.length,s=[];for(;r<a;r++)(t=e[r]).groups?(t=c(t.groups),s=s.concat(t)):s=s.concat(c(t.items));return s}(s);this._aria(),this.refreshLayout(),this.trigger("activate")},_renderGroups:function(e,t,r){for(var a=0,s=e.length;a<s;a++){var n=this._groupedView._getParents(r);n.push(e[a]),this._groupedView._getGroupsByDate(e,a,n),e[a].groups?this._renderGroups(e[a].groups,t,n):this._groupedView._renderTaskGroups(t,e[a].items,n)}},_createGroupConfiguration:function(e,a,s){var n=a[0];var i=[];var o=n.dataSource.view();var l=this._isMobile();o=o.filter((function(e){var r=t.getter(n.dataParentValueField)(e);return null==r||s&&r===s.value}));for(var c=0;c<o.length;c++){var h=u(n,o[c]);var p=new t.data.Query(e).filter({field:n.field,operator:r.SchedulerView.groupEqFilter(h)}).toArray();if(p.length){var g=this._tasks(p);var f=s?"":" k-first";var v={text:t.getter(n.dataTextField)(o[c]),value:h,rowSpan:0,className:f};if(a.length>1)v.groups=this._createGroupConfiguration(p,a.slice(1),v),s&&(s.rowSpan+=v.rowSpan);else{v.items=g;var m=d(v.items);l&&(m+=v.items.length),v.rowSpan=m,s&&(s.rowSpan+=m)}i.push(v)}}return i},_resourceBySlot:function(){return{}},selectionByElement:function(t){var r,a;if(!(t=e(t)).hasClass("k-scheduler-datecolumn")&&this._eventsList.length){if(t.is(".k-task")&&(t=t.closest("td")),this._isMobile()){var s=t.parent();r=s.parent().children().filter((function(){return e(this).children(":not(.k-scheduler-datecolumn, .k-scheduler-groupcolumn)").length})).index(s)}else r=t.parent().index();return{index:r,start:(a=this._eventsList[r]).start,end:a.end,isAllDay:a.isAllDay,uid:a.uid}}},select:function(e){this.clearSelection();var t=this.table.find(".k-task").eq(e.index).closest("tr").addClass("k-selected").attr("aria-selected",!0)[0];this.current(t)},move:function(e,r){var a=!1;var s=e.index;if(r==t.keys.UP?(s--,a=!0):r==t.keys.DOWN&&(s++,a=!0),a){var n=this._eventsList[s];n&&(e.start=n.start,e.end=n.end,e.isAllDay=n.isAllDay,e.events=[n.uid],e.index=s)}return a},moveToEvent:function(){return!1},constrainSelection:function(e){var t=this._eventsList[0];t&&(e.start=t.start,e.end=t.end,e.isAllDay=t.isAllDay,e.events=[t.uid],e.index=0)},isInRange:function(){return!0},destroy:function(){this.element&&this.element.off(s),r.SchedulerView.fn.destroy.call(this)},options:{title:"Agenda",name:"agenda",editable:!0,selectedDateFormat:"{0:D}-{1:D}",selectedShortDateFormat:"{0:d} - {1:d}",selectedMobileDateFormat:"{0: MMM} {0:dd} - {1:dd}",eventTemplate:({title:e})=>a(e),eventTimeTemplate:({isAllDay:e,messages:r,format:a,start:s,end:n})=>e?r.allDay:t.format(a,s,n),eventDateTemplate:e=>e.isMobile?(({date:e})=>`<div class="k-scheduler-datecolumn-wrap"><span class="k-mobile-scheduler-agendadate"><span class="k-mobile-scheduler-agendaday">${t.toString(e,"dd")}</span>&nbsp<span class="k-mobile-scheduler-agendamonth">${t.toString(e,"MMMM")}</span></span><span class="k-mobile-scheduler-agendaweekday">`+t.toString(e,"dddd")+"</span></div>")(e):(({date:e})=>'<strong class="k-scheduler-agendaday">'+t.toString(e,"dd")+'</strong><em class="k-scheduler-agendaweek">'+t.toString(e,"dddd")+'</em><span class="k-scheduler-agendadate">'+t.toString(e,"y")+"</span>")(e),eventGroupTemplate:({isMobile:e,value:t})=>e?'<span class="k-scheduler-group-text">'+t+"</span>":'<strong class="k-scheduler-adgendagroup">'+t+"</strong>",messages:{event:"Event",date:"Date",time:"Time",allDay:"all day"}}})}(window.kendo.jQuery);var t=kendo;e.__meta__={id:"scheduler.agendaview",name:"Scheduler Agenda View",category:"web",description:"The Scheduler Agenda View",depends:["scheduler.view","icons"],hidden:!0},e.default=t,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=kendo.scheduler.agendaview.min.js.map
