/**
 * Kendo UI v2025.3.1002 (http://www.telerik.com/kendo-ui)
 * Copyright 2025 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Kendo UI commercial licenses may be obtained at
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete
 * If you do not own a commercial license, this file shall be governed by the trial license terms.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("kendo.treeview.js"),require("kendo.popup.js"),require("kendo.actionsheet.js"),require("kendo.binder.js"),require("kendo.html.chip.js"),require("kendo.html.chiplist.js"),require("kendo.html.button.js"),require("kendo.html.input.js"),require("kendo.label.js"),require("kendo.icons.js"),require("kendo.valueMapper.chunk.js"),require("kendo.dropdowns-loader.chunk.js")):"function"==typeof define&&define.amd?define(["exports","kendo.treeview.min","kendo.popup.min","kendo.actionsheet.min","kendo.binder.min","kendo.html.chip.min","kendo.html.chiplist.min","kendo.html.button.min","kendo.html.input.min","kendo.label.min","kendo.icons.min","kendo.valueMapper.chunk.min","kendo.dropdowns-loader.chunk.min"],t):t(((e="undefined"!=typeof globalThis?globalThis:e||self).kendo=e.kendo||{},e.kendo._globals=e.kendo._globals||{},e.kendo._globals.Dropdowntree={}),e.kendo._globals.Treeview,e.kendo._globals.Popup,e.kendo._globals.Actionsheet,e.kendo._globals.Binder,e.kendo._globals.HtmlChip,e.kendo._globals.HtmlChiplist,e.kendo._globals.HtmlButton,e.kendo._globals.HtmlInput,e.kendo._globals.Label,e.kendo._globals.Icons,e.kendo._globals.ValueMapperChunk,e.kendo._globals.DropdownsLoaderChunk)}(this,(function(e,t,i,a,s,n,r,l,o,d,h,c,p){!function(e,t){var i,a=window.kendo,s=a.ui,n=a.keys,r="k-disabled",l="select",o="checked",d="indeterminate",h=s.TreeView;var c;c=".k-treeview-group",i=function(e){var t=e.children(".k-animation-container");return t.length||(t=e),t.children(c)};var p=h.extend({init:function(e,t,i){var a=this;a.dropdowntree=i,h.fn.init.call(a,e,t),a.dropdowntree._isMultipleSelection()&&a.wrapper.on("click.kendoTreeView",".k-treeview-leaf.k-selected",a._clickSelectedItem.bind(a))},_checkOnSelect:function(e){if(!e.isDefaultPrevented()){var t=this.dataItem(e.node);t.set("checked",!t.checked)}},_setCheckedValue:function(e,t){e.set(o,t)},_click:function(e){var t=this;t.dropdowntree._isMultipleSelection()&&t.one("select",t._checkOnSelect),h.fn._click.call(t,e)},_clickSelectedItem:function(t){var i=this,a=e(t.currentTarget);i.one("select",i._checkOnSelect),i._trigger(l,a)||i.dataItem(a).set("selected",!1)},defaultrefresh:function(e){var i=e.node;var a=e.action;var s=e.items;var n=this.wrapper;var r=this.options;var l=r.loadOnDemand;var o=r.checkboxes&&r.checkboxes.checkChildren;var d;if(!this._skip){if(e.field){if(!s[0]||!s[0].level)return;return this._updateNodes(s,e.field)}if(i&&(n=this.findByUid(i.uid),this._progress(n,!1)),o&&"remove"!=a){var h=!1;for(d=0;d<s.length;d++)if("checked"in s[d]){h=!0;break}if(!h&&i&&i.checked)for(d=0;d<s.length;d++)s[d].checked=!0}if("add"==a?this._appendItems(e.index,s,n):"remove"==a?this._remove(this.findByUid(s[0].uid),!1):"itemchange"==a?this._updateNodes(s):"itemloaded"==a?this._refreshChildren(n,s,e.index):this._refreshRoot(s),"remove"!=a)for(d=0;d<s.length;d++)l&&!s[d].expanded||s[d].load();this.wrapper.find(">ul").attr("role","tree"),this.trigger("dataBound",{node:i?n:t}),this.dropdowntree._treeViewDataBound({node:i?n:t,sender:this}),this.options.checkboxes.checkChildren&&this.updateIndeterminate()}},_previousVisible:function(e){var t,a,s=this;if(!e.length||e.prev().length)for(a=e.length?e.prev():s.root.children().last();s._expanded(a)&&(t=i(a).children().last()).length;)a=t;else(a=s.parent(e)||e).length||(s.dropdowntree.checkAll&&s.dropdowntree.checkAll.is(":visible")?s.dropdowntree.checkAll.find(".k-checkbox").trigger("focus"):s.dropdowntree.filterInput?s.dropdowntree.filterInput.trigger("focus"):s.dropdowntree.wrapper.trigger("focus"));return a},_keydown:function(i){var s,h=this,c=i.keyCode,p=h.current(),u=h._expanded(p),_=p.find(".k-checkbox-wrap").first().find(":checkbox"),f=a.support.isRtl(h.element);i.target==i.currentTarget&&(!f&&c==n.RIGHT||f&&c==n.LEFT?u?s=h._nextVisible(p):p.find(".k-treeview-leaf").first().hasClass(r)||h.expand(p):!f&&c==n.LEFT||f&&c==n.RIGHT?u&&!p.find(".k-treeview-leaf").first().hasClass(r)?h.collapse(p):(s=h.parent(p),h._enabled(s)||(s=t)):c==n.DOWN?s=h._nextVisible(p):c!=n.UP||i.altKey?c==n.HOME?s=h._nextVisible(e()):c==n.END?s=h._previousVisible(e()):c!=n.ENTER||p.find(".k-treeview-leaf").first().hasClass(r)?c==n.SPACEBAR&&_.length&&!p.find(".k-treeview-leaf").first().hasClass(r)?(_.prop(o,!_.prop(o)).data(d,!1).prop(d,!1),h._checkboxChange({target:_}),s=p):i.altKey&&c===n.UP||c===n.ESC?h._closePopup():c===n.TAB&&(i.preventDefault(),h._closePopup()):p.find(".k-treeview-leaf").first().hasClass("k-selected")||h._trigger(l,p)||h.select(p):s=h._previousVisible(p),s&&(i.preventDefault(),p[0]!=s[0]&&(h._trigger("navigate",s),h.current(s),h.scrollTo(s))))},_closePopup:function(){this.dropdowntree.close(),this.dropdowntree.wrapper.trigger("focus")},refresh:function(e){this.defaultrefresh(e),this.dropdowntree.options.skipUpdateOnBind||("itemchange"===e.action?this.dropdowntree._isMultipleSelection()?"checked"===e.field&&this.dropdowntree._checkValue(e.items[0]):"checked"!==e.field&&"expanded"!==e.field&&e.items[0].selected&&this.dropdowntree._selectValue(e.items[0]):this.dropdowntree.refresh(e))}});a.ui._dropdowntree=p}(window.kendo.jQuery);!function(e,t){var i=window.kendo,a=i.ui,s=i.html,n=i.htmlEncode,r=i.mediaQuery,l=a.Widget,o=a._dropdowntree,d=i.data.ObservableArray,h=i.data.ObservableObject,u=e.extend,_=i._activeElement,f=".kendoDropDownTree",v=i.keys,g=i.support,m="k-hidden",k="width",b=g.browser,w=i._outerWidth,C=".",T="disabled",x="readonly",y="k-disabled",I="aria-disabled",A="k-focus",S="mouseenter"+f+" mouseleave"+f,V="tabindex",L="click",D="open",M="close",F="change",O=/"/g,B=".k-chip";function E(t){if(Array.isArray(t)){var a=t.length;var s=e.map(t,(function(e){return function(t){return t[e]}}));return function(e){var t=e._level;if(t||0===t)return s[Math.min(t,a-1)](e)}}return i.getter(t)}var U=i.ui.Widget.extend({init:function(t,a){var s=this;s.ns=f,i.ui.Widget.fn.init.call(s,t,a),s._selection=s._getSelection(),s._focusInputHandler=s._focusInput.bind(s),s._initial=s.element.val(),s._values=[];var n=this.options.value;if(null!==n&&n.length||(this._noInitialValue=!0),this._isNullorUndefined(n)||(this._valueMethodCalled=!0,n=this._isArrayOfObjects(n)&&s.options.autoBind?n.map((e=>e[s.options.dataValueField])):n,this._values=Array.isArray(n)?n.slice(0):[n]),s.bigScreenMQL=r("large"),s.smallScreenMQL=r("small"),"auto"==s.options.adaptiveMode&&s.smallScreenMQL.onChange((function(){s.popup&&i.isFunction(s.popup.fullscreen)&&s.popup.fullscreen(s.smallScreenMQL.mediaQueryList.matches)})),this._bindLoader(),this._inputTemplate(),this._accessors(),this._setTreeViewOptions(this.options),this._dataSource(),this._selection._initWrapper(),this._applyCssClasses(),this._placeholder(!0),this._tabindex(),this.wrapper.data(V,this.wrapper.attr(V)),this.tree=e("<div/>").attr({tabIndex:-1,"aria-hidden":!0}),this.list=e("<div/>").append(this.tree),this._header(),this._noData(),this._footer(),this._reset(),this._popup(),"auto"==s.options.adaptiveMode&&s.bigScreenMQL.onChange((()=>{s.list=e("<div class='k-list-container'/>").append(s.tree),s._header.bind(s)(),s._noData.bind(s)(),s._footer.bind(s)(),s._reset.bind(s)(),s.popup&&(s.popup.wrapper&&s.popup.wrapper.remove(),s.popup.destroy(),s.popup.element.remove(),s.popup=null),s.treeview&&s.treeview.destroy(),s._popup.bind(s)(),s._filterHeader.bind(s)(),s._treeview.bind(s)(),s._renderFooter.bind(s)(),s._checkAll.bind(s)(),s._enable.bind(s)(),s._toggleCloseVisibility.bind(s)(),s._aria.bind(s)()})),this._clearButton(),this._filterHeader(),this._treeview(),this._renderFooter(),this._checkAll(),this._enable(),this._toggleCloseVisibility(),!this.options.autoBind){var l=a.text||"";this._isNullorUndefined(a.value)?l?this._textAccessor(l):a.placeholder&&this._placeholder(!0):this._preselect(a.value)}e(this.element).parents("fieldset").is(":disabled")&&this.enable(!1),this._valueMethodCalled=!1,this.options.label&&this._label(),this.options.loadOnDemand&&this.options.loadOnDemand.valueMapper&&this.options.value&&this.one("dataBound",(()=>this.requireValueMapper(this.options))),this._aria(),i.notify(this)},_bindLoader:function(){const e=this;e._initLoader=p.i.bind(e),e._initLoader()},_label:function(){var t=this;var a=t.options;var s=e.isPlainObject(a.label)?a.label:{content:a.label};t.label=new i.ui.Label(null,e.extend({},s,{widget:t,floatCheck:t._floatCheck.bind(t)})),t._inputLabel=t.label.element},_floatCheck:function(){return!(this.value()&&!this._isMultipleSelection()||this.value().length||this.text())&&!this.popup.visible()},_refreshFloatingLabel:function(){var e=this;e.label&&e.label.floatingLabel&&e.label.floatingLabel.refresh()},_preselect:function(e,t){this._selection._preselect(e,t)},_setTreeViewOptions:function(t){var i={autoBind:t.autoBind,checkboxes:t.checkboxes,dataImageUrlField:t.dataImageUrlField,dataSpriteCssClassField:t.dataSpriteCssClassField,dataTextField:t.dataTextField,dataUrlField:t.dataUrlField,loadOnDemand:t.loadOnDemand,size:t.size};this.options.treeview=e.extend({},i,this.options.treeview),t.template&&(this.options.treeview.template=t.template),t.size&&(this.options.treeview.size=t.size)},_dataSource:function(){const t=this;const a=t.options.dataSource;t._requestStartHandler=t._showBusy,t._requestEndHandler=t._hideBusy,t._errorHandler=function(){t._hideBusy()},t.dataSource=i.data.HierarchicalDataSource.create(a).bind("progress",t._requestStartHandler).bind("error",t._errorHandler).bind("requestEnd",t._requestEndHandler),a&&e.extend(t.options.treeview,{dataSource:t.dataSource})},_popupOpen:function(){var e=this.popup;e.wrapper=i.wrap(e.element)},_getSelection:function(){return this._isMultipleSelection()?(this.options._altname="MultiSelectTree",new a.DropDownTree.MultipleSelection(this)):new a.DropDownTree.SingleSelection(this)},setDataSource:function(e){this._isDataSourceSet=!0,this._tags&&(this._noInitialValue=!0,this.setValue([]),this._tags.empty(),this.span.show(),this._multipleTags.empty()),this.dataSource=e,this.treeview.setDataSource(e),this._isDataSourceSet=!1},_isMultipleSelection:function(){return this.options&&(this.options.treeview.checkboxes||this.options.checkboxes)},_isArrayOfObjects:function(e){return Array.isArray(e)&&e.map((e=>"object"==typeof e)).includes(!0)},options:{name:"DropDownTree",adaptiveMode:"none",animation:{},autoBind:!0,autoClose:!0,autoWidth:!1,clearButton:!0,dataTextField:"",dataValueField:"",dataImageUrlField:"",dataSpriteCssClassField:"",dataUrlField:"",delay:500,enabled:!0,enforceMinLength:!1,filter:"none",height:200,ignoreCase:!0,index:0,loadOnDemand:!1,messages:{singleTag:"item(s) selected",clear:"clear",deleteTag:"delete",noData:"No data found.",filterInputPlaceholder:"Filter"},minLength:1,checkboxes:!1,noDataTemplate:!0,placeholder:"",checkAll:!1,checkAllTemplate:()=>"Check all",tagMode:"multiple",template:null,text:null,treeview:{},valuePrimitive:!1,footerTemplate:()=>"",headerTemplate:()=>"",value:null,valueTemplate:null,popup:null,filterLabel:null,size:"medium",fillMode:"solid",rounded:"medium",label:null,adaptiveTitle:null,adaptiveSubtitle:null},events:["open","close","dataBound",F,"select","filtering"],focus:function(){this.wrapper.trigger("focus")},dataItem:function(e){return this.treeview.dataItem(e)},readonly:function(e){this._editable({readonly:e===t||e,disable:!1}),this._toggleCloseVisibility(),this.label&&this.label.floatingLabel&&this.label.floatingLabel.readonly(e===t||e)},enable:function(e){this._editable({readonly:!1,disable:!(e=e===t||e)}),this._toggleCloseVisibility(),this.label&&this.label.floatingLabel&&this.label.floatingLabel.enable(e=e===t||e)},toggle:function(e){this._toggle(e)},open:function(){var e=this.popup;this.options.autoBind||this.dataSource.data().length||(this.treeview._progress(!0),this._isFilterEnabled()?this._search():this.dataSource.fetch()),!e.visible()&&this._allowOpening()&&(e.one("activate",this._focusInputHandler),e._hovered=!0,e.open())},close:function(){this.popup.close()},search:function(e){var t=this.options;var i;if(clearTimeout(this._typingTimeout),!t.enforceMinLength&&!e.length||e.length>=t.minLength){if(i=this._getFilter(e),this.trigger("filtering",{filter:i})||Array.isArray(this.options.dataTextField))return;this._filtering=!0,this.treeview.dataSource.filter(i)}},_mapValuesToId:function(e){if("function"==typeof this.dataSource.options.schema.model)throw new Error("The valueMapper needs dataSource.schema");const t=this.dataSource.options.schema.model.id;return e.map((e=>e[t]))},requireValueMapper:function(e,t){const i=this;let a=t||e.value;if(a=a&&(a instanceof Array?a:[a]),a&&e.loadOnDemand&&"function"!=typeof e.loadOnDemand.valueMapper)throw new Error("ValueMapper is not provided while the value is being set. See http://docs.telerik.com/kendo-ui/controls/editors/combobox/virtualization#the-valuemapper-function");if(a.length){let e=0;i.options.loadOnDemand.valueMapper(c.v(i.options,a,i._useValueMapper.bind(i,a,e)))}},_useValueMapper:function(t,i,a){const s=this;const n=e.Deferred();s._deferred=n,s._handleValueMapperData(i,a),n.done((()=>{++i<t.length&&s._useValueMapper(t,i,a)}))},_handleValueMapperData:function(e,t){const i=t[e]instanceof Array?t[e]:t;if(!i||!i.length)return;this._loadItem(i,0)},_loadItem:function(e,t){const i=this;const a=i.dataSource.get(e[t]);a&&a.load().done((()=>{++t<e.length-1?i._loadItem(e,t):i._deferred.resolve()}))},_getFilter:function(e){return{field:this.options.dataTextField,operator:this.options.filter,value:e,ignoreCase:this.options.ignoreCase}},refresh:function(){var t=this.treeview.dataSource.flatView();this._renderFooter(),this._renderNoData(),this.filterInput&&this.checkAll&&this.checkAll.toggle(!this.filterInput.val().length),this.tree.toggle(!!t.length),e(this.noData).toggle(!t.length)},setOptions:function(e){this.options.checkboxes!=e.checkboxes&&(delete e.checkboxes,window.console.warn("setOptions method can not be used to set the checkboxes option in DropDownTree")),l.fn.setOptions.call(this,e),this._setTreeViewOptions(e),this._dataSource(),(this.options.treeview||e.size)&&(this.treeview.destroy(),this._treeview()),e.height&&this.tree&&this.tree.css("max-height",e.height),this._header(),this._noData(),this._footer(),this._renderFooter(),this._renderNoData(),this.span&&(this._isMultipleSelection()||this.span.hasClass("k-readonly"))&&this._placeholder(!0),this._inputTemplate(),this._accessors(),this._filterHeader(),this._checkAll(),this._enable(),e&&(e.enable||e.enabled)&&this.enable(!0),this._clearButton(),e!==t&&null!==e||(e={}),e.label&&this._inputLabel?this.label.setOptions(e.label):!1===e.label?(this.label._unwrapFloating(),this._inputLabel.remove(),delete this._inputLabel):e.label&&this._label(),this._aria()},destroy:function(){i.ui.Widget.fn.destroy.call(this),this.treeview&&this.treeview.destroy(),this.popup.destroy(),this.wrapper.off(f),this._clear.off(f),this.filterInput&&this.filterInput.off(f),this.tagList&&this.tagList.off(f),this.bigScreenMQL&&this.bigScreenMQL.destroy(),this.smallScreenMQL&&this.smallScreenMQL.destroy(),i.unbind(this.tagList),this.options.checkAll&&this.checkAll&&this.checkAll.off(f),this._form&&this._form.off("reset",this._resetHandler),this.label&&this.label.destroy()},setValue:function(e){e=Array.isArray(e)||e instanceof d?e.slice(0):[e],this._values=e},items:function(){return this.treeview.items()},_useValueMapperWithValue:function(e){const t=this;let i=e instanceof Array?e:[e];"object"==typeof i[0]&&(i=t._mapValuesToId(i)),t.requireValueMapper(this.options,i),t._deferred.done((()=>{t._selection._setValue(i)}))},value:function(e){const t=this;const i=t.options.loadOnDemand;if(e)if(t.filterInput&&t.dataSource._filter)t._filtering=!0,t.dataSource.filter({});else{if(!t.dataSource.data().length||!t.treeview.dataSource.data().length)return void(i?i.valueMapper?t.one("dataBound",(()=>{t._useValueMapperWithValue(e)})):t.dataSource.fetch((function(){t._selection._setValue(e)})):(t.treeview.one("loadCompleted",(function(){t._selection._setValue(e)})),!t.options.autoBind&&t.options.valuePrimitive&&t.dataSource.fetch()));if(i&&i.valueMapper)return void t._useValueMapperWithValue(e)}return t._selection._setValue(e)},text:function(e){var i;var a=this.options.ignoreCase;if((e=null===e?"":e)===t||this._isMultipleSelection())return this._textAccessor();"string"==typeof e?(i=a?e:e.toLowerCase(),this._selectItemByText(i),this._textAccessor(i),this._refreshFloatingLabel()):this._textAccessor(e)},_aria:function(){this.wrapper.find("span.k-input-inner");this.wrapper.attr({"aria-haspopup":"tree","aria-expanded":!1,"aria-controls":this.treeview.element.attr("id"),role:"combobox"}),this._activeId=i.guid(),this._ariaLabel(this.wrapper),this.filterInput&&this.options.filterLabel&&this.filterInput.attr("aria-label",this.options.filterLabel),this.options.checkboxes&&(this.wrapper.attr({"aria-describedby":this.tagList[0].id}),this.tagList.attr({role:"listbox","aria-orientation":"horizontal","aria-multiselectable":!0}),this._ariaLabel(this.tagList))},_header:function(){var t=this;var a=e(t.header);var s=t.options.headerTemplate;if(i.destroy(a),a.remove(),s){var n="function"!=typeof s?i.template(s):s;a=e(n({})),t.header=a[0]?a:null,t.list.prepend(a)}else t.header=null},_noData:function(){var t=this;var a=e(t.noData);var s=!0===t.options.noDataTemplate?n(t.options.messages.noData):t.options.noDataTemplate;i.destroy(a),a.remove(),s?(t.noData=e('<div class="k-no-data"></div>').hide().appendTo(t.list),t.noDataTemplate="function"!=typeof s?i.template((()=>s)):s):t.noData=null},_renderNoData:function(){var e=this;var t=e.noData;t&&t.html(e.noDataTemplate({instance:e}))},_footer:function(){var t=this;var a=e(t.footer);var s=t.options.footerTemplate;i.destroy(a),a.remove(),s?(t.footer=e('<div class="k-footer"></div>').appendTo(t.list),t.footerTemplate="function"!=typeof s?i.template(s):s):t.footer=null},_renderFooter:function(){var e=this;var t=e.footer;t&&t.html(e.footerTemplate({instance:e}))},_enable:function(){var e=this,i=e.options,a=e.element.is("[disabled]");i.enable!==t&&(i.enabled=i.enable),!i.enabled||a?e.enable(!1):e.readonly(e.element.is("[readonly]"))},_adjustListWidth:function(){var e,t,i=this,a=i.list,s=a[0].style.width,n=i.wrapper;if(a.data(k)||!s)return e=window.getComputedStyle?window.getComputedStyle(n[0],null):0,t=parseFloat(e&&e.width)||w(n),e&&b.msie&&(t+=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)+parseFloat(e.borderLeftWidth)+parseFloat(e.borderRightWidth)),s="border-box"!==a.css("box-sizing")?t-(w(a)-a.width()):t,a.css({fontFamily:n.css("font-family"),width:i.options.autoWidth?"auto":s,minWidth:s,whiteSpace:i.options.autoWidth?"nowrap":"normal"}).data(k,s),!0},_reset:function(){var t=this,i=t.element,a=i.attr("form"),s=a?e("#"+a):i.closest("form");s[0]&&(t._resetHandler=function(){setTimeout((function(){t.value(t._initial)}))},t._form=s.on("reset",t._resetHandler))},_hasActionSheet:function(){return"auto"===this.options.adaptiveMode&&!this.bigScreenMQL.mediaQueryList.matches},_popup:function(){var t=this;var s=this;t.options.checkboxes?(t.options.checkAll&&t.list.attr("role","application"),t.list.addClass("k-multiselecttree-popup")):t.list.addClass("k-dropdowntree-popup"),"auto"!=s.options.adaptiveMode||s.bigScreenMQL.mediaQueryList.matches?(s.popup=new a.Popup(s.list,u({},s.options.popup,{anchor:s.wrapper,open:s._openHandler.bind(s),close:s._closeHandler.bind(s),animation:s.options.animation,isRtl:g.isRtl(s.wrapper),autosize:s.options.autoWidth,deactivate:()=>{this._refreshFloatingLabel()},activate:()=>{this._refreshFloatingLabel()}})),s.popup.one("open",s._popupOpen.bind(s))):(e(document.body).append(s.list),s.popup=new a.ActionSheet(s.list,{adaptive:!0,hideOverflowContent:!0,headerTemplate:e=>`<div class="k-text-center k-actionsheet-titlebar" ><div class="k-actionsheet-titlebar-group k-hbox"><div  class="k-actionsheet-title"><div class="k-text-center">${s.options.adaptiveTitle||(s.label?s.label.element.text():s.options.label||s.options.placeholder||"Select")}</div>`+(s.options.adaptiveSubtitle?`<div class="k-actionsheet-subtitle k-text-center">${s.options.adaptiveSubtitle||""}</div>`:"")+"</div>"+(e.closeButton?'<div class="k-actionsheet-actions">'+i.html.renderButton(`<button tabindex="-1" ${i.attr("ref-actionsheet-close-button")}></button>`,{icon:"check",fillMode:"flat",size:"large",themeColor:"primary"})+"</div>":"")+"</div>"+(this._isFilterEnabled()?'<div class="k-actionsheet-titlebar-group k-actionsheet-filter"></div>':"")+"</div>",closeButton:!0,focusOnActivate:!1,fullscreen:s.smallScreenMQL.mediaQueryList.matches,popup:u({},s.options.popup,{anchor:s.wrapper,open:s._openHandler.bind(s),close:s._closeHandler.bind(s),animation:s.options.animation,isRtl:g.isRtl(s.wrapper),autosize:s.options.autoWidth}),deactivate:()=>{this._refreshFloatingLabel()},activate:()=>{this._refreshFloatingLabel()}}))},_allowOpening:function(){return this.options.noDataTemplate||this.treeview.dataSource.flatView().length},_placeholder:function(e){this.span&&this.span.toggleClass("k-readonly",e).text(e?this.options.placeholder:"")},_currentValue:function(e){var t=this._value(e);return t||0===t||(t=e),t},_checkValue:function(t){var i="";var a=-1;var s=this.value();var n="multiple"===this.options.tagMode;if((t||0===t)&&(t.level&&(t._level=t.level()),i=this._currentValue(t),a=s.indexOf(i)),t.checked){if(e.grep(this._tags,(function(e){return e.uid===t._tagUid})).length)return;var r=new h(t.toJSON());t._tagUid=r.uid,this._tags.push(r),1===this._tags.length&&(this.span.hide(),n||this._multipleTags.push(r)),-1===a&&(s.push(i),this.setValue(s))}else{var l=this._tags.find((function(e){return e.uid===t._tagUid}));var o=this._tags.indexOf(l);if(-1===o)return void this._treeViewCheckAllCheck(t);this._tags.splice(o,1),0===this._tags.length&&(this.span.show(),n||this._multipleTags.splice(0,1)),-1!==a&&(s.splice(a,1),this.setValue(s))}this._treeViewCheckAllCheck(t),this._preventChangeTrigger||this._valueMethodCalled||this.dataSource._requestInProgress||this.trigger(F),this.options.autoClose&&this.popup.visible()&&(this.close(),this.wrapper.trigger("focus")),this.popup.position(),this._toggleCloseVisibility(),this._updateSelectedOptions()},_updateSelectedOptions:function(){if("select"===this.element[0].tagName.toLowerCase()){var e=this._tags;var t="";var i=null;var a=null;if(e.length)for(var s=0;s<e.length;s++)i=e[s],a=this._value(i),t+=this._option(a,this._text(i),!0);this.element.html(t)}},_option:function(e,a,s){var n="<option";return e!==t&&(-1!==(e+="").indexOf('"')&&(e=e.replace(O,"&quot;")),n+=' value="'+e+'"'),s&&(n+=" selected"),n+=">",a!==t&&(n+=i.htmlEncode(a)),n+"</option>"},_selectValue:function(e){var t="";var i="";(e||0===e)&&(e.level&&(e._level=e.level()),i=this._text(e)||e,t=this._currentValue(e)),null===t&&(t=""),this.setValue(t),this._textAccessor(i,e),this._accessor(t),this._preventChangeTrigger||this._valueMethodCalled||this.trigger(F),this._valueMethodCalled=!1,this.options.autoClose&&this.popup.visible()&&(this.close(),this.wrapper.trigger("focus")),this.popup.position(),this._toggleCloseVisibility()},_clearClick:function(e){e.stopPropagation(),this.wrapper.trigger("focus"),this._clearTextAndValue()},_clearTextAndValue:function(){var e=this._selection._clearValue();this.setValue([]),this._clearInput(),this._clearText(),this.popup.position(),this._toggleCloseVisibility(),this._refreshFloatingLabel(),e&&this.trigger(F)},_clearText:function(){this.options.placeholder?this._placeholder(!0):this.span&&this.span.html("")},_inputTemplate:function(){var e=this.options.valueTemplate;e=e?i.template(e):e=>n(this._text(e)),this.valueTemplate=e},_assignInstance:function(e,t){var i=this.options.dataTextField;var a={};return i?(P(a,i.split(C),e),P(a,this.options.dataValueField.split(C),t),a=new h(a)):a=e,a},_textAccessor:function(i,a){var s=this.valueTemplate;var n=this.span;if(i===t)return n.text();n.removeClass("k-readonly"),!a&&(e.isPlainObject(i)||i instanceof h)&&(a=i),a||(a=this._assignInstance(i,this._accessor()));try{n.html(s(a))}catch(e){n&&n.html("")}},_accessors:function(){var e=this.element;var t=this.options;var a=e.attr(i.attr("text-field"));var s=e.attr(i.attr("value-field"));!t.dataTextField&&a&&(t.dataTextField=a),!t.dataValueField&&s&&(t.dataValueField=s),t.dataTextField=t.dataTextField||"text",t.dataValueField=t.dataValueField||"value",this._text=E(t.dataTextField),this._value=E(t.dataValueField)},_accessor:function(e,t){return this._accessorInput(e,t)},_accessorInput:function(e){var i=this.element[0];if(e===t)return i.value;null===e&&(e=""),i.value=e},_clearInput:function(){this.element[0].value=""},_clearButton:function(){var t=n(this.options.messages.clear);this._clear||(this._clear=e('<span unselectable="on" class="k-clear-value" title="'+t+'">'+i.ui.icon("x")+"</span>").attr({tabIndex:-1})),this.options.clearButton?this._clear.insertAfter(this.span.parent()):this.options.clearButton||this._clear.remove()},_toggleCloseVisibility:function(){var e=this.element.attr(x);var t=this.value()&&!this._isMultipleSelection()||this.value().length;var i=this.element.val()&&this.element.val()!==this.options.placeholder;e||!t&&!i?this._hideClear():this._showClear()},_showClear:function(){this._clear&&this._clear.removeClass(m)},_hideClear:function(){this._clear&&this._clear.addClass(m)},_openHandler:function(e){this._adjustListWidth(),this.trigger(D)?e.preventDefault():(this.wrapper.attr("aria-expanded",!0),this.tree.attr("aria-hidden",!1))},_closeHandler:function(e){this.trigger(M)?e.preventDefault():(this.wrapper.attr("aria-expanded",!1),this.tree.attr("aria-hidden",!0))},_treeview:function(){var e=this;"auto"!=e.options.adaptiveMode&&e.options.height&&e.tree.css("max-height",e.options.height),e.tree.attr("id",i.guid()),e.treeview=new o(e.tree,u({size:e.options.size},e.options.treeview),e),e.dataSource=e.treeview.dataSource,e.treeview.bind("select",(function(t){e.trigger("select",t)}))},_treeViewDataBound:function(e){if(e.node&&this._prev&&this._prev.length&&e.sender.expand(e.node),this._filtering)return e.node||(this._filtering=!1),void(this._isMultipleSelection()||this._deselectItem(e));if(this.treeview||(this.treeview=e.sender),e.node){var t=e.sender.dataItem(e.node);if(t){var i=t.children.data();this._checkLoadedItems(i)}}else{var a=e.sender.dataSource.data();this._checkLoadedItems(a)}this.trigger("dataBound",e)},_deselectItem:function(e){var t=[];if(e.node){var i=e.sender.dataItem(e.node);i&&(t=i.children.data())}else t=e.sender.dataSource.data();for(var a=0;a<t.length;a++)t[a].selected&&!this._valueComparer(t[a],this.value())&&t[a].set("selected",!1)},_checkLoadedItems:function(e){var t=this.value();if(e)for(var i=0;i<e.length;i++)this._selection._checkLoadedItem(e[i],t)},_treeViewCheckAllCheck:function(e){this.options.checkAll&&this.checkAll&&(this._getAllChecked(),e.checked?this._checkCheckAll():this._uncheckCheckAll())},_checkCheckAll:function(){var e=this.checkAll.find(".k-checkbox");this._allItemsAreChecked?e.prop("checked",!0).prop("indeterminate",!1):e.prop("indeterminate",!0)},_uncheckCheckAll:function(){var e=this.checkAll.find(".k-checkbox");this._allItemsAreUnchecked?e.prop("checked",!1).prop("indeterminate",!1):e.prop("indeterminate",!0)},_filterHeader:function(){var t='<div class="k-list-filter"><span class="k-textbox k-input k-input-md k-rounded-md k-input-solid" type="text" autocomplete="off">'+i.ui.icon({icon:"search",iconClass:"k-input-icon"})+"</span></div>";this.filterInput&&(this.filterInput.off(f).parent().remove(),this.filterInput=null),this._isFilterEnabled()&&(this._disableCheckChildren(),this.filterInput=e('<input class="k-input-inner" type="text" />').attr({placeholder:this.element.attr("placeholder")||this.options.messages.filterInputPlaceholder,title:this.element.attr("title"),role:"searchbox","aria-haspopup":"tree","aria-autocomplete":"list"}),this.filterInput.on("input",this._filterChange.bind(this)),this._hasActionSheet()?e(t).appendTo(this.popup.wrapper.find(".k-actionsheet-filter")).find(".k-textbox").append(this.filterInput):e(t).insertBefore(this.tree).find(".k-textbox").append(this.filterInput))},_filterChange:function(){this.filterInput&&this._search()},_disableCheckChildren:function(){this._isMultipleSelection()&&this.options.treeview.checkboxes&&this.options.treeview.checkboxes.checkChildren&&(this.options.treeview.checkboxes.checkChildren=!1)},_checkAll:function(){if(this.checkAll&&(this.checkAll.find(".k-checkbox-label, .k-checkbox").off(f),this.checkAll.remove(),this.checkAll=null),this._isMultipleSelection()&&this.options.checkAll){var t=s.renderCheckBox(u({},this.options,{label:"Check All",rounded:"medium"}));this.checkAll=e('<div class="k-check-all">'+t+"</div>").insertBefore(this.tree),this.checkAll.find(".k-checkbox-label").html(i.template(this.options.checkAllTemplate)({instance:this})),this.checkAll.find(".k-checkbox").on("change"+f,this._changeCheckAll.bind(this)).on("keydown"+f,this._keydownCheckAll.bind(this)),this._disabledCheckedItems=[],this._disabledUnCheckedItems=[],this._getAllChecked(),this._allItemsAreUnchecked||this._checkCheckAll()}},_changeCheckAll:function(){var e=this.checkAll.find(".k-checkbox").prop("checked");this._updateCheckAll(e)},_updateCheckAll:function(e){var t=this.checkAll.find(".k-checkbox");this._toggleCheckAllItems(e),t.prop("checked",e),this._disabledCheckedItems.length&&this._disabledUnCheckedItems.length?t.prop("indeterminate",!0):this._disabledCheckedItems.length?t.prop("indeterminate",!e):this._disabledUnCheckedItems.length?t.prop("indeterminate",e):t.prop("indeterminate",!1),this._disabledCheckedItems=[],this._disabledUnCheckedItems=[]},_keydownCheckAll:function(e){var t=e.keyCode;if(e.altKey&&t===v.UP||t===v.ESC||t===v.TAB)return this.close(),this.wrapper.trigger("focus"),void e.preventDefault();t===v.UP&&(this.filterInput?this.filterInput.trigger("focus"):this.wrapper.trigger("focus"),e.preventDefault()),t===v.DOWN&&(this.tree&&this.tree.is(":visible")&&this.tree.trigger("focus"),e.preventDefault()),t===v.SPACEBAR&&(b.msie||b.edge)&&(this._clickCheckAll(),e.preventDefault())},_clickCheckAll:function(){var e=this.checkAll.find(".k-checkbox");var t=e.prop("checked");this._updateCheckAll(!t),e.trigger("focus")},_dfs:function(e,t,i){for(var a=0;a<e.length&&this[t](e[a],i);a++)this._traverceChildren(e[a],t,i)},_uncheckItemByUid:function(e){this._dfs(this.dataSource.data(),"_uncheckItemEqualsUid",e)},_uncheckItemEqualsUid:function(e,t){return!1===e.enabled||e._tagUid!=t||(e.set("checked",!1),!1)},_selectItemByText:function(e){this._dfs(this.dataSource.data(),"_itemEqualsText",e)},_itemEqualsText:function(e,t){return!1===e.enabled||this._text(e)!==t||(this.treeview.select(this.treeview.findByUid(e.uid)),this._selectValue(e),!1)},_selectItemByValue:function(e){this._dfs(this.dataSource.data(),"_itemEqualsValue",e)},_itemEqualsValue:function(e,t){return!1===e.enabled||!this._valueComparer(e,t)||(this.treeview.select(this.treeview.findByUid(e.uid)),!1)},_checkItemByValue:function(e){var t=this.treeview.dataItems();for(var i=0;i<e.length;i++)this._dfs(t,"_checkItemEqualsValue",e[i])},_checkItemEqualsValue:function(e,t){return!1===e.enabled||!this._valueComparer(e,t)||(e.set("checked",!0),!1)},_valueComparer:function(e,t){var i=this._value(e);var a;if(!this._isNullorUndefined(i)){if(this._isNullorUndefined(t))return!1;var s=this._value(t);return s?i==s:i==t}return!!(a=this._text(e))&&(this._text(t)?a==this._text(t):a==t)},_isNullorUndefined:function(e){return e===t||null===e},_getAllChecked:function(){return this._allCheckedItems=[],this._allItemsAreChecked=!0,this._allItemsAreUnchecked=!0,this._dfs(this.dataSource.data(),"_getAllCheckedItems"),this._allCheckedItems},_getAllCheckedItems:function(e){return this._allItemsAreChecked&&(this._allItemsAreChecked=e.checked),this._allItemsAreUnchecked&&(this._allItemsAreUnchecked=!e.checked),e.checked&&this._allCheckedItems.push(e),!0},_traverceChildren:function(e,t,i){var a=e[e._childrenOptions&&e._childrenOptions.schema?e._childrenOptions.schema.data:null]||e.items||e.children;a&&this._dfs(a,t,i)},_toggleCheckAllItems:function(e){this._dfs(this.dataSource.data(),"_checkAllCheckItem",e)},_checkAllCheckItem:function(e,t){return!1===e.enabled?e.checked?this._disabledCheckedItems.push(e):this._disabledUnCheckedItems.push(e):e.set("checked",t),!0},_isFilterEnabled:function(){var e=this.options.filter;return e&&"none"!==e},_editable:function(t){var i=this;var a=i.element;var s=t.disable;var n=t.readonly;var r=i.wrapper.add(i.filterInput).off(f);var l=i.wrapper.off(S);i._isMultipleSelection()&&i.tagList.off(L+f),n||s?s?(r.removeAttr(V),l.addClass(y)):(r.attr(V,r.data(V)),l.removeClass(y),r.on("focusin"+f,i._focusinHandler.bind(i)).on("focusout"+f,i._focusoutHandler.bind(i))):(a.prop(T,!1).prop(x,!1),l.removeClass(y).on(S,i._toggleHover),i._clear.on("click"+f,i._clearClick.bind(i)),r.attr(V,r.data(V)).attr(I,!1).on("keydown"+f,i._keydown.bind(i)).on("focusin"+f,i._focusinHandler.bind(i)).on("focusout"+f,i._focusoutHandler.bind(i)),i.wrapper.on(L+f,i._wrapperClick.bind(i)),this._isMultipleSelection()&&(i.tagList.on(L+f,"div.k-chip",(function(t){e(t.currentTarget).addClass(A)})),i.tagList.on(L+f,".k-chip-remove-action .k-icon",(function(e){i._removeTagClick(e)})))),a.attr(T,s).attr(x,n),r.attr(I,s)},_focusinHandler:function(){this.wrapper.addClass(A),this._prevent=!1},_focusoutHandler:function(){var e=this;this._isMultipleSelection()&&this.tagList.find(C+A).removeClass(A),e._prevent||(this.wrapper.removeClass(A),e._prevent=!0,e.element.trigger("blur"))},_toggle:function(e){this[(e=e!==t?e:!this.popup.visible())?D:M]()},_wrapperClick:function(e){e.preventDefault(),this.popup.unbind("activate",this._focusInputHandler),this._focused=this.wrapper,this._prevent=!1,this._toggle()},_toggleHover:function(t){e(t.currentTarget).toggleClass("k-hover","mouseenter"===t.type)},_focusInput:function(){this.filterInput?this.filterInput.trigger("focus"):this.checkAll?this.checkAll.find(".k-checkbox").trigger("focus"):this.tree.is(":visible")&&(this.tree[0].focus({preventScroll:!0}),this._ie11PreventScrollOnFocus())},_ie11PreventScrollOnFocus:function(){if(b.msie&&11==b.version){var e=this.popup;e._toggleResize(!1),setTimeout((function(){e._toggleResize(!0)}),50)}},_keydown:function(e){var t=e.keyCode;var i=e.altKey;var a;var s;var n,r;var l=this.popup.visible();if(this.filterInput&&(a=this.filterInput[0]===_()),this.wrapper&&(s=this.wrapper[0]===_()),s){if(t===v.ESC)return this._clearTextAndValue(),void e.preventDefault();if(this._isMultipleSelection()){if(t===v.LEFT)return this._focusPrevTag(),void e.preventDefault();if(t===v.RIGHT)return this._focusNextTag(),void e.preventDefault();if(t===v.HOME)return this._focusFirstTag(),void e.preventDefault();if(t===v.END)return this._focusLastTag(),void e.preventDefault();if(t===v.DELETE)return(n=this.tagList.find(C+A).first()).length&&(r=this._tags[n.index()],this._removeTag(r)),void e.preventDefault();if(t===v.BACKSPACE)return((n=this.tagList.find(C+A).first()).length||(n=this._focusLastTag()).length)&&(r=this._tags[n.index()],this._removeTag(r)),void e.preventDefault()}}return a&&(t===v.ESC&&this._clearFilter(),t!==v.UP||i||(this.wrapper.trigger("focus"),e.preventDefault()),b.msie&&b.version<10&&(t!==v.BACKSPACE&&t!==v.DELETE||this._search()),t===v.TAB)||i&&t===v.UP||t===v.ESC?(this.close(),this.wrapper.trigger("focus"),void e.preventDefault()):void(t===v.ENTER&&this._typingTimeout&&this.filterInput&&l?e.preventDefault():(t!==v.SPACEBAR||a||(this._toggle(!l),e.preventDefault()),i&&t===v.DOWN&&!l&&(this.open(),e.preventDefault()),t===v.DOWN&&l&&(this.filterInput&&!a?this.filterInput.trigger("focus"):this.checkAll&&this.checkAll.is(":visible")?this.checkAll.find("input").trigger("focus"):this.tree.is(":visible")&&(this.tree[0].focus({preventScroll:!0}),this._ie11PreventScrollOnFocus()),e.preventDefault()),t===v.TAB&&l&&(this.close(),this.wrapper.trigger("focus"),e.preventDefault())))},_focusPrevTag:function(){var e=this.tagList.find(C+A);if(e.length){var t=this._activeId;e.first().removeClass(A).removeAttr("id").prev(B).addClass(A).attr("id",t),this.wrapper.attr("aria-activedescendant",t)}else this._focusLastTag()},_focusNextTag:function(){var e=this.tagList.find(C+A);if(e.length){var t=this._activeId;e.first().removeClass(A).removeAttr("id").next(B).addClass(A).attr("id",t),this.wrapper.attr("aria-activedescendant",t)}else this._focusFirstTag()},_focusFirstTag:function(){var e=this._activeId;this._clearDisabledTag();var t=this.tagList.children(B).first().addClass(A).attr("id",e);return this.wrapper.attr("aria-activedescendant",e),t},_focusLastTag:function(){var e=this._activeId;this._clearDisabledTag();var t=this.tagList.children(B).last().addClass(A).attr("id",e);return this.wrapper.attr("aria-activedescendant",e),t},_clearDisabledTag:function(){this.tagList.find(C+A).removeClass(A).removeAttr("id")},_search:function(){var e=this;clearTimeout(e._typingTimeout),e._typingTimeout=setTimeout((function(){var t=e.filterInput.val();e._prev!==t&&(e._prev=t,e.search(t)),e._typingTimeout=null}),e.options.delay)},_clearFilter:function(){this.filterInput.val().length&&(this.filterInput.val(""),this._prev="",this._filtering=!0,this.treeview.dataSource.filter({}))},_removeTagClick:function(t){t.stopPropagation();var i=this._tags[e(t.currentTarget.closest(B)).index()];this._removeTag(i)},_removeTag:function(e){if(e){var t=e.uid;this._uncheckItemByUid(t)}}});function P(e,t,i){var a,s=0,n=t.length-1;for(;s<n;++s)(a=t[s])in e||(e[a]={}),e=e[a];e[t[n]]=i}a.plugin(U),i.cssProperties.registerPrefix("DropDownTree","k-picker-"),i.cssProperties.registerValues("DropDownTree",[{prop:"rounded",values:i.cssProperties.roundedValues.concat([["full","full"]])}]),i.cssProperties.registerPrefix("MultiSelectTree","k-input-"),i.cssProperties.registerValues("MultiSelectTree",[{prop:"rounded",values:i.cssProperties.roundedValues.concat([["full","full"]])}]);var H=i.Class.extend({init:function(e){this._dropdowntree=e},_initWrapper:function(){this._wrapper(),this._span()},_preselect:function(e){this._dropdowntree._selectValue(e)},_wrapper:function(){var e,t=this._dropdowntree,i=t.element,a=i[0];(e=i.parent()).is("span.k-dropdowntree")||((e=i.wrap("<span />").parent())[0].style.cssText=a.style.cssText,e[0].title=a.title),t._focused=t.wrapper=e.addClass("k-dropdowntree k-picker").addClass(a.className).removeClass("input-validation-error").removeClass("k-invalid").css("display","").attr({accesskey:i.attr("accesskey"),unselectable:"on"}),i.hide().removeAttr("accesskey")},_span:function(){var e,t=this._dropdowntree,i=t.wrapper,a="span.k-input-value-text";(e=i.find(a))[0]||(i.append('<span unselectable="on" class="k-input-inner"><span class="k-input-value-text"></span></span>'+s.renderButton('<button unselectable="on" class="k-input-button" aria-label="select" tabindex="-1"></button>',u({},t.options,{icon:"caret-alt-down",shape:"none",rounded:"none"}))).append(t.element),e=i.find(a)),t.span=e,t._arrow=i.find(".k-input-button"),t._arrowIcon=t._arrow.find(".k-icon,.k-svg-icon")},_setValue:function(e){var i=this._dropdowntree;var a;return e===t||null===e?(e="object"==typeof(a=i._values.slice()[0])?a:i._accessor()||a)===t||null===e?"":e:(i._valueMethodCalled=!0,0===e.length?(i._clearTextAndValue(),void(i._valueMethodCalled=!1)):(i._selectItemByValue(e),i._toggleCloseVisibility(),void i._refreshFloatingLabel()))},_clearValue:function(){var e=this._dropdowntree;var t=e.treeview.select();var i=e._values.length;var a=!1;return e.treeview.dataItem(t)?(e.treeview.dataItem(t).set("selected",!1),a=!0):i>0&&(a=!0),!(e._valueMethodCalled||!a)},_checkLoadedItem:function(e,t){var i=this._dropdowntree;i._isNullorUndefined(t)||""===t?!t&&e.selected&&i.treeview.select(i.treeview.findByUid(e.uid)):i._valueComparer(e,t)?(i._preventChangeTrigger=!0,e.set("selected",!0),i._preventChangeTrigger=!1):e.selected&&i.treeview.select(i.treeview.findByUid(e.uid))}});var q=i.Class.extend({init:function(e){this._dropdowntree=e},_initWrapper:function(){var t=this._dropdowntree;this._tagTemplate(),t.element.attr("multiple","multiple").hide(),this._wrapper(),t._tags=new d([]),t._multipleTags=new d([]),this._tagList(),t.span=e('<span unselectable="on" class="k-input-inner"><span class="k-input-value-text"></span></span>').appendTo(t.wrapper).find(".k-input-value-text")},_preselect:function(t,a){var s=this._dropdowntree;var n=a||s.options.value;Array.isArray(t)||t instanceof i.data.ObservableArray||(t=[t]),(e.isPlainObject(t[0])||t[0]instanceof i.data.ObservableObject||!s.options.dataValueField)&&(s.dataSource.data(t),s.value(n))},_tagTemplate:function(){var t=this._dropdowntree;var a=t.options;var r=a.valueTemplate;var l="multiple"===a.tagMode;var o=n(a.messages.singleTag);r=r?i.template(r):t.valueTemplate,t.valueTemplate=function(i){return s.renderChip('<span class="'+(!1===i.enabled?"k-disabled":"")+'"'+(!1===i.enabled?'aria-disabled="true"':"")+"></span>",e.extend({},a,{fillMode:"solid",themeColor:"base",rounded:"medium",attr:{unselectable:"on","aria-keyshortcuts":"Enter Delete",role:"option"},text:l?r(i):'<span unselectable="on" data-bind="text: tags.length"></span><span unselectable="on">&nbsp;'+o+"</span>",removable:l,removeIcon:"x-circle",removableAttr:{unselectable:"on","aria-hidden":!0,"aria-label":t.options.messages.deleteTag,title:t.options.messages.deleteTag}}))}},_wrapper:function(){var e=this._dropdowntree,t=e.element,i=t.parent(".k-multiselecttree");i[0]||((i=t.wrap('<span class="k-multiselecttree k-input" unselectable="on" />').parent())[0].style.cssText=t[0].style.cssText,i[0].title=t[0].title),e.wrapper=i.addClass(t[0].className).css("display","")},_tagList:function(){var t=this._dropdowntree,a=t.wrapper.children("div.k-input-values");if(!a[0]){var n="multiple"===t.options.tagMode?"tags":"multipleTag";a=e(s.renderChipList('<div unselectable="on" class="k-input-values k-selection-multiple" data-template="tagTemplate" data-bind="source: '+n+'" />',e.extend({selectable:"none"},t.options))).appendTo(t.wrapper)}t.tagList=a,t.tagList.attr("id",i.guid()+"_tagList"),t.wrapper.attr("aria-controls",t.tagList.attr("id"));var r=i.observable({multipleTag:t._multipleTags,tags:t._tags,tagTemplate:t.valueTemplate});i.bind(t.tagList,r),t.tagList.attr("data-stop",!0)},_refreshTagListAria:function(){var t=this;t.tagList&&s.renderChipList(t.tagList,e.extend({selectable:0===t.tagList.items().length?"none":"multiple"},t.options))},_setValue:function(e){var i=this._dropdowntree;var a=i._values;if(e===t||null===e)return i._values.slice();i.setValue(e),i._valueMethodCalled=!0,e.length?(this._removeValues(a,e),i._checkItemByValue(e)):i._clearTextAndValue(),i._valueMethodCalled=!1,i._toggleCloseVisibility(),this._refreshTagListAria(),i._refreshFloatingLabel()},_removeValues:function(e,t){var i=this._dropdowntree;var a=this._getNewValues(e,t);for(var s=0;s<a.length;s++)for(var n=0;n<i._tags.length;n++)i._valueComparer(i._tags[n],a[s])&&i._uncheckItemByUid(i._tags[n].uid)},_getNewValues:function(e,t){var i=[];for(var a=0;a<e.length;a++)-1===t.indexOf(e[a])&&i.push(e[a]);return i},_clearValue:function(){var e=this._dropdowntree;var t=e._tags.slice();for(var i=0;i<t.length;i++){var a=t[i].uid;e._preventChangeTrigger=!0,e._uncheckItemByUid(a)}return!(!t.length||(e._preventChangeTrigger=!1,e._valueMethodCalled))},_checkLoadedItem:function(e,t){var i=this._dropdowntree;i._noInitialValue&&e.checked?i._checkValue(e):!t.length&&!this._isDataSourceSet||-1===(-1!==t.indexOf(i._currentValue(e))||t.indexOf(e))||this._findTag(i._currentValue(e))||(e.checked?i._checkValue(e):(i._preventChangeTrigger=!0,e.set("checked",!0),i._preventChangeTrigger=!1))},_findTag:function(e){var t=this._dropdowntree;return t._tags.find((function(i){return t._valueComparer(i,e)}))}});i.ui.DropDownTree.SingleSelection=H,i.ui.DropDownTree.MultipleSelection=q}(window.kendo.jQuery);var u=kendo;e.__meta__={id:"dropdowntree",name:"DropDownTree",category:"web",description:"The DropDownTree widget displays a hierarchy of items and allows the selection of single or multiple items.",depends:["treeview","popup","binder","html.chip","html.chiplist","html.button","html.input","label","icons","actionsheet","valueMapper.chunk","dropdowns-loader.chunk"]},e.default=u,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=kendo.dropdowntree.min.js.map
