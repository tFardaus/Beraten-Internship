/**
 * Kendo UI v2025.3.1002 (http://www.telerik.com/kendo-ui)
 * Copyright 2025 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Kendo UI commercial licenses may be obtained at
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete
 * If you do not own a commercial license, this file shall be governed by the trial license terms.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("kendo.core.js"),require("kendo.icons.js")):"function"==typeof define&&define.amd?define(["exports","kendo.core.min","kendo.icons.min"],t):t(((e="undefined"!=typeof globalThis?globalThis:e||self).kendo=e.kendo||{},e.kendo._globals=e.kendo._globals||{},e.kendo._globals.Columnsorter={}))}(this,(function(e){!function(e,t){var r=window.kendo;var n=r.ui;var o=n.Widget;var i="dir";var a="asc";var s="single";var l="mixed";var d="field";var c="desc";var f=".kendoColumnSorter";var k=".k-link";var u="aria-sort";var p=o.extend({init:function(e,t){var r,n=this;o.fn.init.call(n,e,t),n._refreshHandler=n.refresh.bind(n),n.dataSource=n.options.dataSource.bind("change",n._refreshHandler),n.directions=n.options.initialDirection===a?[a,c]:[c,a],(r=n.element.find(k))[0]||(r=n.element.wrapInner('<a class="k-link" href="#"/>').find(k)),n.link=r,n.element.on("click"+f,n._click.bind(n))},options:{name:"ColumnSorter",mode:s,allowUnsort:!0,compare:null,filter:"",initialDirection:a,showIndexes:!1},events:["change"],destroy:function(){var e=this;o.fn.destroy.call(e),e.element.off(f),e.dataSource.unbind("change",e._refreshHandler),e._refreshHandler=e.element=e.link=e.dataSource=null},refresh:function(n){if(!n||"itemchange"!==n.action&&"sync"!==n.action){var o,s,l,f,k=this,p=k.dataSource.sort()||[],m=k.element,h=m.attr(r.attr(d)),g=(k.dataSource._sortFields||{})[h];var v,_,b,x;m.removeAttr(r.attr(i)),m.removeAttr(u),g&&(o=g.dir,m.attr(r.attr(i),o),f=g.index),m.is("th")&&g&&(s=function(e){var t=null;e.is("th")&&((t=e.closest("table")).parent().hasClass("k-grid-header-wrap")?t=t.closest(".k-grid").find(".k-grid-content > table"):t.parent().hasClass("k-grid-header-locked")&&(t=t.closest(".k-grid").find(".k-grid-content-locked > table")));return t}(m),s&&(m.attr(r.attr("index"))?(v=m.closest("table"),_=v.find("tr:not(.k-filter-row)"),b=r.attr("index"),x=_.find("th["+b+"]:visible"),l=[].sort.call(x,(function(r,n){r=e(r),n=e(n);var o=r.attr(b);var i=n.attr(b);return o===t&&(o=e(r).index()),i===t&&(i=e(n).index()),(o=parseInt(o,10))>(i=parseInt(i,10))?1:o<i?-1:0})).index(m)):l=m.parent().children(":visible").index(m),l>-1&&s.find("col:not(.k-group-col):not(.k-hierarchy-col)").eq(l).toggleClass("k-sorted",o!==t))),m.toggleClass("k-sorted",o!==t),m.find(".k-i-sort-asc-small,.k-i-sort-desc-small,.k-svg-i-sort-asc-small,.k-svg-i-sort-desc-small,.k-sort-order,.k-sort-icon").remove(),o===a?(e('<span class="k-sort-icon">'+r.ui.icon("sort-asc-small")+"</span>").appendTo(k.link),m.attr(u,"ascending")):o===c?(e('<span class="k-sort-icon">'+r.ui.icon("sort-desc-small")+"</span>").appendTo(k.link),m.attr(u,"descending")):m.attr(u,"none"),k.options.showIndexes&&p.length>1&&f&&e('<span class="k-sort-order" />').html(f).appendTo(k.link)}},_toggleSortDirection:function(e){var r=this.directions;return e===r[r.length-1]&&this.options.allowUnsort?t:r[0]===e?r[1]:r[0]},_click:function(e){var n,o,a=this,c=a.element,f=c.attr(r.attr(d)),k=c.attr(r.attr(i)),u=a.options,p=null===a.options.compare?t:a.options.compare,m=a.dataSource.sort()||[],h=e.ctrlKey||e.metaKey;if(e.preventDefault(),(!u.filter||c.is(u.filter))&&(k=this._toggleSortDirection(k),!this.trigger("change",{sort:{field:f,dir:k,compare:p}}))){if(u.mode===s||u.mode===l&&!h)m=[{field:f,dir:k,compare:p}];else if("multiple"===u.mode||u.mode===l&&h){for(n=0,o=m.length;n<o;n++)if(m[n].field===f){m.splice(n,1);break}m.push({field:f,dir:k,compare:p})}this.dataSource.options.endless&&c.closest(".k-grid").getKendoGrid()._resetEndless(),this.dataSource.sort(m)}}});n.plugin(p)}(window.kendo.jQuery);var t=kendo;e.__meta__={id:"columnsorter",name:"Column Sorter",category:"framework",depends:["core","icons"],advanced:!0},e.default=t,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=kendo.columnsorter.min.js.map
