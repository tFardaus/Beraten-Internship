/**
 * Kendo UI v2025.3.1002 (http://www.telerik.com/kendo-ui)
 * Copyright 2025 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Kendo UI commercial licenses may be obtained at
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete
 * If you do not own a commercial license, this file shall be governed by the trial license terms.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("kendo.core.js"),require("kendo.buttongroup.js"),require("kendo.icons.js"),require("kendo.toolbar.js"),require("kendo.binder.js"),require("kendo.dropdownlist.js"),require("kendo.datepicker.js"),require("kendo.numerictextbox.js")):"function"==typeof define&&define.amd?define(["exports","kendo.core.min","kendo.buttongroup.min","kendo.icons.min","kendo.toolbar.min","kendo.binder.min","kendo.dropdownlist.min","kendo.datepicker.min","kendo.numerictextbox.min"],t):t(((e="undefined"!=typeof globalThis?globalThis:e||self).kendo=e.kendo||{},e.kendo._globals=e.kendo._globals||{},e.kendo._globals.Filter={}))}(this,(function(e){var t={number:0,boolean:!1,string:"",date:""};var o=({mainFilterLogicLabel:e,uid:t})=>`<div class='k-filter-toolbar'><div class='k-toolbar' aria-label='${e}' id='${t}'></div></div>`;var i=({filterLogicLabel:e})=>`<li class='k-filter-item' role='treeitem'><div class='k-filter-toolbar'><div role='toolbar' aria-label='${e}' class='k-toolbar'></div></div></li>`;var r=({filterExpressionLabel:e,uid:t})=>`<li class='k-filter-item' role='treeitem'><div class='k-filter-toolbar'><div role='group' aria-label='${e}' class='k-toolbar' id='${t}'></div></div></li>`;!function(e){var a=window.kendo,s=a.ui,l=a.guid,n=a.ns,d=a.keys,p=s.Widget,f=s.ButtonGroup,u=":kendoFocusable",c="change",m="tabindex",v=".kendoFilter",b="Is equal to",g="Is not equal to";var h={number:function(t,{field:o}){e(`<input tabindex='-1' id='${l()}' type='text' aria-label='${o}' title='${o}' data-${n}role='numerictextbox' data-${n}bind='value: value'/>`).appendTo(t)},string:function(t,{field:o}){e(`<span class='k-textbox k-input k-input-md k-rounded-md k-input-solid'><input tabindex='-1' id='${l()}' type='text' aria-label='${o}' title='${o}' class='k-input-inner' data-${a.ns}bind='value: value'/></span>`).appendTo(t)},boolean:function(t,{field:o}){e(`<input tabindex='-1' id='${l()}' class='k-checkbox k-checkbox-md k-rounded-md' aria-label='${o}' data-${n}role='checkbox' data-${n}bind='checked: value' type='checkbox'>`).appendTo(t)},date:function(t,{field:o}){e(`<input tabindex='-1' id='${l()}' type='text' aria-label='${o}' title='${o}' data-${n}role='datepicker' data-${n}bind='value: value'/>`).appendTo(t)}};var k=f.extend({init:function(e,t){f.fn.init.call(this,e,t)},options:{name:"FilterButtonGroup"},value:function(e){if(void 0===e)return this._value;this._value=e,f.fn._select.call(this,this.wrapper.find("[value='"+e+"']")),this.trigger(c)},_select:function(t){-1!==t&&this.value(e(t).attr("value"))}});var _=p.extend({init:function(t,o){var i=this;var r;p.fn.init.call(i,t,o),i.element=e(t).addClass("k-filter"),i.dataSource=o.dataSource,i.operators=e.extend(i.options.operators,o.operators),i._getFieldsInfo(),i._modelChangeHandler=i._modelChange.bind(i),i._renderMain(),o.expression&&i._addExpressionTree(i.filterModel),i._renderApplyButton(),i.options.expressionPreview&&(i._previewContainer||(i._previewContainer=e('<div class="k-filter-preview"></div>').insertAfter(i.element.children().eq(0))),r=i._createPreview(i.filterModel.toJSON()),i._previewContainer.html(r)),i._attachEvents(),i.hasCustomOperators();var a=e(i.element).find(".k-filter-toolbar > .k-toolbar");a.attr(m,-1),a.find(u).attr(m,-1),a.eq(0).attr(m,0)},events:[c],options:{name:"Filter",dataSource:null,expression:null,applyButton:!1,fields:[],mainLogic:"and",messages:{and:"And",or:"Or",apply:"Apply",close:"Close",addExpression:"Add Expression",fields:"Fields",filterExpressionLabel:"filter expression",filterLogicLabel:"filter logic",filterAriaLabel:"filter component",mainFilterLogicLabel:"main filter logic",operators:"Operators",addGroup:"Add Group"},operators:{string:{eq:b,neq:g,startswith:"Starts with",contains:"Contains",doesnotcontain:"Does not contain",endswith:"Ends with",isnull:"Is null",isnotnull:"Is not null",isempty:"Is empty",isnotempty:"Is not empty",isnullorempty:"Has no value",isnotnullorempty:"Has value"},number:{eq:b,neq:g,gte:"Is greater than or equal to",gt:"Is greater than",lte:"Is less than or equal to",lt:"Is less than",isnull:"Is null",isnotnull:"Is not null"},date:{eq:b,neq:g,gte:"Is after or equal to",gt:"Is after",lte:"Is before or equal to",lt:"Is before",isnull:"Is null",isnotnull:"Is not null"},boolean:{eq:b,neq:g}}},applyFilter:function(){var e=this.filterModel.toJSON();this._hasCustomOperators&&this._mapOperators(e),this.dataSource&&(this._hasFieldsFilter(e.filters||[])?(this._removeEmptyGroups(e.filters),this.dataSource.filter(e)):this.dataSource.filter({}))},destroy:function(){this.element.off(v),a.destroy(this.element.find(".k-filter-group-main")),this._previewContainer=null,this._applyButton=null,this._modelChangeHandler=null,p.fn.destroy.call(this)},setOptions:function(e){a.deepExtend(this.options,e),this.destroy(),this.element.empty(),this.init(this.element,this.options)},getOptions:function(){var t=e.extend(!0,{},this.options);return delete t.dataSource,t.expression=this.filterModel.toJSON(),t},_addExpressionTree:function(e){if(e.filters){var t=this.element.find("[id="+e.uid+"]");for(var o=0;o<e.filters.length;o++)e.filters[o].logic?this._addGroup(t,e.filters[o]):this._addExpression(t,e.filters[o]),e.filters[o].filters&&this._addExpressionTree(e.filters[o])}},_click:function(t){var o=this;t.preventDefault();var i=e(t.currentTarget);var r=i.data("command");"x"==r?o._removeExpression(i.closest(".k-toolbar")):"expression"==r?o._addExpression(i.closest(".k-toolbar")):"group"==r?o._addGroup(i.closest(".k-toolbar")):"apply"==r&&o.applyFilter()},_keydown:function(t){var o=this,i=e(t.target),r=t.keyCode;var a=i.closest(".k-toolbar");var s=i.is(".k-toolbar");if(r===d.UP&&s)t.preventDefault(),o._focusToolbar(a,"prev");else if(r==d.DOWN&&s)t.preventDefault(),o._focusToolbar(a,"next");else if(r==d.ESC)t.stopPropagation(),o._focusToolbar(a);else if(r==d.ENTER&&s){a.find(".k-toolbar-item").eq(0).attr(m,0).trigger("focus")}},_attachEvents:function(){var e=this,t=e._click.bind(e),o=e._keydown.bind(e);e.element.on("click"+v,"button.k-button",t).on("keydown"+v,".k-filter-toolbar > .k-toolbar, .k-filter-toolbar > .k-toolbar .k-toolbar-item",o)},_focusToolbar:function(t,o,i){var r=t;var a=e(this.element).find(".k-filter-toolbar > .k-toolbar");if(a.attr(m,-1),a.find(u).attr(m,-1),"next"==o){let e=Math.min(a.length-1,i||a.index(t)+1);r=a.eq(e)}else if("prev"==o){let e=Math.max(0,i||a.index(t)-1);r=a.eq(e)}r.attr(m,0).trigger("focus")},_addExpression:function(t,o){var i=this;var s=t.attr("id");var l=t.closest(".k-filter-toolbar").next("ul.k-filter-lines");var d=o?i._fields[o.field]:i._defaultField;var p;var f="";o?p=o:((p=y(i.filterModel,s)).filters||p.set("filters",[]),p=i._addNewModel(p.filters,d)),l.length||(l=e("<ul class='k-filter-lines' role='group'></ul>").appendTo(t.closest("li")));var u={fields:i._fields,operators:i.operators[d.type],close:i.options.messages.close,fieldsLabel:i.options.messages.fields,uid:p.uid,ns:a.ns,filterExpressionLabel:i.options.messages.filterExpressionLabel};var c=(f=e(a.template(r)(u)).appendTo(l)).find(".k-toolbar").first();var m=d.operators&&d.operators[d.type]?d.operators[d.type]:this.operators[d.type];c.kendoToolBar({resizable:!1,items:[{type:"component",component:"DropDownList",element:`<select data-${n}bind="value: field" title='${i.options.messages.fields}' aria-label='${i.options.messages.fields}' data-auto-width='true'></select>`,attributes:{class:"k-filter-field"},componentOptions:{title:i.options.messages.fields,dataTextField:"text",dataValueField:"value",dataSource:Object.keys(i._fields||{}).map((e=>({value:i._fields[e].name,text:i._fields[e].label})))}},{type:"component",component:"DropDownList",element:`<select data-${n}bind="value: operator" aria-label='${i.options.messages.operators}' title='${i.options.messages.operators}'></select>`,attributes:{class:"k-filter-operator"},componentOptions:{title:i.options.messages.operators,dataTextField:"text",dataValueField:"value",dataSource:Object.keys(m||{}).map((e=>({value:e,text:m[e].text||m[e]})))}},{attributes:{class:"k-filter-value"},template:" "},{type:"button",icon:"x",fillMode:"flat",attributes:{"data-command":"x",title:u.close,"aria-label":u.close}}]}),i._addExpressionControls(f.find(".k-toolbar"),d,p),o||i._expressionChange()},_addExpressionControls:function(e,t,o){var i=e.find(".k-toolbar-item.k-filter-operator");var r=e.find(".k-toolbar-item.k-filter-value");r.attr("ref-toolbar-tool",""),a.destroy(r),r.empty(),this._bindOperators(i,t),this._appendEditor(r,t),this._bindModel(e,o),this._showHideEditor(e,o),e.find(u).attr(m,-1)},_bindOperators:function(e,t){var o=t.operators&&t.operators[t.type]?t.operators[t.type]:this.operators[t.type];var i=e.find("select[data-role=dropdownlist]").getKendoDropDownList();i&&i.setDataSource(Object.keys(o||{}).map((e=>({value:e,text:o[e].text||o[e]}))))},_appendEditor:function(t,o){a.isFunction(o.editor)?o.editor(t,e.extend(!0,{},{field:o.name})):e(a.template(o.editor)({ns:a.ns,field:o.name,id:a.guid()})).appendTo(t)},_addNewModel:function(e,t){var o;var i=t.type;var r=t.operators;var a;return r||(r=this.options.operators),a=Object.keys(r[i])[0],e.push({field:t.name}),(o=e[e.length-1]).set("value",t.defaultValue),o.set("operator",a),o},_addGroup:function(t,o){let r,s=this,l=s.filterModel,n=t.attr("id"),d=t.closest(".k-filter-toolbar").next("ul.k-filter-lines");o?l=o:(l=y(l,n),l.filters||l.set("filters",[]),l.filters.push({logic:s.options.mainLogic}),l=l.filters[l.filters.length-1]),d.length||(d=e("<ul class='k-filter-lines' role='group'></ul>").appendTo(t.closest("li")));let p={operators:{and:s.options.messages.and,or:s.options.messages.or},addExpression:s.options.messages.addExpression,addGroup:s.options.messages.addGroup,close:s.options.messages.close,ns:a.ns,filterLogicLabel:s.options.messages.filterLogicLabel,filterModel:l};r=e(a.template(i)(p)).appendTo(d);let f=r.find(".k-toolbar");s._initGroupToolBar(f,p),s._bindModel(f,l),o||s._expressionChange()},_bindModel:function(e,t){e.attr("id",t.uid),t.bind("change",this._modelChangeHandler),a.bind(e,t),e.parent().attr(a.attr("stop"),!0)},_createPreview:function(e){var t="";var o=!1;var i=this._hasFieldsFilter(e.filters||[]);var r="";var s;var l;if(!e.filters||!e.filters.length||!i)return"";t+='<span class="k-filter-preview-bracket">(</span>';for(var n=0;n<e.filters.length;n++)(s=e.filters[n]).filters&&((r=this._createPreview(s))&&(o&&(t+='<span class="k-filter-preview-operator"> '+e.logic.toLocaleUpperCase()+" </span>"),o=!0),t+=r),s.field&&(l=this._fields[s.field],o&&(t+='<span class="k-filter-preview-operator"> '+e.logic.toLocaleUpperCase()+" </span>"),o=!0,t+='<span class="k-filter-preview-field">'+l.label+"</span>",t+='<span class="k-filter-preview-criteria"> '+this._getOperatorText(s.field,s.operator),s.operator.indexOf("is")<0?(t+=" </span>",t+="<span class='k-filter-preview-value'>'"+a.htmlEncode(l.previewFormat?a.toString(s.value,l.previewFormat):s.value)+"'</span>"):t+="</span>");return t+='<span class="k-filter-preview-bracket">)</span>'},_expressionChange:function(){var e=this;var t=e.filterModel.toJSON();var o="";e.options.expressionPreview&&(o=e._createPreview(t),e._previewContainer.html(o)),e.trigger(c,{expression:t})},_getOperatorText:function(e,t){var o=this._fields[e].type;var i=this._fields[e].operators;return i||(i=this.options.operators),i[o][t].text||i[o][t]},_addField:function(o,i){var r=this;o=e.extend(!0,{},{name:o.name||i,editor:o.editorTemplate||h[o.type||"string"],defaultValue:o.defaultValue||!1===o.defaultValue||0===o.defaultValue?o.defaultValue:t[o.type||"string"],type:o.type||"string",label:o.label||o.name||i,operators:o.operators,previewFormat:o.previewFormat}),r._fields[o.name]=o,r._defaultField||(r._defaultField=o)},_getFieldsInfo:function(){var e=this;var t=e.options.fields.length?e.options.fields:(e.options.dataSource.options.schema.model||{}).fields;var o;if(e._fields={},Array.isArray(t))for(var i=0;i<t.length;i++)o=t[i],e._addField(o);else for(var r in t)o=t[r],e._addField(o,r)},_hasFieldsFilter:function(e,t){t=!!t;for(var o=0;o<e.length;o++)if(e[o].filters&&(t=this._hasFieldsFilter(e[o].filters,t)),e[o].field)return!0;return t},_removeEmptyGroups:function(e){if(e)for(var t=e.length-1;t>=0;t--)e[t].logic&&!e[t].filters||e[t].filters&&!this._hasFieldsFilter(e[t].filters)?e.splice(t,1):e[t].filters&&this._removeEmptyGroups(e[t].filters)},_modelChange:function(e){var t=this;var o=t.element.find("[id="+e.sender.uid+"]");if(t._showHideEditor(o,e.sender),"field"===e.field){var i=e.sender.field;var r=e.sender.parent();var a=t._fields[i];var s=t._addNewModel(r,a);e.sender.unbind("change",t._modelChangeHandler),r.remove(e.sender),t._addExpressionControls(o,a,s),t._expressionChange()}else"filters"!==e.field&&t._expressionChange()},_renderMain:function(){let t=this;var i;e((i=t.options.messages.filterAriaLabel,`<ul class='k-filter-container' role='tree' aria-label='${i}'><li class='k-filter-group-main' role='treeitem'></li></ul>`)).appendTo(t.element),t.options.expression?t.filterModel=a.observable(t.options.expression):t.filterModel=a.observable({logic:t.options.mainLogic});let r={operators:{and:t.options.messages.and,or:t.options.messages.or},addExpression:t.options.messages.addExpression,addGroup:t.options.messages.addGroup,close:t.options.messages.close,uid:t.filterModel.uid,ns:a.ns,mainFilterLogicLabel:t.options.messages.mainFilterLogicLabel,filterModel:t.filterModel};let s=e(a.template(o)(r));s.appendTo(t.element.find("li").first());let l=s.find(".k-toolbar").first();t._initGroupToolBar(l,r),t._bindModel(l,t.filterModel)},_initGroupToolBar:function(t,o){let i=this;t.kendoToolBar({resizable:!1,toggle:function(t){let o=e(t.target).closest(".k-toolbar").attr("id"),r=y(i.filterModel,o);r&&r.set("logic",e(t.target).data("logic"))},items:[{type:"buttonGroup",selection:"single",buttons:[{text:i.options.messages.and,group:"mainlogic",togglable:!0,selected:"and"===o.filterModel.get("logic"),attributes:{"data-logic":"and"}},{text:i.options.messages.or,group:"mainlogic",togglable:!0,selected:"or"===o.filterModel.get("logic"),attributes:{"data-logic":"or"}}]},{type:"button",icon:"filter-add-expression",attributes:{"data-command":"expression",title:o.addExpression,"aria-label":o.addExpression}},{type:"button",icon:"filter-add-group",attributes:{"data-command":"group",title:o.addGroup,"aria-label":o.addGroup}},{type:"button",icon:"x",fillMode:"flat",attributes:{"data-command":"x",title:o.close,"aria-label":o.close}}]})},_removeExpression:function(t){var o=this;var i=t.attr("id");var r=t.closest("li");var s;var l;var n=-1;if(r.hasClass("k-filter-group-main"))r=r.find(".k-filter-lines"),o.filterModel.filters&&(o.filterModel.filters.empty(),delete o.filterModel.filters);else{n=e(o.element).find(".k-filter-toolbar > .k-toolbar").index(t),s=(l=y(o.filterModel,i)).parent(),l.unbind("change",o._modelChangeHandler),s.remove(l),s.length||delete s.parent().filters,r.siblings().length||(r=r.parent())}a.destroy(r),r.remove(),o._expressionChange(),n>-1&&o._focusToolbar(t,"next",n)},_renderApplyButton:function(){var t=this;t.options.applyButton&&(t._applyButton||(t._applyButton=e(a.format('<button type="button" data-command="apply" aria-label="{0}" title="{0}" class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-filter-apply"><span class="k-button-text">{0}</span></button>',t.options.messages.apply)).appendTo(t.element)))},_showHideEditor:function(e,t){if(!t.logic){var o=t.operator;var i=e.find(".k-toolbar-item.k-filter-value");"isnull"==o||"isnotnull"==o||"isempty"==o||"isnotempty"==o||"isnullorempty"==o||"isnotnullorempty"==o?i.hide():i.show()}},_mapOperators:function(e){var t=this;e.filters&&e.filters.forEach((function(e){if(e.filters)t._mapOperators(e);else{var o;var i=t._fields[e.field];var r=i.type;(o=i.operators&&i.operators[r][e.operator]?i.operators[r][e.operator]:t.operators[r][e.operator])&&(e.operator=o.handler||e.operator)}}))},hasCustomOperators:function(){var t=e.extend(!0,{},this.operators);for(var o in this._fields)t=e.extend(!0,{},t,this._fields[o].operators);this._hasCustomOperators=x(t)}});function x(e){for(var t in e){var o=e[t];if(o.handler&&"function"==typeof o.handler||"object"==typeof o&&null!==o&&x(o))return!0}return!1}function y(e,t){if(e.uid===t)return e;if(e.filters)for(var o=0;o<e.filters.length;o++){var i=y(e.filters[o],t);if(i)return i}}s.plugin(_),s.plugin(k)}(window.kendo.jQuery);var a=kendo;e.__meta__={id:"filter",name:"Filter",category:"web",depends:["core","buttongroup","icons","toolbar"]},e.default=a,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=kendo.filter.min.js.map
